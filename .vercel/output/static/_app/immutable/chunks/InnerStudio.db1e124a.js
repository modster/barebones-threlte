import{s as fle,c as ple,u as hle,d as mle,e as gle}from"./scheduler.d10c18d3.js";import{S as vle,i as yle,d as ble,t as kle}from"./index.0e3523c9.js";import{d as je,s as cq,w as wle}from"./3.7b9a4555.js";import{b as xle,c as Zn}from"./_commonjsHelpers.2bf1a50d.js";import{w as Sle}from"./index.ea8823cf.js";function B0(Ft){throw new Error('Could not dynamically require "'+Ft+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var M0={exports:{}};M0.exports;(function(Ft,Wt){var ti=Object.create,Ht=Object.freeze,kt=Object.defineProperty,fr=Object.defineProperties,Nd=Object.getOwnPropertyDescriptor,un=Object.getOwnPropertyDescriptors,N0=Object.getOwnPropertyNames,Fd=Object.getOwnPropertySymbols,fq=Object.getPrototypeOf,F0=Object.prototype.hasOwnProperty,f2=Object.prototype.propertyIsEnumerable,R0=(e,t)=>{if(t=Symbol[e])return t;throw Error("Symbol."+e+" is not defined")},U0=(e,t,n)=>t in e?kt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,L=(e,t)=>{for(var n in t||(t={}))F0.call(t,n)&&U0(e,n,t[n]);if(Fd)for(var n of Fd(t))f2.call(t,n)&&U0(e,n,t[n]);return e},he=(e,t)=>fr(e,un(t)),Js=(e,t)=>{var n={};for(var o in e)F0.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&Fd)for(var o of Fd(e))t.indexOf(o)<0&&f2.call(e,o)&&(n[o]=e[o]);return n},P=(e,t)=>()=>(e&&(t=e(e=0)),t),Ke=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),p2=(e,t)=>{for(var n in t)kt(e,n,{get:t[n],enumerable:!0})},h2=(e,t,n,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of N0(t))!F0.call(e,a)&&a!==n&&kt(e,a,{get:()=>t[a],enumerable:!(o=Nd(t,a))||o.enumerable});return e},$=(e,t,n)=>(n=e!=null?ti(fq(e)):{},h2(t||!e||!e.__esModule?kt(n,"default",{value:e,enumerable:!0}):n,e)),pq=e=>h2(kt({},"__esModule",{value:!0}),e),et=(e,t,n)=>(U0(e,typeof t!="symbol"?t+"":t,n),n),F=(e,t)=>Ht(kt(e,"raw",{value:Ht(t||e.slice())})),qt=(e,t,n)=>new Promise((o,a)=>{var l=d=>{try{u(n.next(d))}catch(f){a(f)}},s=d=>{try{u(n.throw(d))}catch(f){a(f)}},u=d=>d.done?o(d.value):Promise.resolve(d.value).then(l,s);u((n=n.apply(e,t)).next())}),hq=function(e,t){this[0]=e,this[1]=t},mq=e=>{var t=e[R0("asyncIterator")],n=!1,o,a={};return t==null?(t=e[R0("iterator")](),o=l=>a[l]=s=>t[l](s)):(t=t.call(e),o=l=>a[l]=s=>{if(n){if(n=!1,l==="throw")throw s;return s}return n=!0,{done:!1,value:new hq(new Promise(u=>{var d=t[l](s);if(!(d instanceof Object))throw TypeError("Object expected");u(d)}),1)}}),a[R0("iterator")]=()=>a,o("next"),"throw"in t?o("throw"):a.throw=l=>{throw l},"return"in t&&o("return"),a};function gq(e){m2=e}function de(){return m2}var m2,Me=P(()=>{});function Rd(e,t,n=[]){if(typeof e=="object"&&e){if(g2(e)||v2(e)){t(e,n);return}for(let[o,a]of Object.entries(e))Rd(a,t,[...n,o])}else{if(e==null)return;t(e,n)}}var g2,v2,V0=P(()=>{g2=e=>typeof e=="object"&&e!==null&&Object.hasOwnProperty.call(e,"type")&&e.type==="image"&&Object.hasOwnProperty.call(e,"id")&&typeof e.id=="string"&&e.id!=="",v2=e=>typeof e=="object"&&e!==null&&Object.hasOwnProperty.call(e,"r")&&Object.hasOwnProperty.call(e,"g")&&Object.hasOwnProperty.call(e,"b")&&Object.hasOwnProperty.call(e,"a")&&typeof e.r=="number"&&typeof e.g=="number"&&typeof e.b=="number"&&typeof e.a=="number"});function na(e){return t=>typeof t=="object"&&!!t&&t.type===e}var K0,Ud,y2,pr,b2,W0,H0,ra=P(()=>{K0=na("Theatre_Project"),Ud=na("Theatre_Sheet"),y2=na("Theatre_SheetTemplate"),pr=na("Theatre_SheetObject"),b2=na("Theatre_SheetObjectTemplate"),W0=na("Theatre_Sheet_PublicAPI"),H0=na("Theatre_SheetObject_PublicAPI")}),k2,q0,w2=P(()=>{k2=typeof Zn=="object"&&Zn&&Zn.Object===Object&&Zn,q0=k2}),x2,S2,Gn,hr=P(()=>{w2(),x2=typeof self=="object"&&self&&self.Object===Object&&self,S2=q0||x2||Function("return this")(),Gn=S2}),E2,mr,eu=P(()=>{hr(),E2=Gn.Symbol,mr=E2});function vq(e){var t=_2.call(e,ml),n=e[ml];try{e[ml]=void 0;var o=!0}catch{}var a=P2.call(e);return o&&(t?e[ml]=n:delete e[ml]),a}var $0,_2,P2,ml,C2,yq=P(()=>{eu(),$0=Object.prototype,_2=$0.hasOwnProperty,P2=$0.toString,ml=mr?mr.toStringTag:void 0,C2=vq});function bq(e){return j2.call(e)}var I2,j2,O2,kq=P(()=>{I2=Object.prototype,j2=I2.toString,O2=bq});function wq(e){return e==null?e===void 0?z2:T2:L0&&L0 in Object(e)?C2(e):O2(e)}var T2,z2,L0,ni,gl=P(()=>{eu(),yq(),kq(),T2="[object Null]",z2="[object Undefined]",L0=mr?mr.toStringTag:void 0,ni=wq});function xq(e){return e!=null&&typeof e=="object"}var ri,vl=P(()=>{ri=xq});function Sq(e){return typeof e=="symbol"||ri(e)&&ni(e)==D2}var D2,oa,tu=P(()=>{gl(),vl(),D2="[object Symbol]",oa=Sq});function Eq(e,t){for(var n=-1,o=e==null?0:e.length,a=Array(o);++n<o;)a[n]=t(e[n],n,e);return a}var yl,X0=P(()=>{yl=Eq}),A2,Nn,gr=P(()=>{A2=Array.isArray,Nn=A2});function B2(e){if(typeof e=="string")return e;if(Nn(e))return yl(e,B2)+"";if(oa(e))return G0?G0.call(e):"";var t=e+"";return t=="0"&&1/e==-M2?"-0":t}var M2,Z0,G0,N2,_q=P(()=>{eu(),X0(),gr(),tu(),M2=1/0,Z0=mr?mr.prototype:void 0,G0=Z0?Z0.toString:void 0,N2=B2});function Pq(e){for(var t=e.length;t--&&F2.test(e.charAt(t)););return t}var F2,R2,Cq=P(()=>{F2=/\s/,R2=Pq});function Iq(e){return e&&e.slice(0,R2(e)+1).replace(U2,"")}var U2,V2,jq=P(()=>{Cq(),U2=/^\s+/,V2=Iq});function Oq(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Hr,ia=P(()=>{Hr=Oq});function Tq(e){if(typeof e=="number")return e;if(oa(e))return Y0;if(Hr(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Hr(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=V2(e);var n=W2.test(e);return n||H2.test(e)?q2(e.slice(2),n?2:8):K2.test(e)?Y0:+e}var Y0,K2,W2,H2,q2,xo,nu=P(()=>{jq(),ia(),tu(),Y0=0/0,K2=/^[-+]0x[0-9a-f]+$/i,W2=/^0b[01]+$/i,H2=/^0o[0-7]+$/i,q2=parseInt,xo=Tq});function zq(e){if(!e)return e===0?e:0;if(e=xo(e),e===Q0||e===-Q0){var t=e<0?-1:1;return t*$2}return e===e?e:0}var Q0,$2,Vd,L2=P(()=>{nu(),Q0=1/0,$2=17976931348623157e292,Vd=zq});function Dq(e){var t=Vd(e),n=t%1;return t===t?n?t-n:t:0}var ru,Kd=P(()=>{L2(),ru=Dq});function Aq(e){return e}var ou,Wd=P(()=>{ou=Aq});function Bq(e){if(!Hr(e))return!1;var t=ni(e);return t==Z2||t==G2||t==X2||t==Y2}var X2,Z2,G2,Y2,J0,Q2=P(()=>{gl(),ia(),X2="[object AsyncFunction]",Z2="[object Function]",G2="[object GeneratorFunction]",Y2="[object Proxy]",J0=Bq}),J2,Hd,Mq=P(()=>{hr(),J2=Gn["__core-js_shared__"],Hd=J2});function Nq(e){return!!eg&&eg in e}var eg,eS,Fq=P(()=>{Mq(),eg=function(){var e=/[^.]+$/.exec(Hd&&Hd.keys&&Hd.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),eS=Nq});function Rq(e){if(e!=null){try{return nS.call(e)}catch{}try{return e+""}catch{}}return""}var tS,nS,oi,rS=P(()=>{tS=Function.prototype,nS=tS.toString,oi=Rq});function Uq(e){if(!Hr(e)||eS(e))return!1;var t=J0(e)?cS:iS;return t.test(oi(e))}var oS,iS,aS,lS,sS,uS,cS,dS,Vq=P(()=>{Q2(),Fq(),ia(),rS(),oS=/[\\^$.*+?()[\]{}|]/g,iS=/^\[object .+?Constructor\]$/,aS=Function.prototype,lS=Object.prototype,sS=aS.toString,uS=lS.hasOwnProperty,cS=RegExp("^"+sS.call(uS).replace(oS,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),dS=Uq});function Kq(e,t){return e==null?void 0:e[t]}var fS,Wq=P(()=>{fS=Kq});function Hq(e,t){var n=fS(e,t);return dS(n)?n:void 0}var ii,aa=P(()=>{Vq(),Wq(),ii=Hq}),pS,qd,qq=P(()=>{aa(),hr(),pS=ii(Gn,"WeakMap"),qd=pS});function $q(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var hS,Lq=P(()=>{hS=$q});function Xq(){}var mS,Zq=P(()=>{mS=Xq});function Gq(e,t){var n=-1,o=e.length;for(t||(t=Array(o));++n<o;)t[n]=e[n];return t}var gS,Yq=P(()=>{gS=Gq});function Qq(e){var t=0,n=0;return function(){var o=bS(),a=yS-(o-n);if(n=o,a>0){if(++t>=vS)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var vS,yS,bS,kS,Jq=P(()=>{vS=800,yS=16,bS=Date.now,kS=Qq});function e$(e){return function(){return e}}var wS,t$=P(()=>{wS=e$}),xS,iu,SS=P(()=>{aa(),xS=function(){try{var e=ii(Object,"defineProperty");return e({},"",{}),e}catch{}}(),iu=xS}),ES,_S,n$=P(()=>{t$(),SS(),Wd(),ES=iu?function(e,t){return iu(e,"toString",{configurable:!0,enumerable:!1,value:wS(t),writable:!0})}:ou,_S=ES}),PS,CS,r$=P(()=>{n$(),Jq(),PS=kS(_S),CS=PS});function o$(e,t,n,o){for(var a=e.length,l=n+(o?1:-1);o?l--:++l<a;)if(t(e[l],l,e))return l;return-1}var $d,tg=P(()=>{$d=o$});function i$(e){return e!==e}var IS,a$=P(()=>{IS=i$});function l$(e,t,n){for(var o=n-1,a=e.length;++o<a;)if(e[o]===t)return o;return-1}var jS,s$=P(()=>{jS=l$});function u$(e,t,n){return t===t?jS(e,t,n):$d(e,IS,n)}var ng,OS=P(()=>{tg(),a$(),s$(),ng=u$});function c$(e,t){var n=e==null?0:e.length;return!!n&&ng(e,t,0)>-1}var TS,d$=P(()=>{OS(),TS=c$});function f$(e,t){var n=typeof e;return t=t??zS,!!t&&(n=="number"||n!="symbol"&&DS.test(e))&&e>-1&&e%1==0&&e<t}var zS,DS,au,Ld=P(()=>{zS=9007199254740991,DS=/^(?:0|[1-9]\d*)$/,au=f$});function p$(e,t,n){t=="__proto__"&&iu?iu(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Xd,rg=P(()=>{SS(),Xd=p$});function h$(e,t){return e===t||e!==e&&t!==t}var lu,Zd=P(()=>{lu=h$});function m$(e,t,n){var o=e[t];(!(BS.call(e,t)&&lu(o,n))||n===void 0&&!(t in e))&&Xd(e,t,n)}var AS,BS,MS,g$=P(()=>{rg(),Zd(),AS=Object.prototype,BS=AS.hasOwnProperty,MS=m$});function v$(e,t,n){return t=og(t===void 0?e.length-1:t,0),function(){for(var o=arguments,a=-1,l=og(o.length-t,0),s=Array(l);++a<l;)s[a]=o[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=o[a];return u[t]=n(s),hS(e,this,u)}}var og,NS,y$=P(()=>{Lq(),og=Math.max,NS=v$});function b$(e,t){return CS(NS(e,t,ou),e+"")}var ig,FS=P(()=>{Wd(),y$(),r$(),ig=b$});function k$(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=RS}var RS,Gd,ag=P(()=>{RS=9007199254740991,Gd=k$});function w$(e){return e!=null&&Gd(e.length)&&!J0(e)}var su,Yd=P(()=>{Q2(),ag(),su=w$});function x$(e,t,n){if(!Hr(n))return!1;var o=typeof t;return(o=="number"?su(n)&&au(t,n.length):o=="string"&&t in n)?lu(n[t],e):!1}var lg,S$=P(()=>{Zd(),Yd(),Ld(),ia(),lg=x$});function E$(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||US;return e===n}var US,VS,_$=P(()=>{US=Object.prototype,VS=E$});function P$(e,t){for(var n=-1,o=Array(e);++n<e;)o[n]=t(n);return o}var KS,C$=P(()=>{KS=P$});function I$(e){return ri(e)&&ni(e)==WS}var WS,sg,j$=P(()=>{gl(),vl(),WS="[object Arguments]",sg=I$}),ug,HS,qS,$S,Qd,cg=P(()=>{j$(),vl(),ug=Object.prototype,HS=ug.hasOwnProperty,qS=ug.propertyIsEnumerable,$S=sg(function(){return arguments}())?sg:function(e){return ri(e)&&HS.call(e,"callee")&&!qS.call(e,"callee")},Qd=$S});function O$(){return!1}var LS,T$=P(()=>{LS=O$}),dg,fg,XS,pg,ZS,GS,Jd,YS=P(()=>{hr(),T$(),dg=Wt&&!Wt.nodeType&&Wt,fg=dg&&!0&&Ft&&!Ft.nodeType&&Ft,XS=fg&&fg.exports===dg,pg=XS?Gn.Buffer:void 0,ZS=pg?pg.isBuffer:void 0,GS=ZS||LS,Jd=GS});function z$(e){return ri(e)&&Gd(e.length)&&!!dt[ni(e)]}var QS,JS,eE,tE,nE,rE,oE,iE,aE,lE,sE,uE,cE,dE,fE,pE,hE,mE,gE,vE,yE,bE,kE,wE,dt,xE,D$=P(()=>{gl(),ag(),vl(),QS="[object Arguments]",JS="[object Array]",eE="[object Boolean]",tE="[object Date]",nE="[object Error]",rE="[object Function]",oE="[object Map]",iE="[object Number]",aE="[object Object]",lE="[object RegExp]",sE="[object Set]",uE="[object String]",cE="[object WeakMap]",dE="[object ArrayBuffer]",fE="[object DataView]",pE="[object Float32Array]",hE="[object Float64Array]",mE="[object Int8Array]",gE="[object Int16Array]",vE="[object Int32Array]",yE="[object Uint8Array]",bE="[object Uint8ClampedArray]",kE="[object Uint16Array]",wE="[object Uint32Array]",dt={},dt[pE]=dt[hE]=dt[mE]=dt[gE]=dt[vE]=dt[yE]=dt[bE]=dt[kE]=dt[wE]=!0,dt[QS]=dt[JS]=dt[dE]=dt[eE]=dt[fE]=dt[tE]=dt[nE]=dt[rE]=dt[oE]=dt[iE]=dt[aE]=dt[lE]=dt[sE]=dt[uE]=dt[cE]=!1,xE=z$});function A$(e){return function(t){return e(t)}}var ef,hg=P(()=>{ef=A$}),mg,bl,SE,tf,EE,gg,B$=P(()=>{w2(),mg=Wt&&!Wt.nodeType&&Wt,bl=mg&&!0&&Ft&&!Ft.nodeType&&Ft,SE=bl&&bl.exports===mg,tf=SE&&q0.process,EE=function(){try{var e=bl&&bl.require&&bl.require("util").types;return e||tf&&tf.binding&&tf.binding("util")}catch{}}(),gg=EE}),vg,_E,yg,PE=P(()=>{D$(),hg(),B$(),vg=gg&&gg.isTypedArray,_E=vg?ef(vg):xE,yg=_E});function M$(e,t){var n=Nn(e),o=!n&&Qd(e),a=!n&&!o&&Jd(e),l=!n&&!o&&!a&&yg(e),s=n||o||a||l,u=s?KS(e.length,String):[],d=u.length;for(var f in e)(t||IE.call(e,f))&&!(s&&(f=="length"||a&&(f=="offset"||f=="parent")||l&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||au(f,d)))&&u.push(f);return u}var CE,IE,jE,N$=P(()=>{C$(),cg(),gr(),YS(),Ld(),PE(),CE=Object.prototype,IE=CE.hasOwnProperty,jE=M$});function F$(e,t){return function(n){return e(t(n))}}var bg,OE=P(()=>{bg=F$}),TE,zE,R$=P(()=>{OE(),TE=bg(Object.keys,Object),zE=TE});function U$(e){if(!VS(e))return zE(e);var t=[];for(var n in Object(e))AE.call(e,n)&&n!="constructor"&&t.push(n);return t}var DE,AE,BE,V$=P(()=>{_$(),R$(),DE=Object.prototype,AE=DE.hasOwnProperty,BE=U$});function K$(e){return su(e)?jE(e):BE(e)}var nf,kg=P(()=>{N$(),V$(),Yd(),nf=K$});function W$(e,t){if(Nn(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||oa(e)?!0:NE.test(e)||!ME.test(e)||t!=null&&e in Object(t)}var ME,NE,rf,wg=P(()=>{gr(),tu(),ME=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,NE=/^\w*$/,rf=W$}),FE,kl,of=P(()=>{aa(),FE=ii(Object,"create"),kl=FE});function H$(){this.__data__=kl?kl(null):{},this.size=0}var RE,q$=P(()=>{of(),RE=H$});function $$(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var UE,L$=P(()=>{UE=$$});function X$(e){var t=this.__data__;if(kl){var n=t[e];return n===VE?void 0:n}return WE.call(t,e)?t[e]:void 0}var VE,KE,WE,HE,Z$=P(()=>{of(),VE="__lodash_hash_undefined__",KE=Object.prototype,WE=KE.hasOwnProperty,HE=X$});function G$(e){var t=this.__data__;return kl?t[e]!==void 0:$E.call(t,e)}var qE,$E,LE,Y$=P(()=>{of(),qE=Object.prototype,$E=qE.hasOwnProperty,LE=G$});function Q$(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=kl&&t===void 0?XE:t,this}var XE,ZE,J$=P(()=>{of(),XE="__lodash_hash_undefined__",ZE=Q$});function wl(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}var xg,eL=P(()=>{q$(),L$(),Z$(),Y$(),J$(),wl.prototype.clear=RE,wl.prototype.delete=UE,wl.prototype.get=HE,wl.prototype.has=LE,wl.prototype.set=ZE,xg=wl});function tL(){this.__data__=[],this.size=0}var GE,nL=P(()=>{GE=tL});function rL(e,t){for(var n=e.length;n--;)if(lu(e[n][0],t))return n;return-1}var uu,af=P(()=>{Zd(),uu=rL});function oL(e){var t=this.__data__,n=uu(t,e);if(n<0)return!1;var o=t.length-1;return n==o?t.pop():QE.call(t,n,1),--this.size,!0}var YE,QE,JE,iL=P(()=>{af(),YE=Array.prototype,QE=YE.splice,JE=oL});function aL(e){var t=this.__data__,n=uu(t,e);return n<0?void 0:t[n][1]}var e_,lL=P(()=>{af(),e_=aL});function sL(e){return uu(this.__data__,e)>-1}var t_,uL=P(()=>{af(),t_=sL});function cL(e,t){var n=this.__data__,o=uu(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}var n_,dL=P(()=>{af(),n_=cL});function xl(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}var cu,lf=P(()=>{nL(),iL(),lL(),uL(),dL(),xl.prototype.clear=GE,xl.prototype.delete=JE,xl.prototype.get=e_,xl.prototype.has=t_,xl.prototype.set=n_,cu=xl}),r_,Sl,Sg=P(()=>{aa(),hr(),r_=ii(Gn,"Map"),Sl=r_});function fL(){this.size=0,this.__data__={hash:new xg,map:new(Sl||cu),string:new xg}}var o_,pL=P(()=>{eL(),lf(),Sg(),o_=fL});function hL(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var i_,mL=P(()=>{i_=hL});function gL(e,t){var n=e.__data__;return i_(t)?n[typeof t=="string"?"string":"hash"]:n.map}var du,sf=P(()=>{mL(),du=gL});function vL(e){var t=du(this,e).delete(e);return this.size-=t?1:0,t}var a_,yL=P(()=>{sf(),a_=vL});function bL(e){return du(this,e).get(e)}var l_,kL=P(()=>{sf(),l_=bL});function wL(e){return du(this,e).has(e)}var s_,xL=P(()=>{sf(),s_=wL});function SL(e,t){var n=du(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}var u_,EL=P(()=>{sf(),u_=SL});function El(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}var fu,Eg=P(()=>{pL(),yL(),kL(),xL(),EL(),El.prototype.clear=o_,El.prototype.delete=a_,El.prototype.get=l_,El.prototype.has=s_,El.prototype.set=u_,fu=El});function _g(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(c_);var n=function(){var o=arguments,a=t?t.apply(this,o):o[0],l=n.cache;if(l.has(a))return l.get(a);var s=e.apply(this,o);return n.cache=l.set(a,s)||l,s};return n.cache=new(_g.Cache||fu),n}var c_,Pg,d_=P(()=>{Eg(),c_="Expected a function",_g.Cache=fu,Pg=_g});function _L(e){var t=Pg(e,function(o){return n.size===f_&&n.clear(),o}),n=t.cache;return t}var f_,p_,PL=P(()=>{d_(),f_=500,p_=_L}),h_,m_,g_,v_,CL=P(()=>{PL(),h_=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,m_=/\\(\\)?/g,g_=p_(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(h_,function(n,o,a,l){t.push(a?l.replace(m_,"$1"):o||n)}),t}),v_=g_});function IL(e){return e==null?"":N2(e)}var uf,y_=P(()=>{_q(),uf=IL});function jL(e,t){return Nn(e)?e:rf(e,t)?[e]:v_(uf(e))}var cf,Cg=P(()=>{gr(),wg(),CL(),y_(),cf=jL});function OL(e){if(typeof e=="string"||oa(e))return e;var t=e+"";return t=="0"&&1/e==-b_?"-0":t}var b_,_l,pu=P(()=>{tu(),b_=1/0,_l=OL});function TL(e,t){t=cf(t,e);for(var n=0,o=t.length;e!=null&&n<o;)e=e[_l(t[n++])];return n&&n==o?e:void 0}var df,Ig=P(()=>{Cg(),pu(),df=TL});function zL(e,t,n){var o=e==null?void 0:df(e,t);return o===void 0?n:o}var la,hu=P(()=>{Ig(),la=zL});function DL(e,t){for(var n=-1,o=t.length,a=e.length;++n<o;)e[a+n]=t[n];return e}var jg,k_=P(()=>{jg=DL});function AL(e){return Nn(e)||Qd(e)||!!(Og&&e&&e[Og])}var Og,w_,BL=P(()=>{eu(),cg(),gr(),Og=mr?mr.isConcatSpreadable:void 0,w_=AL});function x_(e,t,n,o,a){var l=-1,s=e.length;for(n||(n=w_),a||(a=[]);++l<s;){var u=e[l];t>0&&n(u)?t>1?x_(u,t-1,n,o,a):jg(a,u):o||(a[a.length]=u)}return a}var S_,ML=P(()=>{k_(),BL(),S_=x_}),E_,__,NL=P(()=>{OE(),E_=bg(Object.getPrototypeOf,Object),__=E_});function FL(e){if(!ri(e)||ni(e)!=P_)return!1;var t=__(e);if(t===null)return!0;var n=j_.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Tg.call(n)==O_}var P_,C_,I_,Tg,j_,O_,ff,T_=P(()=>{gl(),NL(),vl(),P_="[object Object]",C_=Function.prototype,I_=Object.prototype,Tg=C_.toString,j_=I_.hasOwnProperty,O_=Tg.call(Object),ff=FL});function RL(e){var t=Math[e];return function(n,o){if(n=xo(n),o=o==null?0:D_(ru(o),292),o&&z_(n)){var a=(uf(n)+"e").split("e"),l=t(a[0]+"e"+(+a[1]+o));return a=(uf(l)+"e").split("e"),+(a[0]+"e"+(+a[1]-o))}return t(n)}}var z_,D_,A_,UL=P(()=>{hr(),Kd(),nu(),y_(),z_=Gn.isFinite,D_=Math.min,A_=RL});function VL(e,t,n){return e===e&&(n!==void 0&&(e=e<=n?e:n),t!==void 0&&(e=e>=t?e:t)),e}var B_,KL=P(()=>{B_=VL});function WL(e,t,n){return n===void 0&&(n=t,t=void 0),n!==void 0&&(n=xo(n),n=n===n?n:0),t!==void 0&&(t=xo(t),t=t===t?t:0),B_(xo(e),t,n)}var xt,pf=P(()=>{KL(),nu(),xt=WL});function HL(){this.__data__=new cu,this.size=0}var M_,qL=P(()=>{lf(),M_=HL});function $L(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var N_,LL=P(()=>{N_=$L});function XL(e){return this.__data__.get(e)}var F_,ZL=P(()=>{F_=XL});function GL(e){return this.__data__.has(e)}var R_,YL=P(()=>{R_=GL});function QL(e,t){var n=this.__data__;if(n instanceof cu){var o=n.__data__;if(!Sl||o.length<U_-1)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new fu(o)}return n.set(e,t),this.size=n.size,this}var U_,V_,JL=P(()=>{lf(),Sg(),Eg(),U_=200,V_=QL});function Pl(e){var t=this.__data__=new cu(e);this.size=t.size}var mu,K_=P(()=>{lf(),qL(),LL(),ZL(),YL(),JL(),Pl.prototype.clear=M_,Pl.prototype.delete=N_,Pl.prototype.get=F_,Pl.prototype.has=R_,Pl.prototype.set=V_,mu=Pl});function eX(e,t){for(var n=-1,o=e==null?0:e.length,a=0,l=[];++n<o;){var s=e[n];t(s,n,e)&&(l[a++]=s)}return l}var W_,tX=P(()=>{W_=eX});function nX(){return[]}var H_,rX=P(()=>{H_=nX}),q_,$_,zg,L_,X_,oX=P(()=>{tX(),rX(),q_=Object.prototype,$_=q_.propertyIsEnumerable,zg=Object.getOwnPropertySymbols,L_=zg?function(e){return e==null?[]:(e=Object(e),W_(zg(e),function(t){return $_.call(e,t)}))}:H_,X_=L_});function iX(e,t,n){var o=t(e);return Nn(e)?o:jg(o,n(e))}var Z_,aX=P(()=>{k_(),gr(),Z_=iX});function lX(e){return Z_(e,nf,X_)}var Dg,sX=P(()=>{aX(),oX(),kg(),Dg=lX}),G_,hf,uX=P(()=>{aa(),hr(),G_=ii(Gn,"DataView"),hf=G_}),Y_,mf,cX=P(()=>{aa(),hr(),Y_=ii(Gn,"Promise"),mf=Y_}),Q_,sa,J_=P(()=>{aa(),hr(),Q_=ii(Gn,"Set"),sa=Q_}),Ag,eP,Bg,Mg,Ng,Fg,tP,nP,rP,oP,iP,ai,Rg,dX=P(()=>{uX(),Sg(),cX(),J_(),qq(),gl(),rS(),Ag="[object Map]",eP="[object Object]",Bg="[object Promise]",Mg="[object Set]",Ng="[object WeakMap]",Fg="[object DataView]",tP=oi(hf),nP=oi(Sl),rP=oi(mf),oP=oi(sa),iP=oi(qd),ai=ni,(hf&&ai(new hf(new ArrayBuffer(1)))!=Fg||Sl&&ai(new Sl)!=Ag||mf&&ai(mf.resolve())!=Bg||sa&&ai(new sa)!=Mg||qd&&ai(new qd)!=Ng)&&(ai=function(e){var t=ni(e),n=t==eP?e.constructor:void 0,o=n?oi(n):"";if(o)switch(o){case tP:return Fg;case nP:return Ag;case rP:return Bg;case oP:return Mg;case iP:return Ng}return t}),Rg=ai}),aP,Ug,fX=P(()=>{hr(),aP=Gn.Uint8Array,Ug=aP});function pX(e){return this.__data__.set(e,lP),this}var lP,sP,hX=P(()=>{lP="__lodash_hash_undefined__",sP=pX});function mX(e){return this.__data__.has(e)}var uP,gX=P(()=>{uP=mX});function gf(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new fu;++t<n;)this.add(e[t])}var Vg,cP=P(()=>{Eg(),hX(),gX(),gf.prototype.add=gf.prototype.push=sP,gf.prototype.has=uP,Vg=gf});function vX(e,t){for(var n=-1,o=e==null?0:e.length;++n<o;)if(t(e[n],n,e))return!0;return!1}var dP,yX=P(()=>{dP=vX});function bX(e,t){return e.has(t)}var Kg,fP=P(()=>{Kg=bX});function kX(e,t,n,o,a,l){var s=n&pP,u=e.length,d=t.length;if(u!=d&&!(s&&d>u))return!1;var f=l.get(e),m=l.get(t);if(f&&m)return f==t&&m==e;var v=-1,g=!0,h=n&hP?new Vg:void 0;for(l.set(e,t),l.set(t,e);++v<u;){var b=e[v],y=t[v];if(o)var k=s?o(y,b,v,t,e,l):o(b,y,v,e,t,l);if(k!==void 0){if(k)continue;g=!1;break}if(h){if(!dP(t,function(x,S){if(!Kg(h,S)&&(b===x||a(b,x,n,o,l)))return h.push(S)})){g=!1;break}}else if(!(b===y||a(b,y,n,o,l))){g=!1;break}}return l.delete(e),l.delete(t),g}var pP,hP,Wg,mP=P(()=>{cP(),yX(),fP(),pP=1,hP=2,Wg=kX});function wX(e){var t=-1,n=Array(e.size);return e.forEach(function(o,a){n[++t]=[a,o]}),n}var gP,xX=P(()=>{gP=wX});function SX(e){var t=-1,n=Array(e.size);return e.forEach(function(o){n[++t]=o}),n}var vf,Hg=P(()=>{vf=SX});function EX(e,t,n,o,a,l,s){switch(n){case jP:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case IP:return!(e.byteLength!=t.byteLength||!l(new Ug(e),new Ug(t)));case bP:case kP:case SP:return lu(+e,+t);case wP:return e.name==t.name&&e.message==t.message;case EP:case PP:return e==t+"";case xP:var u=gP;case _P:var d=o&vP;if(u||(u=vf),e.size!=t.size&&!d)return!1;var f=s.get(e);if(f)return f==t;o|=yP,s.set(e,t);var m=Wg(u(e),u(t),o,a,l,s);return s.delete(e),m;case CP:if(yf)return yf.call(e)==yf.call(t)}return!1}var vP,yP,bP,kP,wP,xP,SP,EP,_P,PP,CP,IP,jP,qg,yf,OP,_X=P(()=>{eu(),fX(),Zd(),mP(),xX(),Hg(),vP=1,yP=2,bP="[object Boolean]",kP="[object Date]",wP="[object Error]",xP="[object Map]",SP="[object Number]",EP="[object RegExp]",_P="[object Set]",PP="[object String]",CP="[object Symbol]",IP="[object ArrayBuffer]",jP="[object DataView]",qg=mr?mr.prototype:void 0,yf=qg?qg.valueOf:void 0,OP=EX});function PX(e,t,n,o,a,l){var s=n&TP,u=Dg(e),d=u.length,f=Dg(t),m=f.length;if(d!=m&&!s)return!1;for(var v=d;v--;){var g=u[v];if(!(s?g in t:DP.call(t,g)))return!1}var h=l.get(e),b=l.get(t);if(h&&b)return h==t&&b==e;var y=!0;l.set(e,t),l.set(t,e);for(var k=s;++v<d;){g=u[v];var x=e[g],S=t[g];if(o)var _=s?o(S,x,g,t,e,l):o(x,S,g,e,t,l);if(!(_===void 0?x===S||a(x,S,n,o,l):_)){y=!1;break}k||(k=g=="constructor")}if(y&&!k){var O=e.constructor,j=t.constructor;O!=j&&"constructor"in e&&"constructor"in t&&!(typeof O=="function"&&O instanceof O&&typeof j=="function"&&j instanceof j)&&(y=!1)}return l.delete(e),l.delete(t),y}var TP,zP,DP,AP,CX=P(()=>{sX(),TP=1,zP=Object.prototype,DP=zP.hasOwnProperty,AP=PX});function IX(e,t,n,o,a,l){var s=Nn(e),u=Nn(t),d=s?Lg:Rg(e),f=u?Lg:Rg(t);d=d==$g?gu:d,f=f==$g?gu:f;var m=d==gu,v=f==gu,g=d==f;if(g&&Jd(e)){if(!Jd(t))return!1;s=!0,m=!1}if(g&&!m)return l||(l=new mu),s||yg(e)?Wg(e,t,n,o,a,l):OP(e,t,d,n,o,a,l);if(!(n&BP)){var h=m&&Xg.call(e,"__wrapped__"),b=v&&Xg.call(t,"__wrapped__");if(h||b){var y=h?e.value():e,k=b?t.value():t;return l||(l=new mu),a(y,k,n,o,l)}}return g?(l||(l=new mu),AP(e,t,n,o,a,l)):!1}var BP,$g,Lg,gu,MP,Xg,NP,jX=P(()=>{K_(),mP(),_X(),CX(),dX(),gr(),YS(),PE(),BP=1,$g="[object Arguments]",Lg="[object Array]",gu="[object Object]",MP=Object.prototype,Xg=MP.hasOwnProperty,NP=IX});function FP(e,t,n,o,a){return e===t?!0:e==null||t==null||!ri(e)&&!ri(t)?e!==e&&t!==t:NP(e,t,n,o,FP,a)}var Zg,RP=P(()=>{jX(),vl(),Zg=FP});function OX(e,t,n,o){var a=n.length,l=a,s=!o;if(e==null)return!l;for(e=Object(e);a--;){var u=n[a];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<l;){u=n[a];var d=u[0],f=e[d],m=u[1];if(s&&u[2]){if(f===void 0&&!(d in e))return!1}else{var v=new mu;if(o)var g=o(f,m,d,e,t,v);if(!(g===void 0?Zg(m,f,UP|VP,o,v):g))return!1}}return!0}var UP,VP,KP,TX=P(()=>{K_(),RP(),UP=1,VP=2,KP=OX});function zX(e){return e===e&&!Hr(e)}var Gg,WP=P(()=>{ia(),Gg=zX});function DX(e){for(var t=nf(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,Gg(a)]}return t}var HP,AX=P(()=>{WP(),kg(),HP=DX});function BX(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var Yg,qP=P(()=>{Yg=BX});function MX(e){var t=HP(e);return t.length==1&&t[0][2]?Yg(t[0][0],t[0][1]):function(n){return n===e||KP(n,e,t)}}var $P,NX=P(()=>{TX(),AX(),qP(),$P=MX});function FX(e,t){return e!=null&&t in Object(e)}var LP,RX=P(()=>{LP=FX});function UX(e,t,n){t=cf(t,e);for(var o=-1,a=t.length,l=!1;++o<a;){var s=_l(t[o]);if(!(l=e!=null&&n(e,s)))break;e=e[s]}return l||++o!=a?l:(a=e==null?0:e.length,!!a&&Gd(a)&&au(s,a)&&(Nn(e)||Qd(e)))}var XP,VX=P(()=>{Cg(),cg(),gr(),Ld(),ag(),pu(),XP=UX});function KX(e,t){return e!=null&&XP(e,t,LP)}var ZP,WX=P(()=>{RX(),VX(),ZP=KX});function HX(e,t){return rf(e)&&Gg(t)?Yg(_l(e),t):function(n){var o=la(n,e);return o===void 0&&o===t?ZP(n,e):Zg(t,o,GP|YP)}}var GP,YP,QP,qX=P(()=>{RP(),hu(),WX(),wg(),WP(),qP(),pu(),GP=1,YP=2,QP=HX});function $X(e){return function(t){return t==null?void 0:t[e]}}var JP,LX=P(()=>{JP=$X});function XX(e){return function(t){return df(t,e)}}var e5,ZX=P(()=>{Ig(),e5=XX});function GX(e){return rf(e)?JP(_l(e)):e5(e)}var t5,YX=P(()=>{LX(),ZX(),wg(),pu(),t5=GX});function QX(e){return typeof e=="function"?e:e==null?ou:typeof e=="object"?Nn(e)?QP(e[0],e[1]):$P(e):t5(e)}var Cl,vu=P(()=>{NX(),qX(),Wd(),gr(),YX(),Cl=QX});function JX(e,t,n,o){for(var a=-1,l=e==null?0:e.length;++a<l;){var s=e[a];t(o,s,n(s),e)}return o}var n5,eZ=P(()=>{n5=JX});function tZ(e){return function(t,n,o){for(var a=-1,l=Object(t),s=o(t),u=s.length;u--;){var d=s[e?u:++a];if(n(l[d],d,l)===!1)break}return t}}var r5,nZ=P(()=>{r5=tZ}),o5,i5,rZ=P(()=>{nZ(),o5=r5(),i5=o5});function oZ(e,t){return e&&i5(e,t,nf)}var Qg,a5=P(()=>{rZ(),kg(),Qg=oZ});function iZ(e,t){return function(n,o){if(n==null)return n;if(!su(n))return e(n,o);for(var a=n.length,l=t?a:-1,s=Object(n);(t?l--:++l<a)&&o(s[l],l,s)!==!1;);return n}}var l5,aZ=P(()=>{Yd(),l5=iZ}),s5,Jg,u5=P(()=>{a5(),aZ(),s5=l5(Qg),Jg=s5});function lZ(e,t,n,o){return Jg(e,function(a,l,s){t(o,a,n(a),s)}),o}var c5,sZ=P(()=>{u5(),c5=lZ});function uZ(e,t){return function(n,o){var a=Nn(n)?n5:c5,l=t?t():{};return a(n,e,Cl(o,2),l)}}var d5,cZ=P(()=>{eZ(),sZ(),vu(),gr(),d5=uZ}),f5,bf,dZ=P(()=>{hr(),f5=function(){return Gn.Date.now()},bf=f5});function fZ(e,t,n){var o,a,l,s,u,d,f=0,m=!1,v=!1,g=!0;if(typeof e!="function")throw new TypeError(p5);t=xo(t)||0,Hr(n)&&(m=!!n.leading,v="maxWait"in n,l=v?h5(xo(n.maxWait)||0,t):l,g="trailing"in n?!!n.trailing:g);function h(z){var K=o,M=a;return o=a=void 0,f=z,s=e.apply(M,K),s}function b(z){return f=z,u=setTimeout(x,t),m?h(z):s}function y(z){var K=z-d,M=z-f,N=t-K;return v?m5(N,l-M):N}function k(z){var K=z-d,M=z-f;return d===void 0||K>=t||K<0||v&&M>=l}function x(){var z=bf();if(k(z))return S(z);u=setTimeout(x,y(z))}function S(z){return u=void 0,g&&o?h(z):(o=a=void 0,s)}function _(){u!==void 0&&clearTimeout(u),f=0,o=d=a=u=void 0}function O(){return u===void 0?s:S(bf())}function j(){var z=bf(),K=k(z);if(o=arguments,a=this,d=z,K){if(u===void 0)return b(d);if(v)return clearTimeout(u),u=setTimeout(x,t),h(d)}return u===void 0&&(u=setTimeout(x,t)),s}return j.cancel=_,j.flush=O,j}var p5,h5,m5,ev,g5=P(()=>{ia(),dZ(),nu(),p5="Expected a function",h5=Math.max,m5=Math.min,ev=fZ});function pZ(e,t,n){for(var o=-1,a=e==null?0:e.length;++o<a;)if(n(t,e[o]))return!0;return!1}var v5,hZ=P(()=>{v5=pZ});function mZ(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var ua,kf=P(()=>{ua=mZ});function gZ(e,t,n){var o=e==null?0:e.length;if(!o)return-1;var a=n==null?0:ru(n);return a<0&&(a=y5(o+a,0)),$d(e,Cl(t,3),a)}var y5,tv,vZ=P(()=>{tg(),vu(),Kd(),y5=Math.max,tv=gZ});function yZ(e,t,n){var o=e==null?0:e.length;if(!o)return-1;var a=o-1;return n!==void 0&&(a=ru(n),a=n<0?b5(o+a,0):k5(a,o-1)),$d(e,Cl(t,3),a,!0)}var b5,k5,w5,bZ=P(()=>{tg(),vu(),Kd(),b5=Math.max,k5=Math.min,w5=yZ});function kZ(e,t){var n=-1,o=su(e)?Array(e.length):[];return Jg(e,function(a,l,s){o[++n]=t(a,l,s)}),o}var x5,wZ=P(()=>{u5(),Yd(),x5=kZ});function xZ(e,t,n){return e>=E5(t,n)&&e<S5(t,n)}var S5,E5,_5,SZ=P(()=>{S5=Math.max,E5=Math.min,_5=xZ});function EZ(e,t,n){return t=Vd(t),n===void 0?(n=t,t=0):n=Vd(n),e=xo(e),_5(e,t,n)}var nv,_Z=P(()=>{SZ(),L2(),nu(),nv=EZ});function PZ(e){return typeof e=="number"&&e==ru(e)}var P5,CZ=P(()=>{Kd(),P5=PZ}),C5,yu,IZ=P(()=>{rg(),cZ(),C5=d5(function(e,t,n){Xd(e,n,t)}),yu=C5});function jZ(e,t){var n={};return t=Cl(t,3),Qg(e,function(o,a,l){Xd(n,a,t(o,a,l))}),n}var ca,I5=P(()=>{rg(),a5(),vu(),ca=jZ});function OZ(e,t,n,o){if(!Hr(e))return e;t=cf(t,e);for(var a=-1,l=t.length,s=l-1,u=e;u!=null&&++a<l;){var d=_l(t[a]),f=n;if(d==="__proto__"||d==="constructor"||d==="prototype")return e;if(a!=s){var m=u[d];f=o?o(m,d,u):void 0,f===void 0&&(f=Hr(m)?m:au(t[a+1])?[]:{})}MS(u,d,f),u=u[d]}return e}var j5,TZ=P(()=>{g$(),Cg(),Ld(),ia(),pu(),j5=OZ});function zZ(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var O5,DZ=P(()=>{O5=zZ});function AZ(e,t){if(e!==t){var n=e!==void 0,o=e===null,a=e===e,l=oa(e),s=t!==void 0,u=t===null,d=t===t,f=oa(t);if(!u&&!f&&!l&&e>t||l&&s&&d&&!u&&!f||o&&s&&d||!n&&d||!a)return 1;if(!o&&!l&&!f&&e<t||f&&n&&a&&!o&&!l||u&&n&&a||!s&&a||!d)return-1}return 0}var T5,BZ=P(()=>{tu(),T5=AZ});function MZ(e,t,n){for(var o=-1,a=e.criteria,l=t.criteria,s=a.length,u=n.length;++o<s;){var d=T5(a[o],l[o]);if(d){if(o>=u)return d;var f=n[o];return d*(f=="desc"?-1:1)}}return e.index-t.index}var z5,NZ=P(()=>{BZ(),z5=MZ});function FZ(e,t,n){t.length?t=yl(t,function(l){return Nn(l)?function(s){return df(s,l.length===1?l[0]:l)}:l}):t=[ou];var o=-1;t=yl(t,ef(Cl));var a=x5(e,function(l,s,u){var d=yl(t,function(f){return f(l)});return{criteria:d,index:++o,value:l}});return O5(a,function(l,s){return z5(l,s,n)})}var D5,RZ=P(()=>{X0(),Ig(),vu(),wZ(),DZ(),hg(),NZ(),Wd(),gr(),D5=FZ});function UZ(e,t,n,o){for(var a=n-1,l=e.length;++a<l;)if(o(e[a],t))return a;return-1}var A5,VZ=P(()=>{A5=UZ});function KZ(e,t,n,o){var a=o?A5:ng,l=-1,s=t.length,u=e;for(e===t&&(t=gS(t)),n&&(u=yl(e,ef(n)));++l<s;)for(var d=0,f=t[l],m=n?n(f):f;(d=a(u,m,d,o))>-1;)u!==e&&rv.call(u,d,1),rv.call(e,d,1);return e}var B5,rv,M5,WZ=P(()=>{X0(),OS(),VZ(),hg(),Yq(),B5=Array.prototype,rv=B5.splice,M5=KZ});function HZ(e,t){return e&&e.length&&t&&t.length?M5(e,t):e}var N5,qZ=P(()=>{WZ(),N5=HZ}),F5,R5,$Z=P(()=>{FS(),qZ(),F5=ig(N5),R5=F5}),U5,V5,LZ=P(()=>{UL(),U5=A_("round"),V5=U5});function XZ(e,t,n){return e==null?e:j5(e,t,n)}var Il,ov=P(()=>{TZ(),Il=XZ}),K5,W5,ZZ=P(()=>{ML(),RZ(),FS(),S$(),K5=ig(function(e,t){if(e==null)return[];var n=t.length;return n>1&&lg(e,t[0],t[1])?t=[]:n>2&&lg(t[0],t[1],t[2])&&(t=[t[0]]),D5(e,S_(t,1),[])}),W5=K5}),H5,q5,$5,GZ=P(()=>{J_(),Zq(),Hg(),H5=1/0,q5=sa&&1/vf(new sa([,-0]))[1]==H5?function(e){return new sa(e)}:mS,$5=q5});function YZ(e,t,n){var o=-1,a=TS,l=e.length,s=!0,u=[],d=u;if(n)s=!1,a=v5;else if(l>=L5){var f=t?null:$5(e);if(f)return vf(f);s=!1,a=Kg,d=new Vg}else d=t?[]:u;e:for(;++o<l;){var m=e[o],v=t?t(m):m;if(m=n||m!==0?m:0,s&&v===v){for(var g=d.length;g--;)if(d[g]===v)continue e;t&&d.push(v),u.push(m)}else a(d,v,n)||(d!==u&&d.push(v),u.push(m))}return u}var L5,X5,QZ=P(()=>{cP(),d$(),hZ(),fP(),GZ(),Hg(),L5=200,X5=YZ});function JZ(e){return e&&e.length?X5(e):[]}var li,eG=P(()=>{QZ(),li=JZ}),Rt=P(()=>{pf(),g5(),vZ(),_Z(),CZ(),T_(),kf(),I5(),d_(),LZ(),eG()}),tG=Ke((e,t)=>{var n;t.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:Zn):o=>(n||(n=Promise.resolve())).then(o).catch(a=>setTimeout(()=>{throw a},0))}),nG=Ke(e=>{var t=Symbol.for("react.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),g=Symbol.iterator;function h(A){return A===null||typeof A!="object"?null:(A=g&&A[g]||A["@@iterator"],typeof A=="function"?A:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,k={};function x(A,B,re){this.props=A,this.context=B,this.refs=k,this.updater=re||b}x.prototype.isReactComponent={},x.prototype.setState=function(A,B){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,B,"setState")},x.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function S(){}S.prototype=x.prototype;function _(A,B,re){this.props=A,this.context=B,this.refs=k,this.updater=re||b}var O=_.prototype=new S;O.constructor=_,y(O,x.prototype),O.isPureReactComponent=!0;var j=Array.isArray,z=Object.prototype.hasOwnProperty,K={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function N(A,B,re){var ae,ue={},te=null,Oe=null;if(B!=null)for(ae in B.ref!==void 0&&(Oe=B.ref),B.key!==void 0&&(te=""+B.key),B)z.call(B,ae)&&!M.hasOwnProperty(ae)&&(ue[ae]=B[ae]);var me=arguments.length-2;if(me===1)ue.children=re;else if(1<me){for(var Ie=Array(me),Ae=0;Ae<me;Ae++)Ie[Ae]=arguments[Ae+2];ue.children=Ie}if(A&&A.defaultProps)for(ae in me=A.defaultProps,me)ue[ae]===void 0&&(ue[ae]=me[ae]);return{$$typeof:t,type:A,key:te,ref:Oe,props:ue,_owner:K.current}}function Z(A,B){return{$$typeof:t,type:A.type,key:B,ref:A.ref,props:A.props,_owner:A._owner}}function le(A){return typeof A=="object"&&A!==null&&A.$$typeof===t}function D(A){var B={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(re){return B[re]})}var X=/\/+/g;function C(A,B){return typeof A=="object"&&A!==null&&A.key!=null?D(""+A.key):B.toString(36)}function Q(A,B,re,ae,ue){var te=typeof A;(te==="undefined"||te==="boolean")&&(A=null);var Oe=!1;if(A===null)Oe=!0;else switch(te){case"string":case"number":Oe=!0;break;case"object":switch(A.$$typeof){case t:case n:Oe=!0}}if(Oe)return Oe=A,ue=ue(Oe),A=ae===""?"."+C(Oe,0):ae,j(ue)?(re="",A!=null&&(re=A.replace(X,"$&/")+"/"),Q(ue,B,re,"",function(Ae){return Ae})):ue!=null&&(le(ue)&&(ue=Z(ue,re+(!ue.key||Oe&&Oe.key===ue.key?"":(""+ue.key).replace(X,"$&/")+"/")+A)),B.push(ue)),1;if(Oe=0,ae=ae===""?".":ae+":",j(A))for(var me=0;me<A.length;me++){te=A[me];var Ie=ae+C(te,me);Oe+=Q(te,B,re,Ie,ue)}else if(Ie=h(A),typeof Ie=="function")for(A=Ie.call(A),me=0;!(te=A.next()).done;)te=te.value,Ie=ae+C(te,me++),Oe+=Q(te,B,re,Ie,ue);else if(te==="object")throw B=String(A),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return Oe}function xe(A,B,re){if(A==null)return A;var ae=[],ue=0;return Q(A,ae,"","",function(te){return B.call(re,te,ue++)}),ae}function H(A){if(A._status===-1){var B=A._result;B=B(),B.then(function(re){(A._status===0||A._status===-1)&&(A._status=1,A._result=re)},function(re){(A._status===0||A._status===-1)&&(A._status=2,A._result=re)}),A._status===-1&&(A._status=0,A._result=B)}if(A._status===1)return A._result.default;throw A._result}var q={current:null},ee={transition:null},ge={ReactCurrentDispatcher:q,ReactCurrentBatchConfig:ee,ReactCurrentOwner:K};e.Children={map:xe,forEach:function(A,B,re){xe(A,function(){B.apply(this,arguments)},re)},count:function(A){var B=0;return xe(A,function(){B++}),B},toArray:function(A){return xe(A,function(B){return B})||[]},only:function(A){if(!le(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},e.Component=x,e.Fragment=o,e.Profiler=l,e.PureComponent=_,e.StrictMode=a,e.Suspense=f,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,e.cloneElement=function(A,B,re){if(A==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var ae=y({},A.props),ue=A.key,te=A.ref,Oe=A._owner;if(B!=null){if(B.ref!==void 0&&(te=B.ref,Oe=K.current),B.key!==void 0&&(ue=""+B.key),A.type&&A.type.defaultProps)var me=A.type.defaultProps;for(Ie in B)z.call(B,Ie)&&!M.hasOwnProperty(Ie)&&(ae[Ie]=B[Ie]===void 0&&me!==void 0?me[Ie]:B[Ie])}var Ie=arguments.length-2;if(Ie===1)ae.children=re;else if(1<Ie){me=Array(Ie);for(var Ae=0;Ae<Ie;Ae++)me[Ae]=arguments[Ae+2];ae.children=me}return{$$typeof:t,type:A.type,key:ue,ref:te,props:ae,_owner:Oe}},e.createContext=function(A){return A={$$typeof:u,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},A.Provider={$$typeof:s,_context:A},A.Consumer=A},e.createElement=N,e.createFactory=function(A){var B=N.bind(null,A);return B.type=A,B},e.createRef=function(){return{current:null}},e.forwardRef=function(A){return{$$typeof:d,render:A}},e.isValidElement=le,e.lazy=function(A){return{$$typeof:v,_payload:{_status:-1,_result:A},_init:H}},e.memo=function(A,B){return{$$typeof:m,type:A,compare:B===void 0?null:B}},e.startTransition=function(A){var B=ee.transition;ee.transition={};try{A()}finally{ee.transition=B}},e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},e.useCallback=function(A,B){return q.current.useCallback(A,B)},e.useContext=function(A){return q.current.useContext(A)},e.useDebugValue=function(){},e.useDeferredValue=function(A){return q.current.useDeferredValue(A)},e.useEffect=function(A,B){return q.current.useEffect(A,B)},e.useId=function(){return q.current.useId()},e.useImperativeHandle=function(A,B,re){return q.current.useImperativeHandle(A,B,re)},e.useInsertionEffect=function(A,B){return q.current.useInsertionEffect(A,B)},e.useLayoutEffect=function(A,B){return q.current.useLayoutEffect(A,B)},e.useMemo=function(A,B){return q.current.useMemo(A,B)},e.useReducer=function(A,B,re){return q.current.useReducer(A,B,re)},e.useRef=function(A){return q.current.useRef(A)},e.useState=function(A){return q.current.useState(A)},e.useSyncExternalStore=function(A,B,re){return q.current.useSyncExternalStore(A,B,re)},e.useTransition=function(){return q.current.useTransition()},e.version="18.2.0"}),G=Ke((e,t)=>{t.exports=nG()}),rG=Ke(e=>{function t(q,ee){var ge=q.length;q.push(ee);e:for(;0<ge;){var A=ge-1>>>1,B=q[A];if(0<a(B,ee))q[A]=ee,q[ge]=B,ge=A;else break e}}function n(q){return q.length===0?null:q[0]}function o(q){if(q.length===0)return null;var ee=q[0],ge=q.pop();if(ge!==ee){q[0]=ge;e:for(var A=0,B=q.length,re=B>>>1;A<re;){var ae=2*(A+1)-1,ue=q[ae],te=ae+1,Oe=q[te];if(0>a(ue,ge))te<B&&0>a(Oe,ue)?(q[A]=Oe,q[te]=ge,A=te):(q[A]=ue,q[ae]=ge,A=ae);else if(te<B&&0>a(Oe,ge))q[A]=Oe,q[te]=ge,A=te;else break e}}return ee}function a(q,ee){var ge=q.sortIndex-ee.sortIndex;return ge!==0?ge:q.id-ee.id}typeof performance=="object"&&typeof performance.now=="function"?(l=performance,e.unstable_now=function(){return l.now()}):(s=Date,u=s.now(),e.unstable_now=function(){return s.now()-u});var l,s,u,d=[],f=[],m=1,v=null,g=3,h=!1,b=!1,y=!1,k=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(q){for(var ee=n(f);ee!==null;){if(ee.callback===null)o(f);else if(ee.startTime<=q)o(f),ee.sortIndex=ee.expirationTime,t(d,ee);else break;ee=n(f)}}function O(q){if(y=!1,_(q),!b)if(n(d)!==null)b=!0,xe(j);else{var ee=n(f);ee!==null&&H(O,ee.startTime-q)}}function j(q,ee){b=!1,y&&(y=!1,x(M),M=-1),h=!0;var ge=g;try{for(_(ee),v=n(d);v!==null&&(!(v.expirationTime>ee)||q&&!le());){var A=v.callback;if(typeof A=="function"){v.callback=null,g=v.priorityLevel;var B=A(v.expirationTime<=ee);ee=e.unstable_now(),typeof B=="function"?v.callback=B:v===n(d)&&o(d),_(ee)}else o(d);v=n(d)}if(v!==null)var re=!0;else{var ae=n(f);ae!==null&&H(O,ae.startTime-ee),re=!1}return re}finally{v=null,g=ge,h=!1}}var z=!1,K=null,M=-1,N=5,Z=-1;function le(){return!(e.unstable_now()-Z<N)}function D(){if(K!==null){var q=e.unstable_now();Z=q;var ee=!0;try{ee=K(!0,q)}finally{ee?X():(z=!1,K=null)}}else z=!1}var X;typeof S=="function"?X=function(){S(D)}:typeof MessageChannel<"u"?(C=new MessageChannel,Q=C.port2,C.port1.onmessage=D,X=function(){Q.postMessage(null)}):X=function(){k(D,0)};var C,Q;function xe(q){K=q,z||(z=!0,X())}function H(q,ee){M=k(function(){q(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_continueExecution=function(){b||h||(b=!0,xe(j))},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(q){switch(g){case 1:case 2:case 3:var ee=3;break;default:ee=g}var ge=g;g=ee;try{return q()}finally{g=ge}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(q,ee){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ge=g;g=q;try{return ee()}finally{g=ge}},e.unstable_scheduleCallback=function(q,ee,ge){var A=e.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?A+ge:A):ge=A,q){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=ge+B,q={id:m++,callback:ee,priorityLevel:q,startTime:ge,expirationTime:B,sortIndex:-1},ge>A?(q.sortIndex=ge,t(f,q),n(d)===null&&q===n(f)&&(y?(x(M),M=-1):y=!0,H(O,ge-A))):(q.sortIndex=B,t(d,q),b||h||(b=!0,xe(j))),q},e.unstable_shouldYield=le,e.unstable_wrapCallback=function(q){var ee=g;return function(){var ge=g;g=ee;try{return q.apply(this,arguments)}finally{g=ge}}}}),oG=Ke((e,t)=>{t.exports=rG()}),iG=Ke(e=>{var t=G(),n=oG();function o(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,c=1;c<arguments.length;c++)i+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,l={};function s(r,i){u(r,i),u(r+"Capture",i)}function u(r,i){for(l[r]=i,r=0;r<i.length;r++)a.add(i[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},g={};function h(r){return f.call(g,r)?!0:f.call(v,r)?!1:m.test(r)?g[r]=!0:(v[r]=!0,!1)}function b(r,i,c,p){if(c!==null&&c.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function y(r,i,c,p){if(i===null||typeof i>"u"||b(r,i,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function k(r,i,c,p,w,E,T){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=p,this.attributeNamespace=w,this.mustUseProperty=c,this.propertyName=r,this.type=i,this.sanitizeURL=E,this.removeEmptyString=T}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){x[r]=new k(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];x[i]=new k(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){x[r]=new k(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){x[r]=new k(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){x[r]=new k(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){x[r]=new k(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){x[r]=new k(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){x[r]=new k(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){x[r]=new k(r,5,!1,r.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function _(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(S,_);x[i]=new k(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(S,_);x[i]=new k(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(S,_);x[i]=new k(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){x[r]=new k(r,1,!1,r.toLowerCase(),null,!1,!1)}),x.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){x[r]=new k(r,1,!1,r.toLowerCase(),null,!0,!0)});function O(r,i,c,p){var w=x.hasOwnProperty(i)?x[i]:null;(w!==null?w.type!==0:p||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(y(i,c,w,p)&&(c=null),p||w===null?h(i)&&(c===null?r.removeAttribute(i):r.setAttribute(i,""+c)):w.mustUseProperty?r[w.propertyName]=c===null?w.type===3?!1:"":c:(i=w.attributeName,p=w.attributeNamespace,c===null?r.removeAttribute(i):(w=w.type,c=w===3||w===4&&c===!0?"":""+c,p?r.setAttributeNS(p,i,c):r.setAttribute(i,c))))}var j=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),K=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),le=Symbol.for("react.provider"),D=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),xe=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),q=Symbol.for("react.offscreen"),ee=Symbol.iterator;function ge(r){return r===null||typeof r!="object"?null:(r=ee&&r[ee]||r["@@iterator"],typeof r=="function"?r:null)}var A=Object.assign,B;function re(r){if(B===void 0)try{throw Error()}catch(c){var i=c.stack.trim().match(/\n( *(at )?)/);B=i&&i[1]||""}return`
`+B+r}var ae=!1;function ue(r,i){if(!r||ae)return"";ae=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(pe){var p=pe}Reflect.construct(r,[],i)}else{try{i.call()}catch(pe){p=pe}r.call(i.prototype)}else{try{throw Error()}catch(pe){p=pe}r()}}catch(pe){if(pe&&p&&typeof pe.stack=="string"){for(var w=pe.stack.split(`
`),E=p.stack.split(`
`),T=w.length-1,W=E.length-1;1<=T&&0<=W&&w[T]!==E[W];)W--;for(;1<=T&&0<=W;T--,W--)if(w[T]!==E[W]){if(T!==1||W!==1)do if(T--,W--,0>W||w[T]!==E[W]){var Y=`
`+w[T].replace(" at new "," at ");return r.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",r.displayName)),Y}while(1<=T&&0<=W);break}}}finally{ae=!1,Error.prepareStackTrace=c}return(r=r?r.displayName||r.name:"")?re(r):""}function te(r){switch(r.tag){case 5:return re(r.type);case 16:return re("Lazy");case 13:return re("Suspense");case 19:return re("SuspenseList");case 0:case 2:case 15:return r=ue(r.type,!1),r;case 11:return r=ue(r.type.render,!1),r;case 1:return r=ue(r.type,!0),r;default:return""}}function Oe(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case M:return"Fragment";case K:return"Portal";case Z:return"Profiler";case N:return"StrictMode";case C:return"Suspense";case Q:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case D:return(r.displayName||"Context")+".Consumer";case le:return(r._context.displayName||"Context")+".Provider";case X:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case xe:return i=r.displayName||null,i!==null?i:Oe(r.type)||"Memo";case H:i=r._payload,r=r._init;try{return Oe(r(i))}catch{}}return null}function me(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oe(i);case 8:return i===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Ie(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ae(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function He(r){var i=Ae(r)?"checked":"value",c=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),p=""+r[i];if(!r.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var w=c.get,E=c.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return w.call(this)},set:function(T){p=""+T,E.call(this,T)}}),Object.defineProperty(r,i,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(T){p=""+T},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Ve(r){r._valueTracker||(r._valueTracker=He(r))}function at(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var c=i.getValue(),p="";return r&&(p=Ae(r)?r.checked?"true":"false":r.value),r=p,r!==c?(i.setValue(r),!0):!1}function I(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function fe(r,i){var c=i.checked;return A({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??r._wrapperState.initialChecked})}function ce(r,i){var c=i.defaultValue==null?"":i.defaultValue,p=i.checked!=null?i.checked:i.defaultChecked;c=Ie(i.value!=null?i.value:c),r._wrapperState={initialChecked:p,initialValue:c,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function V(r,i){i=i.checked,i!=null&&O(r,"checked",i,!1)}function R(r,i){V(r,i);var c=Ie(i.value),p=i.type;if(c!=null)p==="number"?(c===0&&r.value===""||r.value!=c)&&(r.value=""+c):r.value!==""+c&&(r.value=""+c);else if(p==="submit"||p==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?ve(r,i.type,c):i.hasOwnProperty("defaultValue")&&ve(r,i.type,Ie(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function ne(r,i,c){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var p=i.type;if(!(p!=="submit"&&p!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,c||i===r.value||(r.value=i),r.defaultValue=i}c=r.name,c!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,c!==""&&(r.name=c)}function ve(r,i,c){(i!=="number"||I(r.ownerDocument)!==r)&&(c==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+c&&(r.defaultValue=""+c))}var ke=Array.isArray;function oe(r,i,c,p){if(r=r.options,i){i={};for(var w=0;w<c.length;w++)i["$"+c[w]]=!0;for(c=0;c<r.length;c++)w=i.hasOwnProperty("$"+r[c].value),r[c].selected!==w&&(r[c].selected=w),w&&p&&(r[c].defaultSelected=!0)}else{for(c=""+Ie(c),i=null,w=0;w<r.length;w++){if(r[w].value===c){r[w].selected=!0,p&&(r[w].defaultSelected=!0);return}i!==null||r[w].disabled||(i=r[w])}i!==null&&(i.selected=!0)}}function Se(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(o(91));return A({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function ye(r,i){var c=i.value;if(c==null){if(c=i.children,i=i.defaultValue,c!=null){if(i!=null)throw Error(o(92));if(ke(c)){if(1<c.length)throw Error(o(93));c=c[0]}i=c}i==null&&(i=""),c=i}r._wrapperState={initialValue:Ie(c)}}function we(r,i){var c=Ie(i.value),p=Ie(i.defaultValue);c!=null&&(c=""+c,c!==r.value&&(r.value=c),i.defaultValue==null&&r.defaultValue!==c&&(r.defaultValue=c)),p!=null&&(r.defaultValue=""+p)}function Ue(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function ot(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xe(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?ot(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var an,Mi=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,c,p,w){MSApp.execUnsafeLocalFunction(function(){return r(i,c,p,w)})}:r}(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(an=an||document.createElement("div"),an.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=an.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function hn(r,i){if(i){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=i;return}}r.textContent=i}var Ar={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_t=["Webkit","ms","Moz","O"];Object.keys(Ar).forEach(function(r){_t.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),Ar[i]=Ar[r]})});function tl(r,i,c){return i==null||typeof i=="boolean"||i===""?"":c||typeof i!="number"||i===0||Ar.hasOwnProperty(r)&&Ar[r]?(""+i).trim():i+"px"}function Cs(r,i){r=r.style;for(var c in i)if(i.hasOwnProperty(c)){var p=c.indexOf("--")===0,w=tl(c,i[c],p);c==="float"&&(c="cssFloat"),p?r.setProperty(c,w):r[c]=w}}var Br=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Is(r,i){if(i){if(Br[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(o(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(o(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(o(61))}if(i.style!=null&&typeof i.style!="object")throw Error(o(62))}}function Qc(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jc=null;function ed(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var js=null,ir=null,Mr=null;function EK(r){if(r=wd(r)){if(typeof js!="function")throw Error(o(280));var i=r.stateNode;i&&(i=Ym(i),js(r.stateNode,r.type,i))}}function _K(r){ir?Mr?Mr.push(r):Mr=[r]:ir=r}function PK(){if(ir){var r=ir,i=Mr;if(Mr=ir=null,EK(r),i)for(r=0;r<i.length;r++)EK(i[r])}}function CK(r,i){return r(i)}function IK(){}var Ow=!1;function jK(r,i,c){if(Ow)return r(i,c);Ow=!0;try{return CK(r,i,c)}finally{Ow=!1,(ir!==null||Mr!==null)&&(IK(),PK())}}function td(r,i){var c=r.stateNode;if(c===null)return null;var p=Ym(c);if(p===null)return null;c=p[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(r=r.type,p=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!p;break e;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(o(231,i,typeof c));return c}var Tw=!1;if(d)try{Os={},Object.defineProperty(Os,"passive",{get:function(){Tw=!0}}),window.addEventListener("test",Os,Os),window.removeEventListener("test",Os,Os)}catch{Tw=!1}var Os;function kie(r,i,c,p,w,E,T,W,Y){var pe=Array.prototype.slice.call(arguments,3);try{i.apply(c,pe)}catch(_e){this.onError(_e)}}var nd=!1,Pm=null,Cm=!1,zw=null,wie={onError:function(r){nd=!0,Pm=r}};function xie(r,i,c,p,w,E,T,W,Y){nd=!1,Pm=null,kie.apply(wie,arguments)}function Sie(r,i,c,p,w,E,T,W,Y){if(xie.apply(this,arguments),nd){if(nd){var pe=Pm;nd=!1,Pm=null}else throw Error(o(198));Cm||(Cm=!0,zw=pe)}}function nl(r){var i=r,c=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,i.flags&4098&&(c=i.return),r=i.return;while(r)}return i.tag===3?c:null}function OK(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function TK(r){if(nl(r)!==r)throw Error(o(188))}function Eie(r){var i=r.alternate;if(!i){if(i=nl(r),i===null)throw Error(o(188));return i!==r?null:r}for(var c=r,p=i;;){var w=c.return;if(w===null)break;var E=w.alternate;if(E===null){if(p=w.return,p!==null){c=p;continue}break}if(w.child===E.child){for(E=w.child;E;){if(E===c)return TK(w),r;if(E===p)return TK(w),i;E=E.sibling}throw Error(o(188))}if(c.return!==p.return)c=w,p=E;else{for(var T=!1,W=w.child;W;){if(W===c){T=!0,c=w,p=E;break}if(W===p){T=!0,p=w,c=E;break}W=W.sibling}if(!T){for(W=E.child;W;){if(W===c){T=!0,c=E,p=w;break}if(W===p){T=!0,p=E,c=w;break}W=W.sibling}if(!T)throw Error(o(189))}}if(c.alternate!==p)throw Error(o(190))}if(c.tag!==3)throw Error(o(188));return c.stateNode.current===c?r:i}function zK(r){return r=Eie(r),r!==null?DK(r):null}function DK(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=DK(r);if(i!==null)return i;r=r.sibling}return null}var AK=n.unstable_scheduleCallback,BK=n.unstable_cancelCallback,_ie=n.unstable_shouldYield,Pie=n.unstable_requestPaint,zt=n.unstable_now,Cie=n.unstable_getCurrentPriorityLevel,Dw=n.unstable_ImmediatePriority,MK=n.unstable_UserBlockingPriority,Im=n.unstable_NormalPriority,Iie=n.unstable_LowPriority,NK=n.unstable_IdlePriority,jm=null,vo=null;function jie(r){if(vo&&typeof vo.onCommitFiberRoot=="function")try{vo.onCommitFiberRoot(jm,r,void 0,(r.current.flags&128)===128)}catch{}}var Nr=Math.clz32?Math.clz32:zie,Oie=Math.log,Tie=Math.LN2;function zie(r){return r>>>=0,r===0?32:31-(Oie(r)/Tie|0)|0}var Om=64,Tm=4194304;function rd(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function zm(r,i){var c=r.pendingLanes;if(c===0)return 0;var p=0,w=r.suspendedLanes,E=r.pingedLanes,T=c&268435455;if(T!==0){var W=T&~w;W!==0?p=rd(W):(E&=T,E!==0&&(p=rd(E)))}else T=c&~w,T!==0?p=rd(T):E!==0&&(p=rd(E));if(p===0)return 0;if(i!==0&&i!==p&&!(i&w)&&(w=p&-p,E=i&-i,w>=E||w===16&&(E&4194240)!==0))return i;if(p&4&&(p|=c&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=p;0<i;)c=31-Nr(i),w=1<<c,p|=r[c],i&=~w;return p}function Die(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Aie(r,i){for(var c=r.suspendedLanes,p=r.pingedLanes,w=r.expirationTimes,E=r.pendingLanes;0<E;){var T=31-Nr(E),W=1<<T,Y=w[T];Y===-1?(!(W&c)||W&p)&&(w[T]=Die(W,i)):Y<=i&&(r.expiredLanes|=W),E&=~W}}function Aw(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function FK(){var r=Om;return Om<<=1,!(Om&4194240)&&(Om=64),r}function Bw(r){for(var i=[],c=0;31>c;c++)i.push(r);return i}function od(r,i,c){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-Nr(i),r[i]=c}function Bie(r,i){var c=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var p=r.eventTimes;for(r=r.expirationTimes;0<c;){var w=31-Nr(c),E=1<<w;i[w]=0,p[w]=-1,r[w]=-1,c&=~E}}function Mw(r,i){var c=r.entangledLanes|=i;for(r=r.entanglements;c;){var p=31-Nr(c),w=1<<p;w&i|r[p]&i&&(r[p]|=i),c&=~w}}var ut=0;function RK(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var UK,Nw,VK,KK,WK,Fw=!1,Dm=[],Ni=null,Fi=null,Ri=null,id=new Map,ad=new Map,Ui=[],Mie="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function HK(r,i){switch(r){case"focusin":case"focusout":Ni=null;break;case"dragenter":case"dragleave":Fi=null;break;case"mouseover":case"mouseout":Ri=null;break;case"pointerover":case"pointerout":id.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ad.delete(i.pointerId)}}function ld(r,i,c,p,w,E){return r===null||r.nativeEvent!==E?(r={blockedOn:i,domEventName:c,eventSystemFlags:p,nativeEvent:E,targetContainers:[w]},i!==null&&(i=wd(i),i!==null&&Nw(i)),r):(r.eventSystemFlags|=p,i=r.targetContainers,w!==null&&i.indexOf(w)===-1&&i.push(w),r)}function Nie(r,i,c,p,w){switch(i){case"focusin":return Ni=ld(Ni,r,i,c,p,w),!0;case"dragenter":return Fi=ld(Fi,r,i,c,p,w),!0;case"mouseover":return Ri=ld(Ri,r,i,c,p,w),!0;case"pointerover":var E=w.pointerId;return id.set(E,ld(id.get(E)||null,r,i,c,p,w)),!0;case"gotpointercapture":return E=w.pointerId,ad.set(E,ld(ad.get(E)||null,r,i,c,p,w)),!0}return!1}function qK(r){var i=rl(r.target);if(i!==null){var c=nl(i);if(c!==null){if(i=c.tag,i===13){if(i=OK(c),i!==null){r.blockedOn=i,WK(r.priority,function(){VK(c)});return}}else if(i===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Am(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var c=Uw(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(c===null){c=r.nativeEvent;var p=new c.constructor(c.type,c);Jc=p,c.target.dispatchEvent(p),Jc=null}else return i=wd(c),i!==null&&Nw(i),r.blockedOn=c,!1;i.shift()}return!0}function $K(r,i,c){Am(r)&&c.delete(i)}function Fie(){Fw=!1,Ni!==null&&Am(Ni)&&(Ni=null),Fi!==null&&Am(Fi)&&(Fi=null),Ri!==null&&Am(Ri)&&(Ri=null),id.forEach($K),ad.forEach($K)}function sd(r,i){r.blockedOn===i&&(r.blockedOn=null,Fw||(Fw=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Fie)))}function ud(r){function i(w){return sd(w,r)}if(0<Dm.length){sd(Dm[0],r);for(var c=1;c<Dm.length;c++){var p=Dm[c];p.blockedOn===r&&(p.blockedOn=null)}}for(Ni!==null&&sd(Ni,r),Fi!==null&&sd(Fi,r),Ri!==null&&sd(Ri,r),id.forEach(i),ad.forEach(i),c=0;c<Ui.length;c++)p=Ui[c],p.blockedOn===r&&(p.blockedOn=null);for(;0<Ui.length&&(c=Ui[0],c.blockedOn===null);)qK(c),c.blockedOn===null&&Ui.shift()}var Ts=j.ReactCurrentBatchConfig,Bm=!0;function Rie(r,i,c,p){var w=ut,E=Ts.transition;Ts.transition=null;try{ut=1,Rw(r,i,c,p)}finally{ut=w,Ts.transition=E}}function Uie(r,i,c,p){var w=ut,E=Ts.transition;Ts.transition=null;try{ut=4,Rw(r,i,c,p)}finally{ut=w,Ts.transition=E}}function Rw(r,i,c,p){if(Bm){var w=Uw(r,i,c,p);if(w===null)tx(r,i,p,Mm,c),HK(r,p);else if(Nie(w,r,i,c,p))p.stopPropagation();else if(HK(r,p),i&4&&-1<Mie.indexOf(r)){for(;w!==null;){var E=wd(w);if(E!==null&&UK(E),E=Uw(r,i,c,p),E===null&&tx(r,i,p,Mm,c),E===w)break;w=E}w!==null&&p.stopPropagation()}else tx(r,i,p,null,c)}}var Mm=null;function Uw(r,i,c,p){if(Mm=null,r=ed(p),r=rl(r),r!==null)if(i=nl(r),i===null)r=null;else if(c=i.tag,c===13){if(r=OK(i),r!==null)return r;r=null}else if(c===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return Mm=r,null}function LK(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Cie()){case Dw:return 1;case MK:return 4;case Im:case Iie:return 16;case NK:return 536870912;default:return 16}default:return 16}}var Vi=null,Vw=null,Nm=null;function XK(){if(Nm)return Nm;var r,i=Vw,c=i.length,p,w="value"in Vi?Vi.value:Vi.textContent,E=w.length;for(r=0;r<c&&i[r]===w[r];r++);var T=c-r;for(p=1;p<=T&&i[c-p]===w[E-p];p++);return Nm=w.slice(r,1<p?1-p:void 0)}function Fm(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Rm(){return!0}function ZK(){return!1}function qn(r){function i(c,p,w,E,T){this._reactName=c,this._targetInst=w,this.type=p,this.nativeEvent=E,this.target=T,this.currentTarget=null;for(var W in r)r.hasOwnProperty(W)&&(c=r[W],this[W]=c?c(E):E[W]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Rm:ZK,this.isPropagationStopped=ZK,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Rm)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Rm)},persist:function(){},isPersistent:Rm}),i}var zs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kw=qn(zs),cd=A({},zs,{view:0,detail:0}),Vie=qn(cd),Ww,Hw,dd,Um=A({},cd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$w,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==dd&&(dd&&r.type==="mousemove"?(Ww=r.screenX-dd.screenX,Hw=r.screenY-dd.screenY):Hw=Ww=0,dd=r),Ww)},movementY:function(r){return"movementY"in r?r.movementY:Hw}}),GK=qn(Um),Kie=A({},Um,{dataTransfer:0}),Wie=qn(Kie),Hie=A({},cd,{relatedTarget:0}),qw=qn(Hie),qie=A({},zs,{animationName:0,elapsedTime:0,pseudoElement:0}),$ie=qn(qie),Lie=A({},zs,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Xie=qn(Lie),Zie=A({},zs,{data:0}),YK=qn(Zie),Gie={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yie={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qie={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jie(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=Qie[r])?!!i[r]:!1}function $w(){return Jie}var eae=A({},cd,{key:function(r){if(r.key){var i=Gie[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Fm(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Yie[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$w,charCode:function(r){return r.type==="keypress"?Fm(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Fm(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),tae=qn(eae),nae=A({},Um,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),QK=qn(nae),rae=A({},cd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$w}),oae=qn(rae),iae=A({},zs,{propertyName:0,elapsedTime:0,pseudoElement:0}),aae=qn(iae),lae=A({},Um,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),sae=qn(lae),uae=[9,13,27,32],Lw=d&&"CompositionEvent"in window,fd=null;d&&"documentMode"in document&&(fd=document.documentMode);var cae=d&&"TextEvent"in window&&!fd,JK=d&&(!Lw||fd&&8<fd&&11>=fd),eW=String.fromCharCode(32),tW=!1;function nW(r,i){switch(r){case"keyup":return uae.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rW(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ds=!1;function dae(r,i){switch(r){case"compositionend":return rW(i);case"keypress":return i.which!==32?null:(tW=!0,eW);case"textInput":return r=i.data,r===eW&&tW?null:r;default:return null}}function fae(r,i){if(Ds)return r==="compositionend"||!Lw&&nW(r,i)?(r=XK(),Nm=Vw=Vi=null,Ds=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return JK&&i.locale!=="ko"?null:i.data;default:return null}}var pae={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oW(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!pae[r.type]:i==="textarea"}function iW(r,i,c,p){_K(p),i=Xm(i,"onChange"),0<i.length&&(c=new Kw("onChange","change",null,c,p),r.push({event:c,listeners:i}))}var pd=null,hd=null;function hae(r){EW(r,0)}function Vm(r){var i=Fs(r);if(at(i))return r}function mae(r,i){if(r==="change")return i}var aW=!1;d&&(d?(Km="oninput"in document,Km||(Zw=document.createElement("div"),Zw.setAttribute("oninput","return;"),Km=typeof Zw.oninput=="function"),Xw=Km):Xw=!1,aW=Xw&&(!document.documentMode||9<document.documentMode));var Xw,Km,Zw;function lW(){pd&&(pd.detachEvent("onpropertychange",sW),hd=pd=null)}function sW(r){if(r.propertyName==="value"&&Vm(hd)){var i=[];iW(i,hd,r,ed(r)),jK(hae,i)}}function gae(r,i,c){r==="focusin"?(lW(),pd=i,hd=c,pd.attachEvent("onpropertychange",sW)):r==="focusout"&&lW()}function vae(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Vm(hd)}function yae(r,i){if(r==="click")return Vm(i)}function bae(r,i){if(r==="input"||r==="change")return Vm(i)}function kae(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Fr=typeof Object.is=="function"?Object.is:kae;function md(r,i){if(Fr(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var c=Object.keys(r),p=Object.keys(i);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var w=c[p];if(!f.call(i,w)||!Fr(r[w],i[w]))return!1}return!0}function uW(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function cW(r,i){var c=uW(r);r=0;for(var p;c;){if(c.nodeType===3){if(p=r+c.textContent.length,r<=i&&p>=i)return{node:c,offset:i-r};r=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=uW(c)}}function dW(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?dW(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function fW(){for(var r=window,i=I();i instanceof r.HTMLIFrameElement;){try{var c=typeof i.contentWindow.location.href=="string"}catch{c=!1}if(c)r=i.contentWindow;else break;i=I(r.document)}return i}function Gw(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function wae(r){var i=fW(),c=r.focusedElem,p=r.selectionRange;if(i!==c&&c&&c.ownerDocument&&dW(c.ownerDocument.documentElement,c)){if(p!==null&&Gw(c)){if(i=p.start,r=p.end,r===void 0&&(r=i),"selectionStart"in c)c.selectionStart=i,c.selectionEnd=Math.min(r,c.value.length);else if(r=(i=c.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var w=c.textContent.length,E=Math.min(p.start,w);p=p.end===void 0?E:Math.min(p.end,w),!r.extend&&E>p&&(w=p,p=E,E=w),w=cW(c,E);var T=cW(c,p);w&&T&&(r.rangeCount!==1||r.anchorNode!==w.node||r.anchorOffset!==w.offset||r.focusNode!==T.node||r.focusOffset!==T.offset)&&(i=i.createRange(),i.setStart(w.node,w.offset),r.removeAllRanges(),E>p?(r.addRange(i),r.extend(T.node,T.offset)):(i.setEnd(T.node,T.offset),r.addRange(i)))}}for(i=[],r=c;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<i.length;c++)r=i[c],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var xae=d&&"documentMode"in document&&11>=document.documentMode,As=null,Yw=null,gd=null,Qw=!1;function pW(r,i,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Qw||As==null||As!==I(p)||(p=As,"selectionStart"in p&&Gw(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),gd&&md(gd,p)||(gd=p,p=Xm(Yw,"onSelect"),0<p.length&&(i=new Kw("onSelect","select",null,i,c),r.push({event:i,listeners:p}),i.target=As)))}function Wm(r,i){var c={};return c[r.toLowerCase()]=i.toLowerCase(),c["Webkit"+r]="webkit"+i,c["Moz"+r]="moz"+i,c}var Bs={animationend:Wm("Animation","AnimationEnd"),animationiteration:Wm("Animation","AnimationIteration"),animationstart:Wm("Animation","AnimationStart"),transitionend:Wm("Transition","TransitionEnd")},Jw={},hW={};d&&(hW=document.createElement("div").style,"AnimationEvent"in window||(delete Bs.animationend.animation,delete Bs.animationiteration.animation,delete Bs.animationstart.animation),"TransitionEvent"in window||delete Bs.transitionend.transition);function Hm(r){if(Jw[r])return Jw[r];if(!Bs[r])return r;var i=Bs[r],c;for(c in i)if(i.hasOwnProperty(c)&&c in hW)return Jw[r]=i[c];return r}var mW=Hm("animationend"),gW=Hm("animationiteration"),vW=Hm("animationstart"),yW=Hm("transitionend"),bW=new Map,kW="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ki(r,i){bW.set(r,i),s(i,[r])}for($m=0;$m<kW.length;$m++)qm=kW[$m],wW=qm.toLowerCase(),xW=qm[0].toUpperCase()+qm.slice(1),Ki(wW,"on"+xW);var qm,wW,xW,$m;Ki(mW,"onAnimationEnd"),Ki(gW,"onAnimationIteration"),Ki(vW,"onAnimationStart"),Ki("dblclick","onDoubleClick"),Ki("focusin","onFocus"),Ki("focusout","onBlur"),Ki(yW,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sae=new Set("cancel close invalid load scroll toggle".split(" ").concat(vd));function SW(r,i,c){var p=r.type||"unknown-event";r.currentTarget=c,Sie(p,i,void 0,r),r.currentTarget=null}function EW(r,i){i=(i&4)!==0;for(var c=0;c<r.length;c++){var p=r[c],w=p.event;p=p.listeners;e:{var E=void 0;if(i)for(var T=p.length-1;0<=T;T--){var W=p[T],Y=W.instance,pe=W.currentTarget;if(W=W.listener,Y!==E&&w.isPropagationStopped())break e;SW(w,W,pe),E=Y}else for(T=0;T<p.length;T++){if(W=p[T],Y=W.instance,pe=W.currentTarget,W=W.listener,Y!==E&&w.isPropagationStopped())break e;SW(w,W,pe),E=Y}}}if(Cm)throw r=zw,Cm=!1,zw=null,r}function yt(r,i){var c=i[lx];c===void 0&&(c=i[lx]=new Set);var p=r+"__bubble";c.has(p)||(_W(i,r,2,!1),c.add(p))}function ex(r,i,c){var p=0;i&&(p|=4),_W(c,r,p,i)}var Lm="_reactListening"+Math.random().toString(36).slice(2);function yd(r){if(!r[Lm]){r[Lm]=!0,a.forEach(function(c){c!=="selectionchange"&&(Sae.has(c)||ex(c,!1,r),ex(c,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Lm]||(i[Lm]=!0,ex("selectionchange",!1,i))}}function _W(r,i,c,p){switch(LK(i)){case 1:var w=Rie;break;case 4:w=Uie;break;default:w=Rw}c=w.bind(null,i,c,r),w=void 0,!Tw||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(w=!0),p?w!==void 0?r.addEventListener(i,c,{capture:!0,passive:w}):r.addEventListener(i,c,!0):w!==void 0?r.addEventListener(i,c,{passive:w}):r.addEventListener(i,c,!1)}function tx(r,i,c,p,w){var E=p;if(!(i&1)&&!(i&2)&&p!==null)e:for(;;){if(p===null)return;var T=p.tag;if(T===3||T===4){var W=p.stateNode.containerInfo;if(W===w||W.nodeType===8&&W.parentNode===w)break;if(T===4)for(T=p.return;T!==null;){var Y=T.tag;if((Y===3||Y===4)&&(Y=T.stateNode.containerInfo,Y===w||Y.nodeType===8&&Y.parentNode===w))return;T=T.return}for(;W!==null;){if(T=rl(W),T===null)return;if(Y=T.tag,Y===5||Y===6){p=E=T;continue e}W=W.parentNode}}p=p.return}jK(function(){var pe=E,_e=ed(c),Pe=[];e:{var Ee=bW.get(r);if(Ee!==void 0){var Te=Kw,Be=r;switch(r){case"keypress":if(Fm(c)===0)break e;case"keydown":case"keyup":Te=tae;break;case"focusin":Be="focus",Te=qw;break;case"focusout":Be="blur",Te=qw;break;case"beforeblur":case"afterblur":Te=qw;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=GK;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=Wie;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=oae;break;case mW:case gW:case vW:Te=$ie;break;case yW:Te=aae;break;case"scroll":Te=Vie;break;case"wheel":Te=sae;break;case"copy":case"cut":case"paste":Te=Xie;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=QK}var Ne=(i&4)!==0,Dt=!Ne&&r==="scroll",ie=Ne?Ee!==null?Ee+"Capture":null:Ee;Ne=[];for(var J=pe,se;J!==null;){se=J;var Ce=se.stateNode;if(se.tag===5&&Ce!==null&&(se=Ce,ie!==null&&(Ce=td(J,ie),Ce!=null&&Ne.push(bd(J,Ce,se)))),Dt)break;J=J.return}0<Ne.length&&(Ee=new Te(Ee,Be,null,c,_e),Pe.push({event:Ee,listeners:Ne}))}}if(!(i&7)){e:{if(Ee=r==="mouseover"||r==="pointerover",Te=r==="mouseout"||r==="pointerout",Ee&&c!==Jc&&(Be=c.relatedTarget||c.fromElement)&&(rl(Be)||Be[Lo]))break e;if((Te||Ee)&&(Ee=_e.window===_e?_e:(Ee=_e.ownerDocument)?Ee.defaultView||Ee.parentWindow:window,Te?(Be=c.relatedTarget||c.toElement,Te=pe,Be=Be?rl(Be):null,Be!==null&&(Dt=nl(Be),Be!==Dt||Be.tag!==5&&Be.tag!==6)&&(Be=null)):(Te=null,Be=pe),Te!==Be)){if(Ne=GK,Ce="onMouseLeave",ie="onMouseEnter",J="mouse",(r==="pointerout"||r==="pointerover")&&(Ne=QK,Ce="onPointerLeave",ie="onPointerEnter",J="pointer"),Dt=Te==null?Ee:Fs(Te),se=Be==null?Ee:Fs(Be),Ee=new Ne(Ce,J+"leave",Te,c,_e),Ee.target=Dt,Ee.relatedTarget=se,Ce=null,rl(_e)===pe&&(Ne=new Ne(ie,J+"enter",Be,c,_e),Ne.target=se,Ne.relatedTarget=Dt,Ce=Ne),Dt=Ce,Te&&Be)t:{for(Ne=Te,ie=Be,J=0,se=Ne;se;se=Ms(se))J++;for(se=0,Ce=ie;Ce;Ce=Ms(Ce))se++;for(;0<J-se;)Ne=Ms(Ne),J--;for(;0<se-J;)ie=Ms(ie),se--;for(;J--;){if(Ne===ie||ie!==null&&Ne===ie.alternate)break t;Ne=Ms(Ne),ie=Ms(ie)}Ne=null}else Ne=null;Te!==null&&PW(Pe,Ee,Te,Ne,!1),Be!==null&&Dt!==null&&PW(Pe,Dt,Be,Ne,!0)}}e:{if(Ee=pe?Fs(pe):window,Te=Ee.nodeName&&Ee.nodeName.toLowerCase(),Te==="select"||Te==="input"&&Ee.type==="file")var Re=mae;else if(oW(Ee))if(aW)Re=bae;else{Re=vae;var qe=gae}else(Te=Ee.nodeName)&&Te.toLowerCase()==="input"&&(Ee.type==="checkbox"||Ee.type==="radio")&&(Re=yae);if(Re&&(Re=Re(r,pe))){iW(Pe,Re,c,_e);break e}qe&&qe(r,Ee,pe),r==="focusout"&&(qe=Ee._wrapperState)&&qe.controlled&&Ee.type==="number"&&ve(Ee,"number",Ee.value)}switch(qe=pe?Fs(pe):window,r){case"focusin":(oW(qe)||qe.contentEditable==="true")&&(As=qe,Yw=pe,gd=null);break;case"focusout":gd=Yw=As=null;break;case"mousedown":Qw=!0;break;case"contextmenu":case"mouseup":case"dragend":Qw=!1,pW(Pe,c,_e);break;case"selectionchange":if(xae)break;case"keydown":case"keyup":pW(Pe,c,_e)}var $e;if(Lw)e:{switch(r){case"compositionstart":var Ze="onCompositionStart";break e;case"compositionend":Ze="onCompositionEnd";break e;case"compositionupdate":Ze="onCompositionUpdate";break e}Ze=void 0}else Ds?nW(r,c)&&(Ze="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(Ze="onCompositionStart");Ze&&(JK&&c.locale!=="ko"&&(Ds||Ze!=="onCompositionStart"?Ze==="onCompositionEnd"&&Ds&&($e=XK()):(Vi=_e,Vw="value"in Vi?Vi.value:Vi.textContent,Ds=!0)),qe=Xm(pe,Ze),0<qe.length&&(Ze=new YK(Ze,r,null,c,_e),Pe.push({event:Ze,listeners:qe}),$e?Ze.data=$e:($e=rW(c),$e!==null&&(Ze.data=$e)))),($e=cae?dae(r,c):fae(r,c))&&(pe=Xm(pe,"onBeforeInput"),0<pe.length&&(_e=new YK("onBeforeInput","beforeinput",null,c,_e),Pe.push({event:_e,listeners:pe}),_e.data=$e))}EW(Pe,i)})}function bd(r,i,c){return{instance:r,listener:i,currentTarget:c}}function Xm(r,i){for(var c=i+"Capture",p=[];r!==null;){var w=r,E=w.stateNode;w.tag===5&&E!==null&&(w=E,E=td(r,c),E!=null&&p.unshift(bd(r,E,w)),E=td(r,i),E!=null&&p.push(bd(r,E,w))),r=r.return}return p}function Ms(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function PW(r,i,c,p,w){for(var E=i._reactName,T=[];c!==null&&c!==p;){var W=c,Y=W.alternate,pe=W.stateNode;if(Y!==null&&Y===p)break;W.tag===5&&pe!==null&&(W=pe,w?(Y=td(c,E),Y!=null&&T.unshift(bd(c,Y,W))):w||(Y=td(c,E),Y!=null&&T.push(bd(c,Y,W)))),c=c.return}T.length!==0&&r.push({event:i,listeners:T})}var Eae=/\r\n?/g,_ae=/\u0000|\uFFFD/g;function CW(r){return(typeof r=="string"?r:""+r).replace(Eae,`
`).replace(_ae,"")}function Zm(r,i,c){if(i=CW(i),CW(r)!==i&&c)throw Error(o(425))}function Gm(){}var nx=null,rx=null;function ox(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ix=typeof setTimeout=="function"?setTimeout:void 0,Pae=typeof clearTimeout=="function"?clearTimeout:void 0,IW=typeof Promise=="function"?Promise:void 0,Cae=typeof queueMicrotask=="function"?queueMicrotask:typeof IW<"u"?function(r){return IW.resolve(null).then(r).catch(Iae)}:ix;function Iae(r){setTimeout(function(){throw r})}function ax(r,i){var c=i,p=0;do{var w=c.nextSibling;if(r.removeChild(c),w&&w.nodeType===8)if(c=w.data,c==="/$"){if(p===0){r.removeChild(w),ud(i);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=w}while(c);ud(i)}function Wi(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function jW(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"){if(i===0)return r;i--}else c==="/$"&&i++}r=r.previousSibling}return null}var Ns=Math.random().toString(36).slice(2),yo="__reactFiber$"+Ns,kd="__reactProps$"+Ns,Lo="__reactContainer$"+Ns,lx="__reactEvents$"+Ns,jae="__reactListeners$"+Ns,Oae="__reactHandles$"+Ns;function rl(r){var i=r[yo];if(i)return i;for(var c=r.parentNode;c;){if(i=c[Lo]||c[yo]){if(c=i.alternate,i.child!==null||c!==null&&c.child!==null)for(r=jW(r);r!==null;){if(c=r[yo])return c;r=jW(r)}return i}r=c,c=r.parentNode}return null}function wd(r){return r=r[yo]||r[Lo],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Fs(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(o(33))}function Ym(r){return r[kd]||null}var sx=[],Rs=-1;function Hi(r){return{current:r}}function bt(r){0>Rs||(r.current=sx[Rs],sx[Rs]=null,Rs--)}function mt(r,i){Rs++,sx[Rs]=r.current,r.current=i}var qi={},mn=Hi(qi),zn=Hi(!1),ol=qi;function Us(r,i){var c=r.type.contextTypes;if(!c)return qi;var p=r.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===i)return p.__reactInternalMemoizedMaskedChildContext;var w={},E;for(E in c)w[E]=i[E];return p&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=w),w}function Dn(r){return r=r.childContextTypes,r!=null}function Qm(){bt(zn),bt(mn)}function OW(r,i,c){if(mn.current!==qi)throw Error(o(168));mt(mn,i),mt(zn,c)}function TW(r,i,c){var p=r.stateNode;if(i=i.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var w in p)if(!(w in i))throw Error(o(108,me(r)||"Unknown",w));return A({},c,p)}function Jm(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||qi,ol=mn.current,mt(mn,r),mt(zn,zn.current),!0}function zW(r,i,c){var p=r.stateNode;if(!p)throw Error(o(169));c?(r=TW(r,i,ol),p.__reactInternalMemoizedMergedChildContext=r,bt(zn),bt(mn),mt(mn,r)):bt(zn),mt(zn,c)}var Xo=null,e0=!1,ux=!1;function DW(r){Xo===null?Xo=[r]:Xo.push(r)}function Tae(r){e0=!0,DW(r)}function $i(){if(!ux&&Xo!==null){ux=!0;var r=0,i=ut;try{var c=Xo;for(ut=1;r<c.length;r++){var p=c[r];do p=p(!0);while(p!==null)}Xo=null,e0=!1}catch(w){throw Xo!==null&&(Xo=Xo.slice(r+1)),AK(Dw,$i),w}finally{ut=i,ux=!1}}return null}var Vs=[],Ks=0,t0=null,n0=0,ar=[],lr=0,il=null,Zo=1,Go="";function al(r,i){Vs[Ks++]=n0,Vs[Ks++]=t0,t0=r,n0=i}function AW(r,i,c){ar[lr++]=Zo,ar[lr++]=Go,ar[lr++]=il,il=r;var p=Zo;r=Go;var w=32-Nr(p)-1;p&=~(1<<w),c+=1;var E=32-Nr(i)+w;if(30<E){var T=w-w%5;E=(p&(1<<T)-1).toString(32),p>>=T,w-=T,Zo=1<<32-Nr(i)+w|c<<w|p,Go=E+r}else Zo=1<<E|c<<w|p,Go=r}function cx(r){r.return!==null&&(al(r,1),AW(r,1,0))}function dx(r){for(;r===t0;)t0=Vs[--Ks],Vs[Ks]=null,n0=Vs[--Ks],Vs[Ks]=null;for(;r===il;)il=ar[--lr],ar[lr]=null,Go=ar[--lr],ar[lr]=null,Zo=ar[--lr],ar[lr]=null}var $n=null,Ln=null,wt=!1,Rr=null;function BW(r,i){var c=dr(5,null,null,0);c.elementType="DELETED",c.stateNode=i,c.return=r,i=r.deletions,i===null?(r.deletions=[c],r.flags|=16):i.push(c)}function MW(r,i){switch(r.tag){case 5:var c=r.type;return i=i.nodeType!==1||c.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,$n=r,Ln=Wi(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,$n=r,Ln=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(c=il!==null?{id:Zo,overflow:Go}:null,r.memoizedState={dehydrated:i,treeContext:c,retryLane:1073741824},c=dr(18,null,null,0),c.stateNode=i,c.return=r,r.child=c,$n=r,Ln=null,!0):!1;default:return!1}}function fx(r){return(r.mode&1)!==0&&(r.flags&128)===0}function px(r){if(wt){var i=Ln;if(i){var c=i;if(!MW(r,i)){if(fx(r))throw Error(o(418));i=Wi(c.nextSibling);var p=$n;i&&MW(r,i)?BW(p,c):(r.flags=r.flags&-4097|2,wt=!1,$n=r)}}else{if(fx(r))throw Error(o(418));r.flags=r.flags&-4097|2,wt=!1,$n=r}}}function NW(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;$n=r}function r0(r){if(r!==$n)return!1;if(!wt)return NW(r),wt=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!ox(r.type,r.memoizedProps)),i&&(i=Ln)){if(fx(r))throw FW(),Error(o(418));for(;i;)BW(r,i),i=Wi(i.nextSibling)}if(NW(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(o(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var c=r.data;if(c==="/$"){if(i===0){Ln=Wi(r.nextSibling);break e}i--}else c!=="$"&&c!=="$!"&&c!=="$?"||i++}r=r.nextSibling}Ln=null}}else Ln=$n?Wi(r.stateNode.nextSibling):null;return!0}function FW(){for(var r=Ln;r;)r=Wi(r.nextSibling)}function Ws(){Ln=$n=null,wt=!1}function hx(r){Rr===null?Rr=[r]:Rr.push(r)}var zae=j.ReactCurrentBatchConfig;function Ur(r,i){if(r&&r.defaultProps){i=A({},i),r=r.defaultProps;for(var c in r)i[c]===void 0&&(i[c]=r[c]);return i}return i}var o0=Hi(null),i0=null,Hs=null,mx=null;function gx(){mx=Hs=i0=null}function vx(r){var i=o0.current;bt(o0),r._currentValue=i}function yx(r,i,c){for(;r!==null;){var p=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,p!==null&&(p.childLanes|=i)):p!==null&&(p.childLanes&i)!==i&&(p.childLanes|=i),r===c)break;r=r.return}}function qs(r,i){i0=r,mx=Hs=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&i&&(An=!0),r.firstContext=null)}function sr(r){var i=r._currentValue;if(mx!==r)if(r={context:r,memoizedValue:i,next:null},Hs===null){if(i0===null)throw Error(o(308));Hs=r,i0.dependencies={lanes:0,firstContext:r}}else Hs=Hs.next=r;return i}var ll=null;function bx(r){ll===null?ll=[r]:ll.push(r)}function RW(r,i,c,p){var w=i.interleaved;return w===null?(c.next=c,bx(i)):(c.next=w.next,w.next=c),i.interleaved=c,Yo(r,p)}function Yo(r,i){r.lanes|=i;var c=r.alternate;for(c!==null&&(c.lanes|=i),c=r,r=r.return;r!==null;)r.childLanes|=i,c=r.alternate,c!==null&&(c.childLanes|=i),c=r,r=r.return;return c.tag===3?c.stateNode:null}var Li=!1;function kx(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function UW(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Qo(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function Xi(r,i,c){var p=r.updateQueue;if(p===null)return null;if(p=p.shared,it&2){var w=p.pending;return w===null?i.next=i:(i.next=w.next,w.next=i),p.pending=i,Yo(r,c)}return w=p.interleaved,w===null?(i.next=i,bx(p)):(i.next=w.next,w.next=i),p.interleaved=i,Yo(r,c)}function a0(r,i,c){if(i=i.updateQueue,i!==null&&(i=i.shared,(c&4194240)!==0)){var p=i.lanes;p&=r.pendingLanes,c|=p,i.lanes=c,Mw(r,c)}}function VW(r,i){var c=r.updateQueue,p=r.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var w=null,E=null;if(c=c.firstBaseUpdate,c!==null){do{var T={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};E===null?w=E=T:E=E.next=T,c=c.next}while(c!==null);E===null?w=E=i:E=E.next=i}else w=E=i;c={baseState:p.baseState,firstBaseUpdate:w,lastBaseUpdate:E,shared:p.shared,effects:p.effects},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=i:r.next=i,c.lastBaseUpdate=i}function l0(r,i,c,p){var w=r.updateQueue;Li=!1;var E=w.firstBaseUpdate,T=w.lastBaseUpdate,W=w.shared.pending;if(W!==null){w.shared.pending=null;var Y=W,pe=Y.next;Y.next=null,T===null?E=pe:T.next=pe,T=Y;var _e=r.alternate;_e!==null&&(_e=_e.updateQueue,W=_e.lastBaseUpdate,W!==T&&(W===null?_e.firstBaseUpdate=pe:W.next=pe,_e.lastBaseUpdate=Y))}if(E!==null){var Pe=w.baseState;T=0,_e=pe=Y=null,W=E;do{var Ee=W.lane,Te=W.eventTime;if((p&Ee)===Ee){_e!==null&&(_e=_e.next={eventTime:Te,lane:0,tag:W.tag,payload:W.payload,callback:W.callback,next:null});e:{var Be=r,Ne=W;switch(Ee=i,Te=c,Ne.tag){case 1:if(Be=Ne.payload,typeof Be=="function"){Pe=Be.call(Te,Pe,Ee);break e}Pe=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=Ne.payload,Ee=typeof Be=="function"?Be.call(Te,Pe,Ee):Be,Ee==null)break e;Pe=A({},Pe,Ee);break e;case 2:Li=!0}}W.callback!==null&&W.lane!==0&&(r.flags|=64,Ee=w.effects,Ee===null?w.effects=[W]:Ee.push(W))}else Te={eventTime:Te,lane:Ee,tag:W.tag,payload:W.payload,callback:W.callback,next:null},_e===null?(pe=_e=Te,Y=Pe):_e=_e.next=Te,T|=Ee;if(W=W.next,W===null){if(W=w.shared.pending,W===null)break;Ee=W,W=Ee.next,Ee.next=null,w.lastBaseUpdate=Ee,w.shared.pending=null}}while(1);if(_e===null&&(Y=Pe),w.baseState=Y,w.firstBaseUpdate=pe,w.lastBaseUpdate=_e,i=w.shared.interleaved,i!==null){w=i;do T|=w.lane,w=w.next;while(w!==i)}else E===null&&(w.shared.lanes=0);cl|=T,r.lanes=T,r.memoizedState=Pe}}function KW(r,i,c){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var p=r[i],w=p.callback;if(w!==null){if(p.callback=null,p=c,typeof w!="function")throw Error(o(191,w));w.call(p)}}}var WW=new t.Component().refs;function wx(r,i,c,p){i=r.memoizedState,c=c(p,i),c=c==null?i:A({},i,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var s0={isMounted:function(r){return(r=r._reactInternals)?nl(r)===r:!1},enqueueSetState:function(r,i,c){r=r._reactInternals;var p=Cn(),w=Qi(r),E=Qo(p,w);E.payload=i,c!=null&&(E.callback=c),i=Xi(r,E,w),i!==null&&(Wr(i,r,w,p),a0(i,r,w))},enqueueReplaceState:function(r,i,c){r=r._reactInternals;var p=Cn(),w=Qi(r),E=Qo(p,w);E.tag=1,E.payload=i,c!=null&&(E.callback=c),i=Xi(r,E,w),i!==null&&(Wr(i,r,w,p),a0(i,r,w))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var c=Cn(),p=Qi(r),w=Qo(c,p);w.tag=2,i!=null&&(w.callback=i),i=Xi(r,w,p),i!==null&&(Wr(i,r,p,c),a0(i,r,p))}};function HW(r,i,c,p,w,E,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(p,E,T):i.prototype&&i.prototype.isPureReactComponent?!md(c,p)||!md(w,E):!0}function qW(r,i,c){var p=!1,w=qi,E=i.contextType;return typeof E=="object"&&E!==null?E=sr(E):(w=Dn(i)?ol:mn.current,p=i.contextTypes,E=(p=p!=null)?Us(r,w):qi),i=new i(c,E),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=s0,r.stateNode=i,i._reactInternals=r,p&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=w,r.__reactInternalMemoizedMaskedChildContext=E),i}function $W(r,i,c,p){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(c,p),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(c,p),i.state!==r&&s0.enqueueReplaceState(i,i.state,null)}function xx(r,i,c,p){var w=r.stateNode;w.props=c,w.state=r.memoizedState,w.refs=WW,kx(r);var E=i.contextType;typeof E=="object"&&E!==null?w.context=sr(E):(E=Dn(i)?ol:mn.current,w.context=Us(r,E)),w.state=r.memoizedState,E=i.getDerivedStateFromProps,typeof E=="function"&&(wx(r,i,E,c),w.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(i=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),i!==w.state&&s0.enqueueReplaceState(w,w.state,null),l0(r,c,w,p),w.state=r.memoizedState),typeof w.componentDidMount=="function"&&(r.flags|=4194308)}function xd(r,i,c){if(r=c.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(o(309));var p=c.stateNode}if(!p)throw Error(o(147,r));var w=p,E=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===E?i.ref:(i=function(T){var W=w.refs;W===WW&&(W=w.refs={}),T===null?delete W[E]:W[E]=T},i._stringRef=E,i)}if(typeof r!="string")throw Error(o(284));if(!c._owner)throw Error(o(290,r))}return r}function u0(r,i){throw r=Object.prototype.toString.call(i),Error(o(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function LW(r){var i=r._init;return i(r._payload)}function XW(r){function i(ie,J){if(r){var se=ie.deletions;se===null?(ie.deletions=[J],ie.flags|=16):se.push(J)}}function c(ie,J){if(!r)return null;for(;J!==null;)i(ie,J),J=J.sibling;return null}function p(ie,J){for(ie=new Map;J!==null;)J.key!==null?ie.set(J.key,J):ie.set(J.index,J),J=J.sibling;return ie}function w(ie,J){return ie=ea(ie,J),ie.index=0,ie.sibling=null,ie}function E(ie,J,se){return ie.index=se,r?(se=ie.alternate,se!==null?(se=se.index,se<J?(ie.flags|=2,J):se):(ie.flags|=2,J)):(ie.flags|=1048576,J)}function T(ie){return r&&ie.alternate===null&&(ie.flags|=2),ie}function W(ie,J,se,Ce){return J===null||J.tag!==6?(J=o2(se,ie.mode,Ce),J.return=ie,J):(J=w(J,se),J.return=ie,J)}function Y(ie,J,se,Ce){var Re=se.type;return Re===M?_e(ie,J,se.props.children,Ce,se.key):J!==null&&(J.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===H&&LW(Re)===J.type)?(Ce=w(J,se.props),Ce.ref=xd(ie,J,se),Ce.return=ie,Ce):(Ce=I0(se.type,se.key,se.props,null,ie.mode,Ce),Ce.ref=xd(ie,J,se),Ce.return=ie,Ce)}function pe(ie,J,se,Ce){return J===null||J.tag!==4||J.stateNode.containerInfo!==se.containerInfo||J.stateNode.implementation!==se.implementation?(J=i2(se,ie.mode,Ce),J.return=ie,J):(J=w(J,se.children||[]),J.return=ie,J)}function _e(ie,J,se,Ce,Re){return J===null||J.tag!==7?(J=hl(se,ie.mode,Ce,Re),J.return=ie,J):(J=w(J,se),J.return=ie,J)}function Pe(ie,J,se){if(typeof J=="string"&&J!==""||typeof J=="number")return J=o2(""+J,ie.mode,se),J.return=ie,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case z:return se=I0(J.type,J.key,J.props,null,ie.mode,se),se.ref=xd(ie,null,J),se.return=ie,se;case K:return J=i2(J,ie.mode,se),J.return=ie,J;case H:var Ce=J._init;return Pe(ie,Ce(J._payload),se)}if(ke(J)||ge(J))return J=hl(J,ie.mode,se,null),J.return=ie,J;u0(ie,J)}return null}function Ee(ie,J,se,Ce){var Re=J!==null?J.key:null;if(typeof se=="string"&&se!==""||typeof se=="number")return Re!==null?null:W(ie,J,""+se,Ce);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case z:return se.key===Re?Y(ie,J,se,Ce):null;case K:return se.key===Re?pe(ie,J,se,Ce):null;case H:return Re=se._init,Ee(ie,J,Re(se._payload),Ce)}if(ke(se)||ge(se))return Re!==null?null:_e(ie,J,se,Ce,null);u0(ie,se)}return null}function Te(ie,J,se,Ce,Re){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return ie=ie.get(se)||null,W(J,ie,""+Ce,Re);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case z:return ie=ie.get(Ce.key===null?se:Ce.key)||null,Y(J,ie,Ce,Re);case K:return ie=ie.get(Ce.key===null?se:Ce.key)||null,pe(J,ie,Ce,Re);case H:var qe=Ce._init;return Te(ie,J,se,qe(Ce._payload),Re)}if(ke(Ce)||ge(Ce))return ie=ie.get(se)||null,_e(J,ie,Ce,Re,null);u0(J,Ce)}return null}function Be(ie,J,se,Ce){for(var Re=null,qe=null,$e=J,Ze=J=0,Zt=null;$e!==null&&Ze<se.length;Ze++){$e.index>Ze?(Zt=$e,$e=null):Zt=$e.sibling;var lt=Ee(ie,$e,se[Ze],Ce);if(lt===null){$e===null&&($e=Zt);break}r&&$e&&lt.alternate===null&&i(ie,$e),J=E(lt,J,Ze),qe===null?Re=lt:qe.sibling=lt,qe=lt,$e=Zt}if(Ze===se.length)return c(ie,$e),wt&&al(ie,Ze),Re;if($e===null){for(;Ze<se.length;Ze++)$e=Pe(ie,se[Ze],Ce),$e!==null&&(J=E($e,J,Ze),qe===null?Re=$e:qe.sibling=$e,qe=$e);return wt&&al(ie,Ze),Re}for($e=p(ie,$e);Ze<se.length;Ze++)Zt=Te($e,ie,Ze,se[Ze],Ce),Zt!==null&&(r&&Zt.alternate!==null&&$e.delete(Zt.key===null?Ze:Zt.key),J=E(Zt,J,Ze),qe===null?Re=Zt:qe.sibling=Zt,qe=Zt);return r&&$e.forEach(function(ta){return i(ie,ta)}),wt&&al(ie,Ze),Re}function Ne(ie,J,se,Ce){var Re=ge(se);if(typeof Re!="function")throw Error(o(150));if(se=Re.call(se),se==null)throw Error(o(151));for(var qe=Re=null,$e=J,Ze=J=0,Zt=null,lt=se.next();$e!==null&&!lt.done;Ze++,lt=se.next()){$e.index>Ze?(Zt=$e,$e=null):Zt=$e.sibling;var ta=Ee(ie,$e,lt.value,Ce);if(ta===null){$e===null&&($e=Zt);break}r&&$e&&ta.alternate===null&&i(ie,$e),J=E(ta,J,Ze),qe===null?Re=ta:qe.sibling=ta,qe=ta,$e=Zt}if(lt.done)return c(ie,$e),wt&&al(ie,Ze),Re;if($e===null){for(;!lt.done;Ze++,lt=se.next())lt=Pe(ie,lt.value,Ce),lt!==null&&(J=E(lt,J,Ze),qe===null?Re=lt:qe.sibling=lt,qe=lt);return wt&&al(ie,Ze),Re}for($e=p(ie,$e);!lt.done;Ze++,lt=se.next())lt=Te($e,ie,Ze,lt.value,Ce),lt!==null&&(r&&lt.alternate!==null&&$e.delete(lt.key===null?Ze:lt.key),J=E(lt,J,Ze),qe===null?Re=lt:qe.sibling=lt,qe=lt);return r&&$e.forEach(function(dle){return i(ie,dle)}),wt&&al(ie,Ze),Re}function Dt(ie,J,se,Ce){if(typeof se=="object"&&se!==null&&se.type===M&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case z:e:{for(var Re=se.key,qe=J;qe!==null;){if(qe.key===Re){if(Re=se.type,Re===M){if(qe.tag===7){c(ie,qe.sibling),J=w(qe,se.props.children),J.return=ie,ie=J;break e}}else if(qe.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===H&&LW(Re)===qe.type){c(ie,qe.sibling),J=w(qe,se.props),J.ref=xd(ie,qe,se),J.return=ie,ie=J;break e}c(ie,qe);break}else i(ie,qe);qe=qe.sibling}se.type===M?(J=hl(se.props.children,ie.mode,Ce,se.key),J.return=ie,ie=J):(Ce=I0(se.type,se.key,se.props,null,ie.mode,Ce),Ce.ref=xd(ie,J,se),Ce.return=ie,ie=Ce)}return T(ie);case K:e:{for(qe=se.key;J!==null;){if(J.key===qe)if(J.tag===4&&J.stateNode.containerInfo===se.containerInfo&&J.stateNode.implementation===se.implementation){c(ie,J.sibling),J=w(J,se.children||[]),J.return=ie,ie=J;break e}else{c(ie,J);break}else i(ie,J);J=J.sibling}J=i2(se,ie.mode,Ce),J.return=ie,ie=J}return T(ie);case H:return qe=se._init,Dt(ie,J,qe(se._payload),Ce)}if(ke(se))return Be(ie,J,se,Ce);if(ge(se))return Ne(ie,J,se,Ce);u0(ie,se)}return typeof se=="string"&&se!==""||typeof se=="number"?(se=""+se,J!==null&&J.tag===6?(c(ie,J.sibling),J=w(J,se),J.return=ie,ie=J):(c(ie,J),J=o2(se,ie.mode,Ce),J.return=ie,ie=J),T(ie)):c(ie,J)}return Dt}var $s=XW(!0),ZW=XW(!1),Sd={},bo=Hi(Sd),Ed=Hi(Sd),_d=Hi(Sd);function sl(r){if(r===Sd)throw Error(o(174));return r}function Sx(r,i){switch(mt(_d,i),mt(Ed,r),mt(bo,Sd),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Xe(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=Xe(i,r)}bt(bo),mt(bo,i)}function Ls(){bt(bo),bt(Ed),bt(_d)}function GW(r){sl(_d.current);var i=sl(bo.current),c=Xe(i,r.type);i!==c&&(mt(Ed,r),mt(bo,c))}function Ex(r){Ed.current===r&&(bt(bo),bt(Ed))}var Pt=Hi(0);function c0(r){for(var i=r;i!==null;){if(i.tag===13){var c=i.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var _x=[];function Px(){for(var r=0;r<_x.length;r++)_x[r]._workInProgressVersionPrimary=null;_x.length=0}var d0=j.ReactCurrentDispatcher,Cx=j.ReactCurrentBatchConfig,ul=0,Ct=null,Vt=null,Lt=null,f0=!1,Pd=!1,Cd=0,Dae=0;function gn(){throw Error(o(321))}function Ix(r,i){if(i===null)return!1;for(var c=0;c<i.length&&c<r.length;c++)if(!Fr(r[c],i[c]))return!1;return!0}function jx(r,i,c,p,w,E){if(ul=E,Ct=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,d0.current=r===null||r.memoizedState===null?Nae:Fae,r=c(p,w),Pd){E=0;do{if(Pd=!1,Cd=0,25<=E)throw Error(o(301));E+=1,Lt=Vt=null,i.updateQueue=null,d0.current=Rae,r=c(p,w)}while(Pd)}if(d0.current=m0,i=Vt!==null&&Vt.next!==null,ul=0,Lt=Vt=Ct=null,f0=!1,i)throw Error(o(300));return r}function Ox(){var r=Cd!==0;return Cd=0,r}function ko(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?Ct.memoizedState=Lt=r:Lt=Lt.next=r,Lt}function ur(){if(Vt===null){var r=Ct.alternate;r=r!==null?r.memoizedState:null}else r=Vt.next;var i=Lt===null?Ct.memoizedState:Lt.next;if(i!==null)Lt=i,Vt=r;else{if(r===null)throw Error(o(310));Vt=r,r={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},Lt===null?Ct.memoizedState=Lt=r:Lt=Lt.next=r}return Lt}function Id(r,i){return typeof i=="function"?i(r):i}function Tx(r){var i=ur(),c=i.queue;if(c===null)throw Error(o(311));c.lastRenderedReducer=r;var p=Vt,w=p.baseQueue,E=c.pending;if(E!==null){if(w!==null){var T=w.next;w.next=E.next,E.next=T}p.baseQueue=w=E,c.pending=null}if(w!==null){E=w.next,p=p.baseState;var W=T=null,Y=null,pe=E;do{var _e=pe.lane;if((ul&_e)===_e)Y!==null&&(Y=Y.next={lane:0,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null}),p=pe.hasEagerState?pe.eagerState:r(p,pe.action);else{var Pe={lane:_e,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null};Y===null?(W=Y=Pe,T=p):Y=Y.next=Pe,Ct.lanes|=_e,cl|=_e}pe=pe.next}while(pe!==null&&pe!==E);Y===null?T=p:Y.next=W,Fr(p,i.memoizedState)||(An=!0),i.memoizedState=p,i.baseState=T,i.baseQueue=Y,c.lastRenderedState=p}if(r=c.interleaved,r!==null){w=r;do E=w.lane,Ct.lanes|=E,cl|=E,w=w.next;while(w!==r)}else w===null&&(c.lanes=0);return[i.memoizedState,c.dispatch]}function zx(r){var i=ur(),c=i.queue;if(c===null)throw Error(o(311));c.lastRenderedReducer=r;var p=c.dispatch,w=c.pending,E=i.memoizedState;if(w!==null){c.pending=null;var T=w=w.next;do E=r(E,T.action),T=T.next;while(T!==w);Fr(E,i.memoizedState)||(An=!0),i.memoizedState=E,i.baseQueue===null&&(i.baseState=E),c.lastRenderedState=E}return[E,p]}function YW(){}function QW(r,i){var c=Ct,p=ur(),w=i(),E=!Fr(p.memoizedState,w);if(E&&(p.memoizedState=w,An=!0),p=p.queue,Dx(tH.bind(null,c,p,r),[r]),p.getSnapshot!==i||E||Lt!==null&&Lt.memoizedState.tag&1){if(c.flags|=2048,jd(9,eH.bind(null,c,p,w,i),void 0,null),Xt===null)throw Error(o(349));ul&30||JW(c,i,w)}return w}function JW(r,i,c){r.flags|=16384,r={getSnapshot:i,value:c},i=Ct.updateQueue,i===null?(i={lastEffect:null,stores:null},Ct.updateQueue=i,i.stores=[r]):(c=i.stores,c===null?i.stores=[r]:c.push(r))}function eH(r,i,c,p){i.value=c,i.getSnapshot=p,nH(i)&&rH(r)}function tH(r,i,c){return c(function(){nH(i)&&rH(r)})}function nH(r){var i=r.getSnapshot;r=r.value;try{var c=i();return!Fr(r,c)}catch{return!0}}function rH(r){var i=Yo(r,1);i!==null&&Wr(i,r,1,-1)}function oH(r){var i=ko();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Id,lastRenderedState:r},i.queue=r,r=r.dispatch=Mae.bind(null,Ct,r),[i.memoizedState,r]}function jd(r,i,c,p){return r={tag:r,create:i,destroy:c,deps:p,next:null},i=Ct.updateQueue,i===null?(i={lastEffect:null,stores:null},Ct.updateQueue=i,i.lastEffect=r.next=r):(c=i.lastEffect,c===null?i.lastEffect=r.next=r:(p=c.next,c.next=r,r.next=p,i.lastEffect=r)),r}function iH(){return ur().memoizedState}function p0(r,i,c,p){var w=ko();Ct.flags|=r,w.memoizedState=jd(1|i,c,void 0,p===void 0?null:p)}function h0(r,i,c,p){var w=ur();p=p===void 0?null:p;var E=void 0;if(Vt!==null){var T=Vt.memoizedState;if(E=T.destroy,p!==null&&Ix(p,T.deps)){w.memoizedState=jd(i,c,E,p);return}}Ct.flags|=r,w.memoizedState=jd(1|i,c,E,p)}function aH(r,i){return p0(8390656,8,r,i)}function Dx(r,i){return h0(2048,8,r,i)}function lH(r,i){return h0(4,2,r,i)}function sH(r,i){return h0(4,4,r,i)}function uH(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function cH(r,i,c){return c=c!=null?c.concat([r]):null,h0(4,4,uH.bind(null,i,r),c)}function Ax(){}function dH(r,i){var c=ur();i=i===void 0?null:i;var p=c.memoizedState;return p!==null&&i!==null&&Ix(i,p[1])?p[0]:(c.memoizedState=[r,i],r)}function fH(r,i){var c=ur();i=i===void 0?null:i;var p=c.memoizedState;return p!==null&&i!==null&&Ix(i,p[1])?p[0]:(r=r(),c.memoizedState=[r,i],r)}function pH(r,i,c){return ul&21?(Fr(c,i)||(c=FK(),Ct.lanes|=c,cl|=c,r.baseState=!0),i):(r.baseState&&(r.baseState=!1,An=!0),r.memoizedState=c)}function Aae(r,i){var c=ut;ut=c!==0&&4>c?c:4,r(!0);var p=Cx.transition;Cx.transition={};try{r(!1),i()}finally{ut=c,Cx.transition=p}}function hH(){return ur().memoizedState}function Bae(r,i,c){var p=Qi(r);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},mH(r))gH(i,c);else if(c=RW(r,i,c,p),c!==null){var w=Cn();Wr(c,r,p,w),vH(c,i,p)}}function Mae(r,i,c){var p=Qi(r),w={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(mH(r))gH(i,w);else{var E=r.alternate;if(r.lanes===0&&(E===null||E.lanes===0)&&(E=i.lastRenderedReducer,E!==null))try{var T=i.lastRenderedState,W=E(T,c);if(w.hasEagerState=!0,w.eagerState=W,Fr(W,T)){var Y=i.interleaved;Y===null?(w.next=w,bx(i)):(w.next=Y.next,Y.next=w),i.interleaved=w;return}}catch{}finally{}c=RW(r,i,w,p),c!==null&&(w=Cn(),Wr(c,r,p,w),vH(c,i,p))}}function mH(r){var i=r.alternate;return r===Ct||i!==null&&i===Ct}function gH(r,i){Pd=f0=!0;var c=r.pending;c===null?i.next=i:(i.next=c.next,c.next=i),r.pending=i}function vH(r,i,c){if(c&4194240){var p=i.lanes;p&=r.pendingLanes,c|=p,i.lanes=c,Mw(r,c)}}var m0={readContext:sr,useCallback:gn,useContext:gn,useEffect:gn,useImperativeHandle:gn,useInsertionEffect:gn,useLayoutEffect:gn,useMemo:gn,useReducer:gn,useRef:gn,useState:gn,useDebugValue:gn,useDeferredValue:gn,useTransition:gn,useMutableSource:gn,useSyncExternalStore:gn,useId:gn,unstable_isNewReconciler:!1},Nae={readContext:sr,useCallback:function(r,i){return ko().memoizedState=[r,i===void 0?null:i],r},useContext:sr,useEffect:aH,useImperativeHandle:function(r,i,c){return c=c!=null?c.concat([r]):null,p0(4194308,4,uH.bind(null,i,r),c)},useLayoutEffect:function(r,i){return p0(4194308,4,r,i)},useInsertionEffect:function(r,i){return p0(4,2,r,i)},useMemo:function(r,i){var c=ko();return i=i===void 0?null:i,r=r(),c.memoizedState=[r,i],r},useReducer:function(r,i,c){var p=ko();return i=c!==void 0?c(i):i,p.memoizedState=p.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},p.queue=r,r=r.dispatch=Bae.bind(null,Ct,r),[p.memoizedState,r]},useRef:function(r){var i=ko();return r={current:r},i.memoizedState=r},useState:oH,useDebugValue:Ax,useDeferredValue:function(r){return ko().memoizedState=r},useTransition:function(){var r=oH(!1),i=r[0];return r=Aae.bind(null,r[1]),ko().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,c){var p=Ct,w=ko();if(wt){if(c===void 0)throw Error(o(407));c=c()}else{if(c=i(),Xt===null)throw Error(o(349));ul&30||JW(p,i,c)}w.memoizedState=c;var E={value:c,getSnapshot:i};return w.queue=E,aH(tH.bind(null,p,E,r),[r]),p.flags|=2048,jd(9,eH.bind(null,p,E,c,i),void 0,null),c},useId:function(){var r=ko(),i=Xt.identifierPrefix;if(wt){var c=Go,p=Zo;c=(p&~(1<<32-Nr(p)-1)).toString(32)+c,i=":"+i+"R"+c,c=Cd++,0<c&&(i+="H"+c.toString(32)),i+=":"}else c=Dae++,i=":"+i+"r"+c.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},Fae={readContext:sr,useCallback:dH,useContext:sr,useEffect:Dx,useImperativeHandle:cH,useInsertionEffect:lH,useLayoutEffect:sH,useMemo:fH,useReducer:Tx,useRef:iH,useState:function(){return Tx(Id)},useDebugValue:Ax,useDeferredValue:function(r){var i=ur();return pH(i,Vt.memoizedState,r)},useTransition:function(){var r=Tx(Id)[0],i=ur().memoizedState;return[r,i]},useMutableSource:YW,useSyncExternalStore:QW,useId:hH,unstable_isNewReconciler:!1},Rae={readContext:sr,useCallback:dH,useContext:sr,useEffect:Dx,useImperativeHandle:cH,useInsertionEffect:lH,useLayoutEffect:sH,useMemo:fH,useReducer:zx,useRef:iH,useState:function(){return zx(Id)},useDebugValue:Ax,useDeferredValue:function(r){var i=ur();return Vt===null?i.memoizedState=r:pH(i,Vt.memoizedState,r)},useTransition:function(){var r=zx(Id)[0],i=ur().memoizedState;return[r,i]},useMutableSource:YW,useSyncExternalStore:QW,useId:hH,unstable_isNewReconciler:!1};function Xs(r,i){try{var c="",p=i;do c+=te(p),p=p.return;while(p);var w=c}catch(E){w=`
Error generating stack: `+E.message+`
`+E.stack}return{value:r,source:i,stack:w,digest:null}}function Bx(r,i,c){return{value:r,source:null,stack:c??null,digest:i??null}}function Mx(r,i){try{console.error(i.value)}catch(c){setTimeout(function(){throw c})}}var Uae=typeof WeakMap=="function"?WeakMap:Map;function yH(r,i,c){c=Qo(-1,c),c.tag=3,c.payload={element:null};var p=i.value;return c.callback=function(){x0||(x0=!0,Gx=p),Mx(r,i)},c}function bH(r,i,c){c=Qo(-1,c),c.tag=3;var p=r.type.getDerivedStateFromError;if(typeof p=="function"){var w=i.value;c.payload=function(){return p(w)},c.callback=function(){Mx(r,i)}}var E=r.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(c.callback=function(){Mx(r,i),typeof p!="function"&&(Gi===null?Gi=new Set([this]):Gi.add(this));var T=i.stack;this.componentDidCatch(i.value,{componentStack:T!==null?T:""})}),c}function kH(r,i,c){var p=r.pingCache;if(p===null){p=r.pingCache=new Uae;var w=new Set;p.set(i,w)}else w=p.get(i),w===void 0&&(w=new Set,p.set(i,w));w.has(c)||(w.add(c),r=ele.bind(null,r,i,c),i.then(r,r))}function wH(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function xH(r,i,c,p,w){return r.mode&1?(r.flags|=65536,r.lanes=w,r):(r===i?r.flags|=65536:(r.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(i=Qo(-1,1),i.tag=2,Xi(c,i,1))),c.lanes|=1),r)}var Vae=j.ReactCurrentOwner,An=!1;function Pn(r,i,c,p){i.child=r===null?ZW(i,null,c,p):$s(i,r.child,c,p)}function SH(r,i,c,p,w){c=c.render;var E=i.ref;return qs(i,w),p=jx(r,i,c,p,E,w),c=Ox(),r!==null&&!An?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~w,Jo(r,i,w)):(wt&&c&&cx(i),i.flags|=1,Pn(r,i,p,w),i.child)}function EH(r,i,c,p,w){if(r===null){var E=c.type;return typeof E=="function"&&!r2(E)&&E.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(i.tag=15,i.type=E,_H(r,i,E,p,w)):(r=I0(c.type,null,p,i,i.mode,w),r.ref=i.ref,r.return=i,i.child=r)}if(E=r.child,!(r.lanes&w)){var T=E.memoizedProps;if(c=c.compare,c=c!==null?c:md,c(T,p)&&r.ref===i.ref)return Jo(r,i,w)}return i.flags|=1,r=ea(E,p),r.ref=i.ref,r.return=i,i.child=r}function _H(r,i,c,p,w){if(r!==null){var E=r.memoizedProps;if(md(E,p)&&r.ref===i.ref)if(An=!1,i.pendingProps=p=E,(r.lanes&w)!==0)r.flags&131072&&(An=!0);else return i.lanes=r.lanes,Jo(r,i,w)}return Nx(r,i,c,p,w)}function PH(r,i,c){var p=i.pendingProps,w=p.children,E=r!==null?r.memoizedState:null;if(p.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},mt(Gs,Xn),Xn|=c;else{if(!(c&1073741824))return r=E!==null?E.baseLanes|c:c,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,mt(Gs,Xn),Xn|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=E!==null?E.baseLanes:c,mt(Gs,Xn),Xn|=p}else E!==null?(p=E.baseLanes|c,i.memoizedState=null):p=c,mt(Gs,Xn),Xn|=p;return Pn(r,i,w,c),i.child}function CH(r,i){var c=i.ref;(r===null&&c!==null||r!==null&&r.ref!==c)&&(i.flags|=512,i.flags|=2097152)}function Nx(r,i,c,p,w){var E=Dn(c)?ol:mn.current;return E=Us(i,E),qs(i,w),c=jx(r,i,c,p,E,w),p=Ox(),r!==null&&!An?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~w,Jo(r,i,w)):(wt&&p&&cx(i),i.flags|=1,Pn(r,i,c,w),i.child)}function IH(r,i,c,p,w){if(Dn(c)){var E=!0;Jm(i)}else E=!1;if(qs(i,w),i.stateNode===null)v0(r,i),qW(i,c,p),xx(i,c,p,w),p=!0;else if(r===null){var T=i.stateNode,W=i.memoizedProps;T.props=W;var Y=T.context,pe=c.contextType;typeof pe=="object"&&pe!==null?pe=sr(pe):(pe=Dn(c)?ol:mn.current,pe=Us(i,pe));var _e=c.getDerivedStateFromProps,Pe=typeof _e=="function"||typeof T.getSnapshotBeforeUpdate=="function";Pe||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(W!==p||Y!==pe)&&$W(i,T,p,pe),Li=!1;var Ee=i.memoizedState;T.state=Ee,l0(i,p,T,w),Y=i.memoizedState,W!==p||Ee!==Y||zn.current||Li?(typeof _e=="function"&&(wx(i,c,_e,p),Y=i.memoizedState),(W=Li||HW(i,c,W,p,Ee,Y,pe))?(Pe||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(i.flags|=4194308)):(typeof T.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=p,i.memoizedState=Y),T.props=p,T.state=Y,T.context=pe,p=W):(typeof T.componentDidMount=="function"&&(i.flags|=4194308),p=!1)}else{T=i.stateNode,UW(r,i),W=i.memoizedProps,pe=i.type===i.elementType?W:Ur(i.type,W),T.props=pe,Pe=i.pendingProps,Ee=T.context,Y=c.contextType,typeof Y=="object"&&Y!==null?Y=sr(Y):(Y=Dn(c)?ol:mn.current,Y=Us(i,Y));var Te=c.getDerivedStateFromProps;(_e=typeof Te=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(W!==Pe||Ee!==Y)&&$W(i,T,p,Y),Li=!1,Ee=i.memoizedState,T.state=Ee,l0(i,p,T,w);var Be=i.memoizedState;W!==Pe||Ee!==Be||zn.current||Li?(typeof Te=="function"&&(wx(i,c,Te,p),Be=i.memoizedState),(pe=Li||HW(i,c,pe,p,Ee,Be,Y)||!1)?(_e||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(p,Be,Y),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(p,Be,Y)),typeof T.componentDidUpdate=="function"&&(i.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof T.componentDidUpdate!="function"||W===r.memoizedProps&&Ee===r.memoizedState||(i.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||W===r.memoizedProps&&Ee===r.memoizedState||(i.flags|=1024),i.memoizedProps=p,i.memoizedState=Be),T.props=p,T.state=Be,T.context=Y,p=pe):(typeof T.componentDidUpdate!="function"||W===r.memoizedProps&&Ee===r.memoizedState||(i.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||W===r.memoizedProps&&Ee===r.memoizedState||(i.flags|=1024),p=!1)}return Fx(r,i,c,p,E,w)}function Fx(r,i,c,p,w,E){CH(r,i);var T=(i.flags&128)!==0;if(!p&&!T)return w&&zW(i,c,!1),Jo(r,i,E);p=i.stateNode,Vae.current=i;var W=T&&typeof c.getDerivedStateFromError!="function"?null:p.render();return i.flags|=1,r!==null&&T?(i.child=$s(i,r.child,null,E),i.child=$s(i,null,W,E)):Pn(r,i,W,E),i.memoizedState=p.state,w&&zW(i,c,!0),i.child}function jH(r){var i=r.stateNode;i.pendingContext?OW(r,i.pendingContext,i.pendingContext!==i.context):i.context&&OW(r,i.context,!1),Sx(r,i.containerInfo)}function OH(r,i,c,p,w){return Ws(),hx(w),i.flags|=256,Pn(r,i,c,p),i.child}var Rx={dehydrated:null,treeContext:null,retryLane:0};function Ux(r){return{baseLanes:r,cachePool:null,transitions:null}}function TH(r,i,c){var p=i.pendingProps,w=Pt.current,E=!1,T=(i.flags&128)!==0,W;if((W=T)||(W=r!==null&&r.memoizedState===null?!1:(w&2)!==0),W?(E=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(w|=1),mt(Pt,w&1),r===null)return px(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(i.mode&1?r.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(T=p.children,r=p.fallback,E?(p=i.mode,E=i.child,T={mode:"hidden",children:T},!(p&1)&&E!==null?(E.childLanes=0,E.pendingProps=T):E=j0(T,p,0,null),r=hl(r,p,c,null),E.return=i,r.return=i,E.sibling=r,i.child=E,i.child.memoizedState=Ux(c),i.memoizedState=Rx,r):Vx(i,T));if(w=r.memoizedState,w!==null&&(W=w.dehydrated,W!==null))return Kae(r,i,T,p,W,w,c);if(E){E=p.fallback,T=i.mode,w=r.child,W=w.sibling;var Y={mode:"hidden",children:p.children};return!(T&1)&&i.child!==w?(p=i.child,p.childLanes=0,p.pendingProps=Y,i.deletions=null):(p=ea(w,Y),p.subtreeFlags=w.subtreeFlags&14680064),W!==null?E=ea(W,E):(E=hl(E,T,c,null),E.flags|=2),E.return=i,p.return=i,p.sibling=E,i.child=p,p=E,E=i.child,T=r.child.memoizedState,T=T===null?Ux(c):{baseLanes:T.baseLanes|c,cachePool:null,transitions:T.transitions},E.memoizedState=T,E.childLanes=r.childLanes&~c,i.memoizedState=Rx,p}return E=r.child,r=E.sibling,p=ea(E,{mode:"visible",children:p.children}),!(i.mode&1)&&(p.lanes=c),p.return=i,p.sibling=null,r!==null&&(c=i.deletions,c===null?(i.deletions=[r],i.flags|=16):c.push(r)),i.child=p,i.memoizedState=null,p}function Vx(r,i){return i=j0({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function g0(r,i,c,p){return p!==null&&hx(p),$s(i,r.child,null,c),r=Vx(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function Kae(r,i,c,p,w,E,T){if(c)return i.flags&256?(i.flags&=-257,p=Bx(Error(o(422))),g0(r,i,T,p)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(E=p.fallback,w=i.mode,p=j0({mode:"visible",children:p.children},w,0,null),E=hl(E,w,T,null),E.flags|=2,p.return=i,E.return=i,p.sibling=E,i.child=p,i.mode&1&&$s(i,r.child,null,T),i.child.memoizedState=Ux(T),i.memoizedState=Rx,E);if(!(i.mode&1))return g0(r,i,T,null);if(w.data==="$!"){if(p=w.nextSibling&&w.nextSibling.dataset,p)var W=p.dgst;return p=W,E=Error(o(419)),p=Bx(E,p,void 0),g0(r,i,T,p)}if(W=(T&r.childLanes)!==0,An||W){if(p=Xt,p!==null){switch(T&-T){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:w=32;break;case 536870912:w=268435456;break;default:w=0}w=w&(p.suspendedLanes|T)?0:w,w!==0&&w!==E.retryLane&&(E.retryLane=w,Yo(r,w),Wr(p,r,w,-1))}return n2(),p=Bx(Error(o(421))),g0(r,i,T,p)}return w.data==="$?"?(i.flags|=128,i.child=r.child,i=tle.bind(null,r),w._reactRetry=i,null):(r=E.treeContext,Ln=Wi(w.nextSibling),$n=i,wt=!0,Rr=null,r!==null&&(ar[lr++]=Zo,ar[lr++]=Go,ar[lr++]=il,Zo=r.id,Go=r.overflow,il=i),i=Vx(i,p.children),i.flags|=4096,i)}function zH(r,i,c){r.lanes|=i;var p=r.alternate;p!==null&&(p.lanes|=i),yx(r.return,i,c)}function Kx(r,i,c,p,w){var E=r.memoizedState;E===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:w}:(E.isBackwards=i,E.rendering=null,E.renderingStartTime=0,E.last=p,E.tail=c,E.tailMode=w)}function DH(r,i,c){var p=i.pendingProps,w=p.revealOrder,E=p.tail;if(Pn(r,i,p.children,c),p=Pt.current,p&2)p=p&1|2,i.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&zH(r,c,i);else if(r.tag===19)zH(r,c,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}p&=1}if(mt(Pt,p),!(i.mode&1))i.memoizedState=null;else switch(w){case"forwards":for(c=i.child,w=null;c!==null;)r=c.alternate,r!==null&&c0(r)===null&&(w=c),c=c.sibling;c=w,c===null?(w=i.child,i.child=null):(w=c.sibling,c.sibling=null),Kx(i,!1,w,c,E);break;case"backwards":for(c=null,w=i.child,i.child=null;w!==null;){if(r=w.alternate,r!==null&&c0(r)===null){i.child=w;break}r=w.sibling,w.sibling=c,c=w,w=r}Kx(i,!0,c,null,E);break;case"together":Kx(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function v0(r,i){!(i.mode&1)&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function Jo(r,i,c){if(r!==null&&(i.dependencies=r.dependencies),cl|=i.lanes,!(c&i.childLanes))return null;if(r!==null&&i.child!==r.child)throw Error(o(153));if(i.child!==null){for(r=i.child,c=ea(r,r.pendingProps),i.child=c,c.return=i;r.sibling!==null;)r=r.sibling,c=c.sibling=ea(r,r.pendingProps),c.return=i;c.sibling=null}return i.child}function Wae(r,i,c){switch(i.tag){case 3:jH(i),Ws();break;case 5:GW(i);break;case 1:Dn(i.type)&&Jm(i);break;case 4:Sx(i,i.stateNode.containerInfo);break;case 10:var p=i.type._context,w=i.memoizedProps.value;mt(o0,p._currentValue),p._currentValue=w;break;case 13:if(p=i.memoizedState,p!==null)return p.dehydrated!==null?(mt(Pt,Pt.current&1),i.flags|=128,null):c&i.child.childLanes?TH(r,i,c):(mt(Pt,Pt.current&1),r=Jo(r,i,c),r!==null?r.sibling:null);mt(Pt,Pt.current&1);break;case 19:if(p=(c&i.childLanes)!==0,r.flags&128){if(p)return DH(r,i,c);i.flags|=128}if(w=i.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),mt(Pt,Pt.current),p)break;return null;case 22:case 23:return i.lanes=0,PH(r,i,c)}return Jo(r,i,c)}var AH,Wx,BH,MH;AH=function(r,i){for(var c=i.child;c!==null;){if(c.tag===5||c.tag===6)r.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Wx=function(){},BH=function(r,i,c,p){var w=r.memoizedProps;if(w!==p){r=i.stateNode,sl(bo.current);var E=null;switch(c){case"input":w=fe(r,w),p=fe(r,p),E=[];break;case"select":w=A({},w,{value:void 0}),p=A({},p,{value:void 0}),E=[];break;case"textarea":w=Se(r,w),p=Se(r,p),E=[];break;default:typeof w.onClick!="function"&&typeof p.onClick=="function"&&(r.onclick=Gm)}Is(c,p);var T;c=null;for(pe in w)if(!p.hasOwnProperty(pe)&&w.hasOwnProperty(pe)&&w[pe]!=null)if(pe==="style"){var W=w[pe];for(T in W)W.hasOwnProperty(T)&&(c||(c={}),c[T]="")}else pe!=="dangerouslySetInnerHTML"&&pe!=="children"&&pe!=="suppressContentEditableWarning"&&pe!=="suppressHydrationWarning"&&pe!=="autoFocus"&&(l.hasOwnProperty(pe)?E||(E=[]):(E=E||[]).push(pe,null));for(pe in p){var Y=p[pe];if(W=w!=null?w[pe]:void 0,p.hasOwnProperty(pe)&&Y!==W&&(Y!=null||W!=null))if(pe==="style")if(W){for(T in W)!W.hasOwnProperty(T)||Y&&Y.hasOwnProperty(T)||(c||(c={}),c[T]="");for(T in Y)Y.hasOwnProperty(T)&&W[T]!==Y[T]&&(c||(c={}),c[T]=Y[T])}else c||(E||(E=[]),E.push(pe,c)),c=Y;else pe==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,W=W?W.__html:void 0,Y!=null&&W!==Y&&(E=E||[]).push(pe,Y)):pe==="children"?typeof Y!="string"&&typeof Y!="number"||(E=E||[]).push(pe,""+Y):pe!=="suppressContentEditableWarning"&&pe!=="suppressHydrationWarning"&&(l.hasOwnProperty(pe)?(Y!=null&&pe==="onScroll"&&yt("scroll",r),E||W===Y||(E=[])):(E=E||[]).push(pe,Y))}c&&(E=E||[]).push("style",c);var pe=E;(i.updateQueue=pe)&&(i.flags|=4)}},MH=function(r,i,c,p){c!==p&&(i.flags|=4)};function Od(r,i){if(!wt)switch(r.tailMode){case"hidden":i=r.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:p.sibling=null}}function vn(r){var i=r.alternate!==null&&r.alternate.child===r.child,c=0,p=0;if(i)for(var w=r.child;w!==null;)c|=w.lanes|w.childLanes,p|=w.subtreeFlags&14680064,p|=w.flags&14680064,w.return=r,w=w.sibling;else for(w=r.child;w!==null;)c|=w.lanes|w.childLanes,p|=w.subtreeFlags,p|=w.flags,w.return=r,w=w.sibling;return r.subtreeFlags|=p,r.childLanes=c,i}function Hae(r,i,c){var p=i.pendingProps;switch(dx(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vn(i),null;case 1:return Dn(i.type)&&Qm(),vn(i),null;case 3:return p=i.stateNode,Ls(),bt(zn),bt(mn),Px(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(r===null||r.child===null)&&(r0(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,Rr!==null&&(Jx(Rr),Rr=null))),Wx(r,i),vn(i),null;case 5:Ex(i);var w=sl(_d.current);if(c=i.type,r!==null&&i.stateNode!=null)BH(r,i,c,p,w),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!p){if(i.stateNode===null)throw Error(o(166));return vn(i),null}if(r=sl(bo.current),r0(i)){p=i.stateNode,c=i.type;var E=i.memoizedProps;switch(p[yo]=i,p[kd]=E,r=(i.mode&1)!==0,c){case"dialog":yt("cancel",p),yt("close",p);break;case"iframe":case"object":case"embed":yt("load",p);break;case"video":case"audio":for(w=0;w<vd.length;w++)yt(vd[w],p);break;case"source":yt("error",p);break;case"img":case"image":case"link":yt("error",p),yt("load",p);break;case"details":yt("toggle",p);break;case"input":ce(p,E),yt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!E.multiple},yt("invalid",p);break;case"textarea":ye(p,E),yt("invalid",p)}Is(c,E),w=null;for(var T in E)if(E.hasOwnProperty(T)){var W=E[T];T==="children"?typeof W=="string"?p.textContent!==W&&(E.suppressHydrationWarning!==!0&&Zm(p.textContent,W,r),w=["children",W]):typeof W=="number"&&p.textContent!==""+W&&(E.suppressHydrationWarning!==!0&&Zm(p.textContent,W,r),w=["children",""+W]):l.hasOwnProperty(T)&&W!=null&&T==="onScroll"&&yt("scroll",p)}switch(c){case"input":Ve(p),ne(p,E,!0);break;case"textarea":Ve(p),Ue(p);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(p.onclick=Gm)}p=w,i.updateQueue=p,p!==null&&(i.flags|=4)}else{T=w.nodeType===9?w:w.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=ot(c)),r==="http://www.w3.org/1999/xhtml"?c==="script"?(r=T.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof p.is=="string"?r=T.createElement(c,{is:p.is}):(r=T.createElement(c),c==="select"&&(T=r,p.multiple?T.multiple=!0:p.size&&(T.size=p.size))):r=T.createElementNS(r,c),r[yo]=i,r[kd]=p,AH(r,i,!1,!1),i.stateNode=r;e:{switch(T=Qc(c,p),c){case"dialog":yt("cancel",r),yt("close",r),w=p;break;case"iframe":case"object":case"embed":yt("load",r),w=p;break;case"video":case"audio":for(w=0;w<vd.length;w++)yt(vd[w],r);w=p;break;case"source":yt("error",r),w=p;break;case"img":case"image":case"link":yt("error",r),yt("load",r),w=p;break;case"details":yt("toggle",r),w=p;break;case"input":ce(r,p),w=fe(r,p),yt("invalid",r);break;case"option":w=p;break;case"select":r._wrapperState={wasMultiple:!!p.multiple},w=A({},p,{value:void 0}),yt("invalid",r);break;case"textarea":ye(r,p),w=Se(r,p),yt("invalid",r);break;default:w=p}Is(c,w),W=w;for(E in W)if(W.hasOwnProperty(E)){var Y=W[E];E==="style"?Cs(r,Y):E==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,Y!=null&&Mi(r,Y)):E==="children"?typeof Y=="string"?(c!=="textarea"||Y!=="")&&hn(r,Y):typeof Y=="number"&&hn(r,""+Y):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(l.hasOwnProperty(E)?Y!=null&&E==="onScroll"&&yt("scroll",r):Y!=null&&O(r,E,Y,T))}switch(c){case"input":Ve(r),ne(r,p,!1);break;case"textarea":Ve(r),Ue(r);break;case"option":p.value!=null&&r.setAttribute("value",""+Ie(p.value));break;case"select":r.multiple=!!p.multiple,E=p.value,E!=null?oe(r,!!p.multiple,E,!1):p.defaultValue!=null&&oe(r,!!p.multiple,p.defaultValue,!0);break;default:typeof w.onClick=="function"&&(r.onclick=Gm)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return vn(i),null;case 6:if(r&&i.stateNode!=null)MH(r,i,r.memoizedProps,p);else{if(typeof p!="string"&&i.stateNode===null)throw Error(o(166));if(c=sl(_d.current),sl(bo.current),r0(i)){if(p=i.stateNode,c=i.memoizedProps,p[yo]=i,(E=p.nodeValue!==c)&&(r=$n,r!==null))switch(r.tag){case 3:Zm(p.nodeValue,c,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Zm(p.nodeValue,c,(r.mode&1)!==0)}E&&(i.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[yo]=i,i.stateNode=p}return vn(i),null;case 13:if(bt(Pt),p=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(wt&&Ln!==null&&i.mode&1&&!(i.flags&128))FW(),Ws(),i.flags|=98560,E=!1;else if(E=r0(i),p!==null&&p.dehydrated!==null){if(r===null){if(!E)throw Error(o(318));if(E=i.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(o(317));E[yo]=i}else Ws(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;vn(i),E=!1}else Rr!==null&&(Jx(Rr),Rr=null),E=!0;if(!E)return i.flags&65536?i:null}return i.flags&128?(i.lanes=c,i):(p=p!==null,p!==(r!==null&&r.memoizedState!==null)&&p&&(i.child.flags|=8192,i.mode&1&&(r===null||Pt.current&1?Kt===0&&(Kt=3):n2())),i.updateQueue!==null&&(i.flags|=4),vn(i),null);case 4:return Ls(),Wx(r,i),r===null&&yd(i.stateNode.containerInfo),vn(i),null;case 10:return vx(i.type._context),vn(i),null;case 17:return Dn(i.type)&&Qm(),vn(i),null;case 19:if(bt(Pt),E=i.memoizedState,E===null)return vn(i),null;if(p=(i.flags&128)!==0,T=E.rendering,T===null)if(p)Od(E,!1);else{if(Kt!==0||r!==null&&r.flags&128)for(r=i.child;r!==null;){if(T=c0(r),T!==null){for(i.flags|=128,Od(E,!1),p=T.updateQueue,p!==null&&(i.updateQueue=p,i.flags|=4),i.subtreeFlags=0,p=c,c=i.child;c!==null;)E=c,r=p,E.flags&=14680066,T=E.alternate,T===null?(E.childLanes=0,E.lanes=r,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=T.childLanes,E.lanes=T.lanes,E.child=T.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=T.memoizedProps,E.memoizedState=T.memoizedState,E.updateQueue=T.updateQueue,E.type=T.type,r=T.dependencies,E.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),c=c.sibling;return mt(Pt,Pt.current&1|2),i.child}r=r.sibling}E.tail!==null&&zt()>Ys&&(i.flags|=128,p=!0,Od(E,!1),i.lanes=4194304)}else{if(!p)if(r=c0(T),r!==null){if(i.flags|=128,p=!0,c=r.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),Od(E,!0),E.tail===null&&E.tailMode==="hidden"&&!T.alternate&&!wt)return vn(i),null}else 2*zt()-E.renderingStartTime>Ys&&c!==1073741824&&(i.flags|=128,p=!0,Od(E,!1),i.lanes=4194304);E.isBackwards?(T.sibling=i.child,i.child=T):(c=E.last,c!==null?c.sibling=T:i.child=T,E.last=T)}return E.tail!==null?(i=E.tail,E.rendering=i,E.tail=i.sibling,E.renderingStartTime=zt(),i.sibling=null,c=Pt.current,mt(Pt,p?c&1|2:c&1),i):(vn(i),null);case 22:case 23:return t2(),p=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==p&&(i.flags|=8192),p&&i.mode&1?Xn&1073741824&&(vn(i),i.subtreeFlags&6&&(i.flags|=8192)):vn(i),null;case 24:return null;case 25:return null}throw Error(o(156,i.tag))}function qae(r,i){switch(dx(i),i.tag){case 1:return Dn(i.type)&&Qm(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Ls(),bt(zn),bt(mn),Px(),r=i.flags,r&65536&&!(r&128)?(i.flags=r&-65537|128,i):null;case 5:return Ex(i),null;case 13:if(bt(Pt),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(o(340));Ws()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return bt(Pt),null;case 4:return Ls(),null;case 10:return vx(i.type._context),null;case 22:case 23:return t2(),null;case 24:return null;default:return null}}var y0=!1,yn=!1,$ae=typeof WeakSet=="function"?WeakSet:Set,De=null;function Zs(r,i){var c=r.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){It(r,i,p)}else c.current=null}function NH(r,i,c){try{c()}catch(p){It(r,i,p)}}var FH=!1;function Lae(r,i){if(nx=Bm,r=fW(),Gw(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else e:{c=(c=r.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var w=p.anchorOffset,E=p.focusNode;p=p.focusOffset;try{c.nodeType,E.nodeType}catch{c=null;break e}var T=0,W=-1,Y=-1,pe=0,_e=0,Pe=r,Ee=null;t:for(;;){for(var Te;Pe!==c||w!==0&&Pe.nodeType!==3||(W=T+w),Pe!==E||p!==0&&Pe.nodeType!==3||(Y=T+p),Pe.nodeType===3&&(T+=Pe.nodeValue.length),(Te=Pe.firstChild)!==null;)Ee=Pe,Pe=Te;for(;;){if(Pe===r)break t;if(Ee===c&&++pe===w&&(W=T),Ee===E&&++_e===p&&(Y=T),(Te=Pe.nextSibling)!==null)break;Pe=Ee,Ee=Pe.parentNode}Pe=Te}c=W===-1||Y===-1?null:{start:W,end:Y}}else c=null}c=c||{start:0,end:0}}else c=null;for(rx={focusedElem:r,selectionRange:c},Bm=!1,De=i;De!==null;)if(i=De,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,De=r;else for(;De!==null;){i=De;try{var Be=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Be!==null){var Ne=Be.memoizedProps,Dt=Be.memoizedState,ie=i.stateNode,J=ie.getSnapshotBeforeUpdate(i.elementType===i.type?Ne:Ur(i.type,Ne),Dt);ie.__reactInternalSnapshotBeforeUpdate=J}break;case 3:var se=i.stateNode.containerInfo;se.nodeType===1?se.textContent="":se.nodeType===9&&se.documentElement&&se.removeChild(se.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(Ce){It(i,i.return,Ce)}if(r=i.sibling,r!==null){r.return=i.return,De=r;break}De=i.return}return Be=FH,FH=!1,Be}function Td(r,i,c){var p=i.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var w=p=p.next;do{if((w.tag&r)===r){var E=w.destroy;w.destroy=void 0,E!==void 0&&NH(i,c,E)}w=w.next}while(w!==p)}}function b0(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var c=i=i.next;do{if((c.tag&r)===r){var p=c.create;c.destroy=p()}c=c.next}while(c!==i)}}function Hx(r){var i=r.ref;if(i!==null){var c=r.stateNode;switch(r.tag){case 5:r=c;break;default:r=c}typeof i=="function"?i(r):i.current=r}}function RH(r){var i=r.alternate;i!==null&&(r.alternate=null,RH(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[yo],delete i[kd],delete i[lx],delete i[jae],delete i[Oae])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function UH(r){return r.tag===5||r.tag===3||r.tag===4}function VH(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||UH(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function qx(r,i,c){var p=r.tag;if(p===5||p===6)r=r.stateNode,i?c.nodeType===8?c.parentNode.insertBefore(r,i):c.insertBefore(r,i):(c.nodeType===8?(i=c.parentNode,i.insertBefore(r,c)):(i=c,i.appendChild(r)),c=c._reactRootContainer,c!=null||i.onclick!==null||(i.onclick=Gm));else if(p!==4&&(r=r.child,r!==null))for(qx(r,i,c),r=r.sibling;r!==null;)qx(r,i,c),r=r.sibling}function $x(r,i,c){var p=r.tag;if(p===5||p===6)r=r.stateNode,i?c.insertBefore(r,i):c.appendChild(r);else if(p!==4&&(r=r.child,r!==null))for($x(r,i,c),r=r.sibling;r!==null;)$x(r,i,c),r=r.sibling}var ln=null,Vr=!1;function Zi(r,i,c){for(c=c.child;c!==null;)KH(r,i,c),c=c.sibling}function KH(r,i,c){if(vo&&typeof vo.onCommitFiberUnmount=="function")try{vo.onCommitFiberUnmount(jm,c)}catch{}switch(c.tag){case 5:yn||Zs(c,i);case 6:var p=ln,w=Vr;ln=null,Zi(r,i,c),ln=p,Vr=w,ln!==null&&(Vr?(r=ln,c=c.stateNode,r.nodeType===8?r.parentNode.removeChild(c):r.removeChild(c)):ln.removeChild(c.stateNode));break;case 18:ln!==null&&(Vr?(r=ln,c=c.stateNode,r.nodeType===8?ax(r.parentNode,c):r.nodeType===1&&ax(r,c),ud(r)):ax(ln,c.stateNode));break;case 4:p=ln,w=Vr,ln=c.stateNode.containerInfo,Vr=!0,Zi(r,i,c),ln=p,Vr=w;break;case 0:case 11:case 14:case 15:if(!yn&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){w=p=p.next;do{var E=w,T=E.destroy;E=E.tag,T!==void 0&&(E&2||E&4)&&NH(c,i,T),w=w.next}while(w!==p)}Zi(r,i,c);break;case 1:if(!yn&&(Zs(c,i),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(W){It(c,i,W)}Zi(r,i,c);break;case 21:Zi(r,i,c);break;case 22:c.mode&1?(yn=(p=yn)||c.memoizedState!==null,Zi(r,i,c),yn=p):Zi(r,i,c);break;default:Zi(r,i,c)}}function WH(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var c=r.stateNode;c===null&&(c=r.stateNode=new $ae),i.forEach(function(p){var w=nle.bind(null,r,p);c.has(p)||(c.add(p),p.then(w,w))})}}function Kr(r,i){var c=i.deletions;if(c!==null)for(var p=0;p<c.length;p++){var w=c[p];try{var E=r,T=i,W=T;e:for(;W!==null;){switch(W.tag){case 5:ln=W.stateNode,Vr=!1;break e;case 3:ln=W.stateNode.containerInfo,Vr=!0;break e;case 4:ln=W.stateNode.containerInfo,Vr=!0;break e}W=W.return}if(ln===null)throw Error(o(160));KH(E,T,w),ln=null,Vr=!1;var Y=w.alternate;Y!==null&&(Y.return=null),w.return=null}catch(pe){It(w,i,pe)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)HH(i,r),i=i.sibling}function HH(r,i){var c=r.alternate,p=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Kr(i,r),wo(r),p&4){try{Td(3,r,r.return),b0(3,r)}catch(Ne){It(r,r.return,Ne)}try{Td(5,r,r.return)}catch(Ne){It(r,r.return,Ne)}}break;case 1:Kr(i,r),wo(r),p&512&&c!==null&&Zs(c,c.return);break;case 5:if(Kr(i,r),wo(r),p&512&&c!==null&&Zs(c,c.return),r.flags&32){var w=r.stateNode;try{hn(w,"")}catch(Ne){It(r,r.return,Ne)}}if(p&4&&(w=r.stateNode,w!=null)){var E=r.memoizedProps,T=c!==null?c.memoizedProps:E,W=r.type,Y=r.updateQueue;if(r.updateQueue=null,Y!==null)try{W==="input"&&E.type==="radio"&&E.name!=null&&V(w,E),Qc(W,T);var pe=Qc(W,E);for(T=0;T<Y.length;T+=2){var _e=Y[T],Pe=Y[T+1];_e==="style"?Cs(w,Pe):_e==="dangerouslySetInnerHTML"?Mi(w,Pe):_e==="children"?hn(w,Pe):O(w,_e,Pe,pe)}switch(W){case"input":R(w,E);break;case"textarea":we(w,E);break;case"select":var Ee=w._wrapperState.wasMultiple;w._wrapperState.wasMultiple=!!E.multiple;var Te=E.value;Te!=null?oe(w,!!E.multiple,Te,!1):Ee!==!!E.multiple&&(E.defaultValue!=null?oe(w,!!E.multiple,E.defaultValue,!0):oe(w,!!E.multiple,E.multiple?[]:"",!1))}w[kd]=E}catch(Ne){It(r,r.return,Ne)}}break;case 6:if(Kr(i,r),wo(r),p&4){if(r.stateNode===null)throw Error(o(162));w=r.stateNode,E=r.memoizedProps;try{w.nodeValue=E}catch(Ne){It(r,r.return,Ne)}}break;case 3:if(Kr(i,r),wo(r),p&4&&c!==null&&c.memoizedState.isDehydrated)try{ud(i.containerInfo)}catch(Ne){It(r,r.return,Ne)}break;case 4:Kr(i,r),wo(r);break;case 13:Kr(i,r),wo(r),w=r.child,w.flags&8192&&(E=w.memoizedState!==null,w.stateNode.isHidden=E,!E||w.alternate!==null&&w.alternate.memoizedState!==null||(Zx=zt())),p&4&&WH(r);break;case 22:if(_e=c!==null&&c.memoizedState!==null,r.mode&1?(yn=(pe=yn)||_e,Kr(i,r),yn=pe):Kr(i,r),wo(r),p&8192){if(pe=r.memoizedState!==null,(r.stateNode.isHidden=pe)&&!_e&&r.mode&1)for(De=r,_e=r.child;_e!==null;){for(Pe=De=_e;De!==null;){switch(Ee=De,Te=Ee.child,Ee.tag){case 0:case 11:case 14:case 15:Td(4,Ee,Ee.return);break;case 1:Zs(Ee,Ee.return);var Be=Ee.stateNode;if(typeof Be.componentWillUnmount=="function"){p=Ee,c=Ee.return;try{i=p,Be.props=i.memoizedProps,Be.state=i.memoizedState,Be.componentWillUnmount()}catch(Ne){It(p,c,Ne)}}break;case 5:Zs(Ee,Ee.return);break;case 22:if(Ee.memoizedState!==null){LH(Pe);continue}}Te!==null?(Te.return=Ee,De=Te):LH(Pe)}_e=_e.sibling}e:for(_e=null,Pe=r;;){if(Pe.tag===5){if(_e===null){_e=Pe;try{w=Pe.stateNode,pe?(E=w.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(W=Pe.stateNode,Y=Pe.memoizedProps.style,T=Y!=null&&Y.hasOwnProperty("display")?Y.display:null,W.style.display=tl("display",T))}catch(Ne){It(r,r.return,Ne)}}}else if(Pe.tag===6){if(_e===null)try{Pe.stateNode.nodeValue=pe?"":Pe.memoizedProps}catch(Ne){It(r,r.return,Ne)}}else if((Pe.tag!==22&&Pe.tag!==23||Pe.memoizedState===null||Pe===r)&&Pe.child!==null){Pe.child.return=Pe,Pe=Pe.child;continue}if(Pe===r)break e;for(;Pe.sibling===null;){if(Pe.return===null||Pe.return===r)break e;_e===Pe&&(_e=null),Pe=Pe.return}_e===Pe&&(_e=null),Pe.sibling.return=Pe.return,Pe=Pe.sibling}}break;case 19:Kr(i,r),wo(r),p&4&&WH(r);break;case 21:break;default:Kr(i,r),wo(r)}}function wo(r){var i=r.flags;if(i&2){try{e:{for(var c=r.return;c!==null;){if(UH(c)){var p=c;break e}c=c.return}throw Error(o(160))}switch(p.tag){case 5:var w=p.stateNode;p.flags&32&&(hn(w,""),p.flags&=-33);var E=VH(r);$x(r,E,w);break;case 3:case 4:var T=p.stateNode.containerInfo,W=VH(r);qx(r,W,T);break;default:throw Error(o(161))}}catch(Y){It(r,r.return,Y)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Xae(r,i,c){De=r,qH(r)}function qH(r,i,c){for(var p=(r.mode&1)!==0;De!==null;){var w=De,E=w.child;if(w.tag===22&&p){var T=w.memoizedState!==null||y0;if(!T){var W=w.alternate,Y=W!==null&&W.memoizedState!==null||yn;W=y0;var pe=yn;if(y0=T,(yn=Y)&&!pe)for(De=w;De!==null;)T=De,Y=T.child,T.tag===22&&T.memoizedState!==null?XH(w):Y!==null?(Y.return=T,De=Y):XH(w);for(;E!==null;)De=E,qH(E),E=E.sibling;De=w,y0=W,yn=pe}$H(r)}else w.subtreeFlags&8772&&E!==null?(E.return=w,De=E):$H(r)}}function $H(r){for(;De!==null;){var i=De;if(i.flags&8772){var c=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:yn||b0(5,i);break;case 1:var p=i.stateNode;if(i.flags&4&&!yn)if(c===null)p.componentDidMount();else{var w=i.elementType===i.type?c.memoizedProps:Ur(i.type,c.memoizedProps);p.componentDidUpdate(w,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var E=i.updateQueue;E!==null&&KW(i,E,p);break;case 3:var T=i.updateQueue;if(T!==null){if(c=null,i.child!==null)switch(i.child.tag){case 5:c=i.child.stateNode;break;case 1:c=i.child.stateNode}KW(i,T,c)}break;case 5:var W=i.stateNode;if(c===null&&i.flags&4){c=W;var Y=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":Y.autoFocus&&c.focus();break;case"img":Y.src&&(c.src=Y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var pe=i.alternate;if(pe!==null){var _e=pe.memoizedState;if(_e!==null){var Pe=_e.dehydrated;Pe!==null&&ud(Pe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}yn||i.flags&512&&Hx(i)}catch(Ee){It(i,i.return,Ee)}}if(i===r){De=null;break}if(c=i.sibling,c!==null){c.return=i.return,De=c;break}De=i.return}}function LH(r){for(;De!==null;){var i=De;if(i===r){De=null;break}var c=i.sibling;if(c!==null){c.return=i.return,De=c;break}De=i.return}}function XH(r){for(;De!==null;){var i=De;try{switch(i.tag){case 0:case 11:case 15:var c=i.return;try{b0(4,i)}catch(Y){It(i,c,Y)}break;case 1:var p=i.stateNode;if(typeof p.componentDidMount=="function"){var w=i.return;try{p.componentDidMount()}catch(Y){It(i,w,Y)}}var E=i.return;try{Hx(i)}catch(Y){It(i,E,Y)}break;case 5:var T=i.return;try{Hx(i)}catch(Y){It(i,T,Y)}}}catch(Y){It(i,i.return,Y)}if(i===r){De=null;break}var W=i.sibling;if(W!==null){W.return=i.return,De=W;break}De=i.return}}var Zae=Math.ceil,k0=j.ReactCurrentDispatcher,Lx=j.ReactCurrentOwner,cr=j.ReactCurrentBatchConfig,it=0,Xt=null,Nt=null,sn=0,Xn=0,Gs=Hi(0),Kt=0,zd=null,cl=0,w0=0,Xx=0,Dd=null,Bn=null,Zx=0,Ys=1/0,ei=null,x0=!1,Gx=null,Gi=null,S0=!1,Yi=null,E0=0,Ad=0,Yx=null,_0=-1,P0=0;function Cn(){return it&6?zt():_0!==-1?_0:_0=zt()}function Qi(r){return r.mode&1?it&2&&sn!==0?sn&-sn:zae.transition!==null?(P0===0&&(P0=FK()),P0):(r=ut,r!==0||(r=window.event,r=r===void 0?16:LK(r.type)),r):1}function Wr(r,i,c,p){if(50<Ad)throw Ad=0,Yx=null,Error(o(185));od(r,c,p),(!(it&2)||r!==Xt)&&(r===Xt&&(!(it&2)&&(w0|=c),Kt===4&&Ji(r,sn)),Mn(r,p),c===1&&it===0&&!(i.mode&1)&&(Ys=zt()+500,e0&&$i()))}function Mn(r,i){var c=r.callbackNode;Aie(r,i);var p=zm(r,r===Xt?sn:0);if(p===0)c!==null&&BK(c),r.callbackNode=null,r.callbackPriority=0;else if(i=p&-p,r.callbackPriority!==i){if(c!=null&&BK(c),i===1)r.tag===0?Tae(GH.bind(null,r)):DW(GH.bind(null,r)),Cae(function(){!(it&6)&&$i()}),c=null;else{switch(RK(p)){case 1:c=Dw;break;case 4:c=MK;break;case 16:c=Im;break;case 536870912:c=NK;break;default:c=Im}c=oq(c,ZH.bind(null,r))}r.callbackPriority=i,r.callbackNode=c}}function ZH(r,i){if(_0=-1,P0=0,it&6)throw Error(o(327));var c=r.callbackNode;if(Qs()&&r.callbackNode!==c)return null;var p=zm(r,r===Xt?sn:0);if(p===0)return null;if(p&30||p&r.expiredLanes||i)i=C0(r,p);else{i=p;var w=it;it|=2;var E=QH();(Xt!==r||sn!==i)&&(ei=null,Ys=zt()+500,fl(r,i));do try{Qae();break}catch(W){YH(r,W)}while(1);gx(),k0.current=E,it=w,Nt!==null?i=0:(Xt=null,sn=0,i=Kt)}if(i!==0){if(i===2&&(w=Aw(r),w!==0&&(p=w,i=Qx(r,w))),i===1)throw c=zd,fl(r,0),Ji(r,p),Mn(r,zt()),c;if(i===6)Ji(r,p);else{if(w=r.current.alternate,!(p&30)&&!Gae(w)&&(i=C0(r,p),i===2&&(E=Aw(r),E!==0&&(p=E,i=Qx(r,E))),i===1))throw c=zd,fl(r,0),Ji(r,p),Mn(r,zt()),c;switch(r.finishedWork=w,r.finishedLanes=p,i){case 0:case 1:throw Error(o(345));case 2:pl(r,Bn,ei);break;case 3:if(Ji(r,p),(p&130023424)===p&&(i=Zx+500-zt(),10<i)){if(zm(r,0)!==0)break;if(w=r.suspendedLanes,(w&p)!==p){Cn(),r.pingedLanes|=r.suspendedLanes&w;break}r.timeoutHandle=ix(pl.bind(null,r,Bn,ei),i);break}pl(r,Bn,ei);break;case 4:if(Ji(r,p),(p&4194240)===p)break;for(i=r.eventTimes,w=-1;0<p;){var T=31-Nr(p);E=1<<T,T=i[T],T>w&&(w=T),p&=~E}if(p=w,p=zt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*Zae(p/1960))-p,10<p){r.timeoutHandle=ix(pl.bind(null,r,Bn,ei),p);break}pl(r,Bn,ei);break;case 5:pl(r,Bn,ei);break;default:throw Error(o(329))}}}return Mn(r,zt()),r.callbackNode===c?ZH.bind(null,r):null}function Qx(r,i){var c=Dd;return r.current.memoizedState.isDehydrated&&(fl(r,i).flags|=256),r=C0(r,i),r!==2&&(i=Bn,Bn=c,i!==null&&Jx(i)),r}function Jx(r){Bn===null?Bn=r:Bn.push.apply(Bn,r)}function Gae(r){for(var i=r;;){if(i.flags&16384){var c=i.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var w=c[p],E=w.getSnapshot;w=w.value;try{if(!Fr(E(),w))return!1}catch{return!1}}}if(c=i.child,i.subtreeFlags&16384&&c!==null)c.return=i,i=c;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ji(r,i){for(i&=~Xx,i&=~w0,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var c=31-Nr(i),p=1<<c;r[c]=-1,i&=~p}}function GH(r){if(it&6)throw Error(o(327));Qs();var i=zm(r,0);if(!(i&1))return Mn(r,zt()),null;var c=C0(r,i);if(r.tag!==0&&c===2){var p=Aw(r);p!==0&&(i=p,c=Qx(r,p))}if(c===1)throw c=zd,fl(r,0),Ji(r,i),Mn(r,zt()),c;if(c===6)throw Error(o(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,pl(r,Bn,ei),Mn(r,zt()),null}function e2(r,i){var c=it;it|=1;try{return r(i)}finally{it=c,it===0&&(Ys=zt()+500,e0&&$i())}}function dl(r){Yi!==null&&Yi.tag===0&&!(it&6)&&Qs();var i=it;it|=1;var c=cr.transition,p=ut;try{if(cr.transition=null,ut=1,r)return r()}finally{ut=p,cr.transition=c,it=i,!(it&6)&&$i()}}function t2(){Xn=Gs.current,bt(Gs)}function fl(r,i){r.finishedWork=null,r.finishedLanes=0;var c=r.timeoutHandle;if(c!==-1&&(r.timeoutHandle=-1,Pae(c)),Nt!==null)for(c=Nt.return;c!==null;){var p=c;switch(dx(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Qm();break;case 3:Ls(),bt(zn),bt(mn),Px();break;case 5:Ex(p);break;case 4:Ls();break;case 13:bt(Pt);break;case 19:bt(Pt);break;case 10:vx(p.type._context);break;case 22:case 23:t2()}c=c.return}if(Xt=r,Nt=r=ea(r.current,null),sn=Xn=i,Kt=0,zd=null,Xx=w0=cl=0,Bn=Dd=null,ll!==null){for(i=0;i<ll.length;i++)if(c=ll[i],p=c.interleaved,p!==null){c.interleaved=null;var w=p.next,E=c.pending;if(E!==null){var T=E.next;E.next=w,p.next=T}c.pending=p}ll=null}return r}function YH(r,i){do{var c=Nt;try{if(gx(),d0.current=m0,f0){for(var p=Ct.memoizedState;p!==null;){var w=p.queue;w!==null&&(w.pending=null),p=p.next}f0=!1}if(ul=0,Lt=Vt=Ct=null,Pd=!1,Cd=0,Lx.current=null,c===null||c.return===null){Kt=1,zd=i,Nt=null;break}e:{var E=r,T=c.return,W=c,Y=i;if(i=sn,W.flags|=32768,Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var pe=Y,_e=W,Pe=_e.tag;if(!(_e.mode&1)&&(Pe===0||Pe===11||Pe===15)){var Ee=_e.alternate;Ee?(_e.updateQueue=Ee.updateQueue,_e.memoizedState=Ee.memoizedState,_e.lanes=Ee.lanes):(_e.updateQueue=null,_e.memoizedState=null)}var Te=wH(T);if(Te!==null){Te.flags&=-257,xH(Te,T,W,E,i),Te.mode&1&&kH(E,pe,i),i=Te,Y=pe;var Be=i.updateQueue;if(Be===null){var Ne=new Set;Ne.add(Y),i.updateQueue=Ne}else Be.add(Y);break e}else{if(!(i&1)){kH(E,pe,i),n2();break e}Y=Error(o(426))}}else if(wt&&W.mode&1){var Dt=wH(T);if(Dt!==null){!(Dt.flags&65536)&&(Dt.flags|=256),xH(Dt,T,W,E,i),hx(Xs(Y,W));break e}}E=Y=Xs(Y,W),Kt!==4&&(Kt=2),Dd===null?Dd=[E]:Dd.push(E),E=T;do{switch(E.tag){case 3:E.flags|=65536,i&=-i,E.lanes|=i;var ie=yH(E,Y,i);VW(E,ie);break e;case 1:W=Y;var J=E.type,se=E.stateNode;if(!(E.flags&128)&&(typeof J.getDerivedStateFromError=="function"||se!==null&&typeof se.componentDidCatch=="function"&&(Gi===null||!Gi.has(se)))){E.flags|=65536,i&=-i,E.lanes|=i;var Ce=bH(E,W,i);VW(E,Ce);break e}}E=E.return}while(E!==null)}eq(c)}catch(Re){i=Re,Nt===c&&c!==null&&(Nt=c=c.return);continue}break}while(1)}function QH(){var r=k0.current;return k0.current=m0,r===null?m0:r}function n2(){(Kt===0||Kt===3||Kt===2)&&(Kt=4),Xt===null||!(cl&268435455)&&!(w0&268435455)||Ji(Xt,sn)}function C0(r,i){var c=it;it|=2;var p=QH();(Xt!==r||sn!==i)&&(ei=null,fl(r,i));do try{Yae();break}catch(w){YH(r,w)}while(1);if(gx(),it=c,k0.current=p,Nt!==null)throw Error(o(261));return Xt=null,sn=0,Kt}function Yae(){for(;Nt!==null;)JH(Nt)}function Qae(){for(;Nt!==null&&!_ie();)JH(Nt)}function JH(r){var i=rq(r.alternate,r,Xn);r.memoizedProps=r.pendingProps,i===null?eq(r):Nt=i,Lx.current=null}function eq(r){var i=r;do{var c=i.alternate;if(r=i.return,i.flags&32768){if(c=qae(c,i),c!==null){c.flags&=32767,Nt=c;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Kt=6,Nt=null;return}}else if(c=Hae(c,i,Xn),c!==null){Nt=c;return}if(i=i.sibling,i!==null){Nt=i;return}Nt=i=r}while(i!==null);Kt===0&&(Kt=5)}function pl(r,i,c){var p=ut,w=cr.transition;try{cr.transition=null,ut=1,Jae(r,i,c,p)}finally{cr.transition=w,ut=p}return null}function Jae(r,i,c,p){do Qs();while(Yi!==null);if(it&6)throw Error(o(327));c=r.finishedWork;var w=r.finishedLanes;if(c===null)return null;if(r.finishedWork=null,r.finishedLanes=0,c===r.current)throw Error(o(177));r.callbackNode=null,r.callbackPriority=0;var E=c.lanes|c.childLanes;if(Bie(r,E),r===Xt&&(Nt=Xt=null,sn=0),!(c.subtreeFlags&2064)&&!(c.flags&2064)||S0||(S0=!0,oq(Im,function(){return Qs(),null})),E=(c.flags&15990)!==0,c.subtreeFlags&15990||E){E=cr.transition,cr.transition=null;var T=ut;ut=1;var W=it;it|=4,Lx.current=null,Lae(r,c),HH(c,r),wae(rx),Bm=!!nx,rx=nx=null,r.current=c,Xae(c),Pie(),it=W,ut=T,cr.transition=E}else r.current=c;if(S0&&(S0=!1,Yi=r,E0=w),E=r.pendingLanes,E===0&&(Gi=null),jie(c.stateNode),Mn(r,zt()),i!==null)for(p=r.onRecoverableError,c=0;c<i.length;c++)w=i[c],p(w.value,{componentStack:w.stack,digest:w.digest});if(x0)throw x0=!1,r=Gx,Gx=null,r;return E0&1&&r.tag!==0&&Qs(),E=r.pendingLanes,E&1?r===Yx?Ad++:(Ad=0,Yx=r):Ad=0,$i(),null}function Qs(){if(Yi!==null){var r=RK(E0),i=cr.transition,c=ut;try{if(cr.transition=null,ut=16>r?16:r,Yi===null)var p=!1;else{if(r=Yi,Yi=null,E0=0,it&6)throw Error(o(331));var w=it;for(it|=4,De=r.current;De!==null;){var E=De,T=E.child;if(De.flags&16){var W=E.deletions;if(W!==null){for(var Y=0;Y<W.length;Y++){var pe=W[Y];for(De=pe;De!==null;){var _e=De;switch(_e.tag){case 0:case 11:case 15:Td(8,_e,E)}var Pe=_e.child;if(Pe!==null)Pe.return=_e,De=Pe;else for(;De!==null;){_e=De;var Ee=_e.sibling,Te=_e.return;if(RH(_e),_e===pe){De=null;break}if(Ee!==null){Ee.return=Te,De=Ee;break}De=Te}}}var Be=E.alternate;if(Be!==null){var Ne=Be.child;if(Ne!==null){Be.child=null;do{var Dt=Ne.sibling;Ne.sibling=null,Ne=Dt}while(Ne!==null)}}De=E}}if(E.subtreeFlags&2064&&T!==null)T.return=E,De=T;else e:for(;De!==null;){if(E=De,E.flags&2048)switch(E.tag){case 0:case 11:case 15:Td(9,E,E.return)}var ie=E.sibling;if(ie!==null){ie.return=E.return,De=ie;break e}De=E.return}}var J=r.current;for(De=J;De!==null;){T=De;var se=T.child;if(T.subtreeFlags&2064&&se!==null)se.return=T,De=se;else e:for(T=J;De!==null;){if(W=De,W.flags&2048)try{switch(W.tag){case 0:case 11:case 15:b0(9,W)}}catch(Re){It(W,W.return,Re)}if(W===T){De=null;break e}var Ce=W.sibling;if(Ce!==null){Ce.return=W.return,De=Ce;break e}De=W.return}}if(it=w,$i(),vo&&typeof vo.onPostCommitFiberRoot=="function")try{vo.onPostCommitFiberRoot(jm,r)}catch{}p=!0}return p}finally{ut=c,cr.transition=i}}return!1}function tq(r,i,c){i=Xs(c,i),i=yH(r,i,1),r=Xi(r,i,1),i=Cn(),r!==null&&(od(r,1,i),Mn(r,i))}function It(r,i,c){if(r.tag===3)tq(r,r,c);else for(;i!==null;){if(i.tag===3){tq(i,r,c);break}else if(i.tag===1){var p=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Gi===null||!Gi.has(p))){r=Xs(c,r),r=bH(i,r,1),i=Xi(i,r,1),r=Cn(),i!==null&&(od(i,1,r),Mn(i,r));break}}i=i.return}}function ele(r,i,c){var p=r.pingCache;p!==null&&p.delete(i),i=Cn(),r.pingedLanes|=r.suspendedLanes&c,Xt===r&&(sn&c)===c&&(Kt===4||Kt===3&&(sn&130023424)===sn&&500>zt()-Zx?fl(r,0):Xx|=c),Mn(r,i)}function nq(r,i){i===0&&(r.mode&1?(i=Tm,Tm<<=1,!(Tm&130023424)&&(Tm=4194304)):i=1);var c=Cn();r=Yo(r,i),r!==null&&(od(r,i,c),Mn(r,c))}function tle(r){var i=r.memoizedState,c=0;i!==null&&(c=i.retryLane),nq(r,c)}function nle(r,i){var c=0;switch(r.tag){case 13:var p=r.stateNode,w=r.memoizedState;w!==null&&(c=w.retryLane);break;case 19:p=r.stateNode;break;default:throw Error(o(314))}p!==null&&p.delete(i),nq(r,c)}var rq;rq=function(r,i,c){if(r!==null)if(r.memoizedProps!==i.pendingProps||zn.current)An=!0;else{if(!(r.lanes&c)&&!(i.flags&128))return An=!1,Wae(r,i,c);An=!!(r.flags&131072)}else An=!1,wt&&i.flags&1048576&&AW(i,n0,i.index);switch(i.lanes=0,i.tag){case 2:var p=i.type;v0(r,i),r=i.pendingProps;var w=Us(i,mn.current);qs(i,c),w=jx(null,i,p,r,w,c);var E=Ox();return i.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Dn(p)?(E=!0,Jm(i)):E=!1,i.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,kx(i),w.updater=s0,i.stateNode=w,w._reactInternals=i,xx(i,p,r,c),i=Fx(null,i,p,!0,E,c)):(i.tag=0,wt&&E&&cx(i),Pn(null,i,w,c),i=i.child),i;case 16:p=i.elementType;e:{switch(v0(r,i),r=i.pendingProps,w=p._init,p=w(p._payload),i.type=p,w=i.tag=ole(p),r=Ur(p,r),w){case 0:i=Nx(null,i,p,r,c);break e;case 1:i=IH(null,i,p,r,c);break e;case 11:i=SH(null,i,p,r,c);break e;case 14:i=EH(null,i,p,Ur(p.type,r),c);break e}throw Error(o(306,p,""))}return i;case 0:return p=i.type,w=i.pendingProps,w=i.elementType===p?w:Ur(p,w),Nx(r,i,p,w,c);case 1:return p=i.type,w=i.pendingProps,w=i.elementType===p?w:Ur(p,w),IH(r,i,p,w,c);case 3:e:{if(jH(i),r===null)throw Error(o(387));p=i.pendingProps,E=i.memoizedState,w=E.element,UW(r,i),l0(i,p,null,c);var T=i.memoizedState;if(p=T.element,E.isDehydrated)if(E={element:p,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},i.updateQueue.baseState=E,i.memoizedState=E,i.flags&256){w=Xs(Error(o(423)),i),i=OH(r,i,p,c,w);break e}else if(p!==w){w=Xs(Error(o(424)),i),i=OH(r,i,p,c,w);break e}else for(Ln=Wi(i.stateNode.containerInfo.firstChild),$n=i,wt=!0,Rr=null,c=ZW(i,null,p,c),i.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Ws(),p===w){i=Jo(r,i,c);break e}Pn(r,i,p,c)}i=i.child}return i;case 5:return GW(i),r===null&&px(i),p=i.type,w=i.pendingProps,E=r!==null?r.memoizedProps:null,T=w.children,ox(p,w)?T=null:E!==null&&ox(p,E)&&(i.flags|=32),CH(r,i),Pn(r,i,T,c),i.child;case 6:return r===null&&px(i),null;case 13:return TH(r,i,c);case 4:return Sx(i,i.stateNode.containerInfo),p=i.pendingProps,r===null?i.child=$s(i,null,p,c):Pn(r,i,p,c),i.child;case 11:return p=i.type,w=i.pendingProps,w=i.elementType===p?w:Ur(p,w),SH(r,i,p,w,c);case 7:return Pn(r,i,i.pendingProps,c),i.child;case 8:return Pn(r,i,i.pendingProps.children,c),i.child;case 12:return Pn(r,i,i.pendingProps.children,c),i.child;case 10:e:{if(p=i.type._context,w=i.pendingProps,E=i.memoizedProps,T=w.value,mt(o0,p._currentValue),p._currentValue=T,E!==null)if(Fr(E.value,T)){if(E.children===w.children&&!zn.current){i=Jo(r,i,c);break e}}else for(E=i.child,E!==null&&(E.return=i);E!==null;){var W=E.dependencies;if(W!==null){T=E.child;for(var Y=W.firstContext;Y!==null;){if(Y.context===p){if(E.tag===1){Y=Qo(-1,c&-c),Y.tag=2;var pe=E.updateQueue;if(pe!==null){pe=pe.shared;var _e=pe.pending;_e===null?Y.next=Y:(Y.next=_e.next,_e.next=Y),pe.pending=Y}}E.lanes|=c,Y=E.alternate,Y!==null&&(Y.lanes|=c),yx(E.return,c,i),W.lanes|=c;break}Y=Y.next}}else if(E.tag===10)T=E.type===i.type?null:E.child;else if(E.tag===18){if(T=E.return,T===null)throw Error(o(341));T.lanes|=c,W=T.alternate,W!==null&&(W.lanes|=c),yx(T,c,i),T=E.sibling}else T=E.child;if(T!==null)T.return=E;else for(T=E;T!==null;){if(T===i){T=null;break}if(E=T.sibling,E!==null){E.return=T.return,T=E;break}T=T.return}E=T}Pn(r,i,w.children,c),i=i.child}return i;case 9:return w=i.type,p=i.pendingProps.children,qs(i,c),w=sr(w),p=p(w),i.flags|=1,Pn(r,i,p,c),i.child;case 14:return p=i.type,w=Ur(p,i.pendingProps),w=Ur(p.type,w),EH(r,i,p,w,c);case 15:return _H(r,i,i.type,i.pendingProps,c);case 17:return p=i.type,w=i.pendingProps,w=i.elementType===p?w:Ur(p,w),v0(r,i),i.tag=1,Dn(p)?(r=!0,Jm(i)):r=!1,qs(i,c),qW(i,p,w),xx(i,p,w,c),Fx(null,i,p,!0,r,c);case 19:return DH(r,i,c);case 22:return PH(r,i,c)}throw Error(o(156,i.tag))};function oq(r,i){return AK(r,i)}function rle(r,i,c,p){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(r,i,c,p){return new rle(r,i,c,p)}function r2(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ole(r){if(typeof r=="function")return r2(r)?1:0;if(r!=null){if(r=r.$$typeof,r===X)return 11;if(r===xe)return 14}return 2}function ea(r,i){var c=r.alternate;return c===null?(c=dr(r.tag,i,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=i,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&14680064,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,i=r.dependencies,c.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c}function I0(r,i,c,p,w,E){var T=2;if(p=r,typeof r=="function")r2(r)&&(T=1);else if(typeof r=="string")T=5;else e:switch(r){case M:return hl(c.children,w,E,i);case N:T=8,w|=8;break;case Z:return r=dr(12,c,i,w|2),r.elementType=Z,r.lanes=E,r;case C:return r=dr(13,c,i,w),r.elementType=C,r.lanes=E,r;case Q:return r=dr(19,c,i,w),r.elementType=Q,r.lanes=E,r;case q:return j0(c,w,E,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case le:T=10;break e;case D:T=9;break e;case X:T=11;break e;case xe:T=14;break e;case H:T=16,p=null;break e}throw Error(o(130,r==null?r:typeof r,""))}return i=dr(T,c,i,w),i.elementType=r,i.type=p,i.lanes=E,i}function hl(r,i,c,p){return r=dr(7,r,p,i),r.lanes=c,r}function j0(r,i,c,p){return r=dr(22,r,p,i),r.elementType=q,r.lanes=c,r.stateNode={isHidden:!1},r}function o2(r,i,c){return r=dr(6,r,null,i),r.lanes=c,r}function i2(r,i,c){return i=dr(4,r.children!==null?r.children:[],r.key,i),i.lanes=c,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function ile(r,i,c,p,w){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bw(0),this.expirationTimes=Bw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bw(0),this.identifierPrefix=p,this.onRecoverableError=w,this.mutableSourceEagerHydrationData=null}function a2(r,i,c,p,w,E,T,W,Y){return r=new ile(r,i,c,W,Y),i===1?(i=1,E===!0&&(i|=8)):i=0,E=dr(3,null,null,i),r.current=E,E.stateNode=r,E.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},kx(E),r}function ale(r,i,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:K,key:p==null?null:""+p,children:r,containerInfo:i,implementation:c}}function iq(r){if(!r)return qi;r=r._reactInternals;e:{if(nl(r)!==r||r.tag!==1)throw Error(o(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Dn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(o(171))}if(r.tag===1){var c=r.type;if(Dn(c))return TW(r,c,i)}return i}function aq(r,i,c,p,w,E,T,W,Y){return r=a2(c,p,!0,r,w,E,T,W,Y),r.context=iq(null),c=r.current,p=Cn(),w=Qi(c),E=Qo(p,w),E.callback=i??null,Xi(c,E,w),r.current.lanes=w,od(r,w,p),Mn(r,p),r}function O0(r,i,c,p){var w=i.current,E=Cn(),T=Qi(w);return c=iq(c),i.context===null?i.context=c:i.pendingContext=c,i=Qo(E,T),i.payload={element:r},p=p===void 0?null:p,p!==null&&(i.callback=p),r=Xi(w,i,T),r!==null&&(Wr(r,w,T,E),a0(r,w,T)),T}function T0(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function lq(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<i?c:i}}function l2(r,i){lq(r,i),(r=r.alternate)&&lq(r,i)}function lle(){return null}var sq=typeof reportError=="function"?reportError:function(r){console.error(r)};function s2(r){this._internalRoot=r}z0.prototype.render=s2.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(o(409));O0(r,i,null,null)},z0.prototype.unmount=s2.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;dl(function(){O0(null,r,null,null)}),i[Lo]=null}};function z0(r){this._internalRoot=r}z0.prototype.unstable_scheduleHydration=function(r){if(r){var i=KK();r={blockedOn:null,target:r,priority:i};for(var c=0;c<Ui.length&&i!==0&&i<Ui[c].priority;c++);Ui.splice(c,0,r),c===0&&qK(r)}};function u2(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function D0(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function uq(){}function sle(r,i,c,p,w){if(w){if(typeof p=="function"){var E=p;p=function(){var pe=T0(T);E.call(pe)}}var T=aq(i,p,r,0,null,!1,!1,"",uq);return r._reactRootContainer=T,r[Lo]=T.current,yd(r.nodeType===8?r.parentNode:r),dl(),T}for(;w=r.lastChild;)r.removeChild(w);if(typeof p=="function"){var W=p;p=function(){var pe=T0(Y);W.call(pe)}}var Y=a2(r,0,!1,null,null,!1,!1,"",uq);return r._reactRootContainer=Y,r[Lo]=Y.current,yd(r.nodeType===8?r.parentNode:r),dl(function(){O0(i,Y,c,p)}),Y}function A0(r,i,c,p,w){var E=c._reactRootContainer;if(E){var T=E;if(typeof w=="function"){var W=w;w=function(){var Y=T0(T);W.call(Y)}}O0(i,T,r,w)}else T=sle(c,i,r,w,p);return T0(T)}UK=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var c=rd(i.pendingLanes);c!==0&&(Mw(i,c|1),Mn(i,zt()),!(it&6)&&(Ys=zt()+500,$i()))}break;case 13:dl(function(){var p=Yo(r,1);if(p!==null){var w=Cn();Wr(p,r,1,w)}}),l2(r,1)}},Nw=function(r){if(r.tag===13){var i=Yo(r,134217728);if(i!==null){var c=Cn();Wr(i,r,134217728,c)}l2(r,134217728)}},VK=function(r){if(r.tag===13){var i=Qi(r),c=Yo(r,i);if(c!==null){var p=Cn();Wr(c,r,i,p)}l2(r,i)}},KK=function(){return ut},WK=function(r,i){var c=ut;try{return ut=r,i()}finally{ut=c}},js=function(r,i,c){switch(i){case"input":if(R(r,c),i=c.name,c.type==="radio"&&i!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<c.length;i++){var p=c[i];if(p!==r&&p.form===r.form){var w=Ym(p);if(!w)throw Error(o(90));at(p),R(p,w)}}}break;case"textarea":we(r,c);break;case"select":i=c.value,i!=null&&oe(r,!!c.multiple,i,!1)}},CK=e2,IK=dl;var ule={usingClientEntryPoint:!1,Events:[wd,Fs,Ym,_K,PK,e2]},Bd={findFiberByHostInstance:rl,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},cle={bundleType:Bd.bundleType,version:Bd.version,rendererPackageName:Bd.rendererPackageName,rendererConfig:Bd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=zK(r),r===null?null:r.stateNode},findFiberByHostInstance:Bd.findFiberByHostInstance||lle,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(Md=__REACT_DEVTOOLS_GLOBAL_HOOK__,!Md.isDisabled&&Md.supportsFiber))try{jm=Md.inject(cle),vo=Md}catch{}var Md;e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ule,e.createPortal=function(r,i){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u2(i))throw Error(o(200));return ale(r,i,null,c)},e.createRoot=function(r,i){if(!u2(r))throw Error(o(299));var c=!1,p="",w=sq;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(p=i.identifierPrefix),i.onRecoverableError!==void 0&&(w=i.onRecoverableError)),i=a2(r,1,!1,null,null,c,!1,p,w),r[Lo]=i.current,yd(r.nodeType===8?r.parentNode:r),new s2(i)},e.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(o(188)):(r=Object.keys(r).join(","),Error(o(268,r)));return r=zK(i),r=r===null?null:r.stateNode,r},e.flushSync=function(r){return dl(r)},e.hydrate=function(r,i,c){if(!D0(i))throw Error(o(200));return A0(null,r,i,!0,c)},e.hydrateRoot=function(r,i,c){if(!u2(r))throw Error(o(405));var p=c!=null&&c.hydratedSources||null,w=!1,E="",T=sq;if(c!=null&&(c.unstable_strictMode===!0&&(w=!0),c.identifierPrefix!==void 0&&(E=c.identifierPrefix),c.onRecoverableError!==void 0&&(T=c.onRecoverableError)),i=aq(i,null,r,1,c??null,w,!1,E,T),r[Lo]=i.current,yd(r),p)for(r=0;r<p.length;r++)c=p[r],w=c._getVersion,w=w(c._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[c,w]:i.mutableSourceEagerHydrationData.push(c,w);return new z0(i)},e.render=function(r,i,c){if(!D0(i))throw Error(o(200));return A0(null,r,i,!1,c)},e.unmountComponentAtNode=function(r){if(!D0(r))throw Error(o(40));return r._reactRootContainer?(dl(function(){A0(null,null,r,!1,function(){r._reactRootContainer=null,r[Lo]=null})}),!0):!1},e.unstable_batchedUpdates=e2,e.unstable_renderSubtreeIntoContainer=function(r,i,c,p){if(!D0(c))throw Error(o(200));if(r==null||r._reactInternals===void 0)throw Error(o(38));return A0(r,i,c,!1,p)},e.version="18.2.0-next-9e3b772b8-20220608"}),So=Ke((e,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(o){console.error(o)}}n(),t.exports=iG()});function aG(e){let[,t]=(0,si.useState)(0);return(0,si.useCallback)(()=>{t(n=>n+1)},[])}function Ge(e,t,n){let o=(0,si.useCallback)(e,t),a=(0,si.useRef)(null);a.current?a.current.set(o):a.current=new xf.Atom(o);let l=(0,si.useRef)(null);return l.current||(l.current=(0,xf.prism)(()=>a.current.prism.getValue()())),wf(l.current,n)}function lG(){Sf||(Sf=!0,(0,Z5.default)(()=>{(0,G5.unstable_batchedUpdates)(function(){for(var e,t;vr.length>0;){let n=vr.shift();jl.delete(n);let o;da&&((e=n.debug)==null||e.history.push("queue reached"));try{o=n.der.getValue()}catch(a){da&&((t=n.debug)==null||t.history.push("queue: der.getValue() errored")),console.error("A `der.getValue()` in `usePrismInstance(der)` threw an error. This may be a zombie child issue, so we're gonna try to get its value again in a normal react render phase.If you see the same error again, then you either have an error in your prism code, or the deps array in `usePrism(fn, deps)` is missing a dependency and causing the prism to read stale values."),console.error(a),n.runUpdate();continue}o!==n.lastValue&&(n.lastValue=o,n.runUpdate())}Sf=!1},1)}))}function wf(e,t){var n;let o=aG(),a=(0,si.useRef)(void 0);a.current||(iv++,a.current={order:iv,runUpdate:()=>{a.current.unmounted||o()},der:e,lastValue:void 0,unmounted:!1,queueUpdate:()=>{var s;da&&((s=a.current.debug)==null||s.history.push("queueUpdate()")),Y5(a.current)},untap:e.onStale(()=>{da&&a.current.debug.history.push("onStale(cb)"),a.current.queueUpdate()})},da&&(a.current.debug={label:t,traceOfFirstTimeRender:new Error,history:[]})),(0,si.useLayoutEffect)(()=>function(){a.current.unmounted=!0,a.current.untap(),av(a.current)},[]),av(a.current);let l=a.current.der.getValue();return a.current.lastValue=l,da&&((n=a.current.debug)==null||n.history.push("rendered")),l}var xf,Z5,si,G5,da,Ye,iv,vr,jl,Sf,Y5,Q5,av,Fe=P(()=>{xf=je,Rt(),Z5=$(tG()),si=$(G()),G5=$(So()),da=!1,Ye=(e,t)=>Ge(()=>(0,xf.val)(e),[e],t),iv=0,vr=[],jl=new Set,Sf=!1,Y5=e=>{Q5(e),lG()},Q5=e=>{if(!jl.has(e))if(jl.add(e),vr.length===0)vr.push(e);else{let t=tv(vr,n=>n.order>=e.order);t===-1?vr.push(e):vr[t].order>e.order&&vr.splice(t,0,e)}},av=e=>{if(!jl.has(e))return;jl.delete(e);let t=tv(vr,n=>n===e);vr.splice(t,1)}}),sG=Ke(e=>{var t=60103,n=60106,o=60107,a=60108,l=60114,s=60109,u=60110,d=60112,f=60113,m=60120,v=60115,g=60116,h=60121,b=60122,y=60117,k=60129,x=60131;typeof Symbol=="function"&&Symbol.for&&(S=Symbol.for,t=S("react.element"),n=S("react.portal"),o=S("react.fragment"),a=S("react.strict_mode"),l=S("react.profiler"),s=S("react.provider"),u=S("react.context"),d=S("react.forward_ref"),f=S("react.suspense"),m=S("react.suspense_list"),v=S("react.memo"),g=S("react.lazy"),h=S("react.block"),b=S("react.server.block"),y=S("react.fundamental"),k=S("react.debug_trace_mode"),x=S("react.legacy_hidden"));var S;function _(C){if(typeof C=="object"&&C!==null){var Q=C.$$typeof;switch(Q){case t:switch(C=C.type,C){case o:case l:case a:case f:case m:return C;default:switch(C=C&&C.$$typeof,C){case u:case d:case g:case v:case s:return C;default:return Q}}case n:return Q}}}var O=s,j=t,z=d,K=o,M=g,N=v,Z=n,le=l,D=a,X=f;e.ContextConsumer=u,e.ContextProvider=O,e.Element=j,e.ForwardRef=z,e.Fragment=K,e.Lazy=M,e.Memo=N,e.Portal=Z,e.Profiler=le,e.StrictMode=D,e.Suspense=X,e.isAsyncMode=function(){return!1},e.isConcurrentMode=function(){return!1},e.isContextConsumer=function(C){return _(C)===u},e.isContextProvider=function(C){return _(C)===s},e.isElement=function(C){return typeof C=="object"&&C!==null&&C.$$typeof===t},e.isForwardRef=function(C){return _(C)===d},e.isFragment=function(C){return _(C)===o},e.isLazy=function(C){return _(C)===g},e.isMemo=function(C){return _(C)===v},e.isPortal=function(C){return _(C)===n},e.isProfiler=function(C){return _(C)===l},e.isStrictMode=function(C){return _(C)===a},e.isSuspense=function(C){return _(C)===f},e.isValidElementType=function(C){return typeof C=="string"||typeof C=="function"||C===o||C===l||C===k||C===a||C===f||C===m||C===x||typeof C=="object"&&C!==null&&(C.$$typeof===g||C.$$typeof===v||C.$$typeof===s||C.$$typeof===u||C.$$typeof===d||C.$$typeof===y||C.$$typeof===h||C[0]===b)},e.typeOf=_}),uG=Ke((e,t)=>{t.exports=sG()}),J5=Ke((e,t)=>{t.exports=function(n,o,a,l){var s=a?a.call(l,n,o):void 0;if(s!==void 0)return!!s;if(n===o)return!0;if(typeof n!="object"||!n||typeof o!="object"||!o)return!1;var u=Object.keys(n),d=Object.keys(o);if(u.length!==d.length)return!1;for(var f=Object.prototype.hasOwnProperty.bind(o),m=0;m<u.length;m++){var v=u[m];if(!f(v))return!1;var g=n[v],h=o[v];if(s=a?a.call(l,g,h,v):void 0,s===!1||s===void 0&&g!==h)return!1}return!0}});function cG(e){function t(B,re,ae,ue,te){for(var Oe=0,me=0,Ie=0,Ae=0,He,Ve,at=0,I=0,fe,ce=fe=He=0,V=0,R=0,ne=0,ve=0,ke=ae.length,oe=ke-1,Se,ye="",we="",Ue="",ot="",Xe;V<ke;){if(Ve=ae.charCodeAt(V),V===oe&&me+Ae+Ie+Oe!==0&&(me!==0&&(Ve=me===47?10:47),Ae=Ie=Oe=0,ke++,oe++),me+Ae+Ie+Oe===0){if(V===oe&&(0<R&&(ye=ye.replace(g,"")),0<ye.trim().length)){switch(Ve){case 32:case 9:case 59:case 13:case 10:break;default:ye+=ae.charAt(V)}Ve=59}switch(Ve){case 123:for(ye=ye.trim(),He=ye.charCodeAt(0),fe=1,ve=++V;V<ke;){switch(Ve=ae.charCodeAt(V)){case 123:fe++;break;case 125:fe--;break;case 47:switch(Ve=ae.charCodeAt(V+1)){case 42:case 47:e:{for(ce=V+1;ce<oe;++ce)switch(ae.charCodeAt(ce)){case 47:if(Ve===42&&ae.charCodeAt(ce-1)===42&&V+2!==ce){V=ce+1;break e}break;case 10:if(Ve===47){V=ce+1;break e}}V=ce}}break;case 91:Ve++;case 40:Ve++;case 34:case 39:for(;V++<oe&&ae.charCodeAt(V)!==Ve;);}if(fe===0)break;V++}switch(fe=ae.substring(ve,V),He===0&&(He=(ye=ye.replace(v,"").trim()).charCodeAt(0)),He){case 64:switch(0<R&&(ye=ye.replace(g,"")),Ve=ye.charCodeAt(1),Ve){case 100:case 109:case 115:case 45:R=re;break;default:R=xe}if(fe=t(re,R,fe,Ve,te+1),ve=fe.length,0<q&&(R=n(xe,ye,ne),Xe=u(3,fe,R,re,X,D,ve,Ve,te,ue),ye=R.join(""),Xe!==void 0&&(ve=(fe=Xe.trim()).length)===0&&(Ve=0,fe="")),0<ve)switch(Ve){case 115:ye=ye.replace(z,s);case 100:case 109:case 45:fe=ye+"{"+fe+"}";break;case 107:ye=ye.replace(S,"$1 $2"),fe=ye+"{"+fe+"}",fe=Q===1||Q===2&&l("@"+fe,3)?"@-webkit-"+fe+"@"+fe:"@"+fe;break;default:fe=ye+fe,ue===112&&(fe=(we+=fe,""))}else fe="";break;default:fe=t(re,n(re,ye,ne),fe,ue,te+1)}Ue+=fe,fe=ne=R=ce=He=0,ye="",Ve=ae.charCodeAt(++V);break;case 125:case 59:if(ye=(0<R?ye.replace(g,""):ye).trim(),1<(ve=ye.length))switch(ce===0&&(He=ye.charCodeAt(0),He===45||96<He&&123>He)&&(ve=(ye=ye.replace(" ",":")).length),0<q&&(Xe=u(1,ye,re,B,X,D,we.length,ue,te,ue))!==void 0&&(ve=(ye=Xe.trim()).length)===0&&(ye="\0\0"),He=ye.charCodeAt(0),Ve=ye.charCodeAt(1),He){case 0:break;case 64:if(Ve===105||Ve===99){ot+=ye+ae.charAt(V);break}default:ye.charCodeAt(ve-1)!==58&&(we+=a(ye,He,Ve,ye.charCodeAt(2)))}ne=R=ce=He=0,ye="",Ve=ae.charCodeAt(++V)}}switch(Ve){case 13:case 10:me===47?me=0:1+He===0&&ue!==107&&0<ye.length&&(R=1,ye+="\0"),0<q*ge&&u(0,ye,re,B,X,D,we.length,ue,te,ue),D=1,X++;break;case 59:case 125:if(me+Ae+Ie+Oe===0){D++;break}default:switch(D++,Se=ae.charAt(V),Ve){case 9:case 32:if(Ae+Oe+me===0)switch(at){case 44:case 58:case 9:case 32:Se="";break;default:Ve!==32&&(Se=" ")}break;case 0:Se="\\0";break;case 12:Se="\\f";break;case 11:Se="\\v";break;case 38:Ae+me+Oe===0&&(R=ne=1,Se="\f"+Se);break;case 108:if(Ae+me+Oe+C===0&&0<ce)switch(V-ce){case 2:at===112&&ae.charCodeAt(V-3)===58&&(C=at);case 8:I===111&&(C=I)}break;case 58:Ae+me+Oe===0&&(ce=V);break;case 44:me+Ie+Ae+Oe===0&&(R=1,Se+="\r");break;case 34:case 39:me===0&&(Ae=Ae===Ve?0:Ae===0?Ve:Ae);break;case 91:Ae+me+Ie===0&&Oe++;break;case 93:Ae+me+Ie===0&&Oe--;break;case 41:Ae+me+Oe===0&&Ie--;break;case 40:if(Ae+me+Oe===0){if(He===0)switch(2*at+3*I){case 533:break;default:He=1}Ie++}break;case 64:me+Ie+Ae+Oe+ce+fe===0&&(fe=1);break;case 42:case 47:if(!(0<Ae+Oe+Ie))switch(me){case 0:switch(2*Ve+3*ae.charCodeAt(V+1)){case 235:me=47;break;case 220:ve=V,me=42}break;case 42:Ve===47&&at===42&&ve+2!==V&&(ae.charCodeAt(ve+2)===33&&(we+=ae.substring(ve,V+1)),Se="",me=0)}}me===0&&(ye+=Se)}I=at,at=Ve,V++}if(ve=we.length,0<ve){if(R=re,0<q&&(Xe=u(2,we,R,B,X,D,ve,ue,te,ue),Xe!==void 0&&(we=Xe).length===0))return ot+we+Ue;if(we=R.join(",")+"{"+we+"}",Q*C!==0){switch(Q!==2||l(we,2)||(C=0),C){case 111:we=we.replace(O,":-moz-$1")+we;break;case 112:we=we.replace(_,"::-webkit-input-$1")+we.replace(_,"::-moz-$1")+we.replace(_,":-ms-input-$1")+we}C=0}}return ot+we+Ue}function n(B,re,ae){var ue=re.trim().split(k);re=ue;var te=ue.length,Oe=B.length;switch(Oe){case 0:case 1:var me=0;for(B=Oe===0?"":B[0]+" ";me<te;++me)re[me]=o(B,re[me],ae).trim();break;default:var Ie=me=0;for(re=[];me<te;++me)for(var Ae=0;Ae<Oe;++Ae)re[Ie++]=o(B[Ae]+" ",ue[me],ae).trim()}return re}function o(B,re,ae){var ue=re.charCodeAt(0);switch(33>ue&&(ue=(re=re.trim()).charCodeAt(0)),ue){case 38:return re.replace(x,"$1"+B.trim());case 58:return B.trim()+re.replace(x,"$1"+B.trim());default:if(0<1*ae&&0<re.indexOf("\f"))return re.replace(x,(B.charCodeAt(0)===58?"":"$1")+B.trim())}return B+re}function a(B,re,ae,ue){var te=B+";",Oe=2*re+3*ae+4*ue;if(Oe===944){B=te.indexOf(":",9)+1;var me=te.substring(B,te.length-1).trim();return me=te.substring(0,B).trim()+me+";",Q===1||Q===2&&l(me,1)?"-webkit-"+me+me:me}if(Q===0||Q===2&&!l(te,1))return te;switch(Oe){case 1015:return te.charCodeAt(10)===97?"-webkit-"+te+te:te;case 951:return te.charCodeAt(3)===116?"-webkit-"+te+te:te;case 963:return te.charCodeAt(5)===110?"-webkit-"+te+te:te;case 1009:if(te.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+te+te;case 978:return"-webkit-"+te+"-moz-"+te+te;case 1019:case 983:return"-webkit-"+te+"-moz-"+te+"-ms-"+te+te;case 883:if(te.charCodeAt(8)===45)return"-webkit-"+te+te;if(0<te.indexOf("image-set(",11))return te.replace(le,"$1-webkit-$2")+te;break;case 932:if(te.charCodeAt(4)===45)switch(te.charCodeAt(5)){case 103:return"-webkit-box-"+te.replace("-grow","")+"-webkit-"+te+"-ms-"+te.replace("grow","positive")+te;case 115:return"-webkit-"+te+"-ms-"+te.replace("shrink","negative")+te;case 98:return"-webkit-"+te+"-ms-"+te.replace("basis","preferred-size")+te}return"-webkit-"+te+"-ms-"+te+te;case 964:return"-webkit-"+te+"-ms-flex-"+te+te;case 1023:if(te.charCodeAt(8)!==99)break;return me=te.substring(te.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+me+"-webkit-"+te+"-ms-flex-pack"+me+te;case 1005:return b.test(te)?te.replace(h,":-webkit-")+te.replace(h,":-moz-")+te:te;case 1e3:switch(me=te.substring(13).trim(),re=me.indexOf("-")+1,me.charCodeAt(0)+me.charCodeAt(re)){case 226:me=te.replace(j,"tb");break;case 232:me=te.replace(j,"tb-rl");break;case 220:me=te.replace(j,"lr");break;default:return te}return"-webkit-"+te+"-ms-"+me+te;case 1017:if(te.indexOf("sticky",9)===-1)break;case 975:switch(re=(te=B).length-10,me=(te.charCodeAt(re)===33?te.substring(0,re):te).substring(B.indexOf(":",7)+1).trim(),Oe=me.charCodeAt(0)+(me.charCodeAt(7)|0)){case 203:if(111>me.charCodeAt(8))break;case 115:te=te.replace(me,"-webkit-"+me)+";"+te;break;case 207:case 102:te=te.replace(me,"-webkit-"+(102<Oe?"inline-":"")+"box")+";"+te.replace(me,"-webkit-"+me)+";"+te.replace(me,"-ms-"+me+"box")+";"+te}return te+";";case 938:if(te.charCodeAt(5)===45)switch(te.charCodeAt(6)){case 105:return me=te.replace("-items",""),"-webkit-"+te+"-webkit-box-"+me+"-ms-flex-"+me+te;case 115:return"-webkit-"+te+"-ms-flex-item-"+te.replace(M,"")+te;default:return"-webkit-"+te+"-ms-flex-line-pack"+te.replace("align-content","").replace(M,"")+te}break;case 973:case 989:if(te.charCodeAt(3)!==45||te.charCodeAt(4)===122)break;case 931:case 953:if(Z.test(B)===!0)return(me=B.substring(B.indexOf(":")+1)).charCodeAt(0)===115?a(B.replace("stretch","fill-available"),re,ae,ue).replace(":fill-available",":stretch"):te.replace(me,"-webkit-"+me)+te.replace(me,"-moz-"+me.replace("fill-",""))+te;break;case 962:if(te="-webkit-"+te+(te.charCodeAt(5)===102?"-ms-"+te:"")+te,ae+ue===211&&te.charCodeAt(13)===105&&0<te.indexOf("transform",10))return te.substring(0,te.indexOf(";",27)+1).replace(y,"$1-webkit-$2")+te}return te}function l(B,re){var ae=B.indexOf(re===1?":":"{"),ue=B.substring(0,re!==3?ae:10);return ae=B.substring(ae+1,B.length-1),ee(re!==2?ue:ue.replace(N,"$1"),ae,re)}function s(B,re){var ae=a(re,re.charCodeAt(0),re.charCodeAt(1),re.charCodeAt(2));return ae!==re+";"?ae.replace(K," or ($1)").substring(4):"("+re+")"}function u(B,re,ae,ue,te,Oe,me,Ie,Ae,He){for(var Ve=0,at=re,I;Ve<q;++Ve)switch(I=H[Ve].call(m,B,at,ae,ue,te,Oe,me,Ie,Ae,He)){case void 0:case!1:case!0:case null:break;default:at=I}if(at!==re)return at}function d(B){switch(B){case void 0:case null:q=H.length=0;break;default:if(typeof B=="function")H[q++]=B;else if(typeof B=="object")for(var re=0,ae=B.length;re<ae;++re)d(B[re]);else ge=!!B|0}return d}function f(B){return B=B.prefix,B!==void 0&&(ee=null,B?typeof B!="function"?Q=1:(Q=2,ee=B):Q=0),f}function m(B,re){var ae=B;if(33>ae.charCodeAt(0)&&(ae=ae.trim()),A=ae,ae=[A],0<q){var ue=u(-1,re,ae,ae,X,D,0,0,0,0);ue!==void 0&&typeof ue=="string"&&(re=ue)}var te=t(xe,ae,re,0,0);return 0<q&&(ue=u(-2,te,ae,ae,X,D,te.length,0,0,0),ue!==void 0&&(te=ue)),A="",C=0,D=X=1,te}var v=/^\0+/g,g=/[\0\r\f]/g,h=/: */g,b=/zoo|gra/,y=/([,: ])(transform)/g,k=/,\r+?/g,x=/([\t\r\n ])*\f?&/g,S=/@(k\w+)\s*(\S*)\s*/,_=/::(place)/g,O=/:(read-only)/g,j=/[svh]\w+-[tblr]{2}/,z=/\(\s*(.*)\s*\)/g,K=/([\s\S]*?);/g,M=/-self|flex-/g,N=/[^]*?(:[rp][el]a[\w-]+)[^]*/,Z=/stretch|:\s*\w+\-(?:conte|avail)/,le=/([^-])(image-set\()/,D=1,X=1,C=0,Q=1,xe=[],H=[],q=0,ee=null,ge=0,A="";return m.use=d,m.set=f,e!==void 0&&f(e),m}var eC,dG=P(()=>{eC=cG}),tC,nC,fG=P(()=>{tC={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},nC=tC});function pG(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var rC,hG=P(()=>{rC=pG}),oC,iC,lv,mG=P(()=>{hG(),oC=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,iC=rC(function(e){return oC.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),lv=iC}),gG=Ke(e=>{var t=typeof Symbol=="function"&&Symbol.for,n=t?Symbol.for("react.element"):60103,o=t?Symbol.for("react.portal"):60106,a=t?Symbol.for("react.fragment"):60107,l=t?Symbol.for("react.strict_mode"):60108,s=t?Symbol.for("react.profiler"):60114,u=t?Symbol.for("react.provider"):60109,d=t?Symbol.for("react.context"):60110,f=t?Symbol.for("react.async_mode"):60111,m=t?Symbol.for("react.concurrent_mode"):60111,v=t?Symbol.for("react.forward_ref"):60112,g=t?Symbol.for("react.suspense"):60113,h=t?Symbol.for("react.suspense_list"):60120,b=t?Symbol.for("react.memo"):60115,y=t?Symbol.for("react.lazy"):60116,k=t?Symbol.for("react.block"):60121,x=t?Symbol.for("react.fundamental"):60117,S=t?Symbol.for("react.responder"):60118,_=t?Symbol.for("react.scope"):60119;function O(z){if(typeof z=="object"&&z!==null){var K=z.$$typeof;switch(K){case n:switch(z=z.type,z){case f:case m:case a:case s:case l:case g:return z;default:switch(z=z&&z.$$typeof,z){case d:case v:case y:case b:case u:return z;default:return K}}case o:return K}}}function j(z){return O(z)===m}e.AsyncMode=f,e.ConcurrentMode=m,e.ContextConsumer=d,e.ContextProvider=u,e.Element=n,e.ForwardRef=v,e.Fragment=a,e.Lazy=y,e.Memo=b,e.Portal=o,e.Profiler=s,e.StrictMode=l,e.Suspense=g,e.isAsyncMode=function(z){return j(z)||O(z)===f},e.isConcurrentMode=j,e.isContextConsumer=function(z){return O(z)===d},e.isContextProvider=function(z){return O(z)===u},e.isElement=function(z){return typeof z=="object"&&z!==null&&z.$$typeof===n},e.isForwardRef=function(z){return O(z)===v},e.isFragment=function(z){return O(z)===a},e.isLazy=function(z){return O(z)===y},e.isMemo=function(z){return O(z)===b},e.isPortal=function(z){return O(z)===o},e.isProfiler=function(z){return O(z)===s},e.isStrictMode=function(z){return O(z)===l},e.isSuspense=function(z){return O(z)===g},e.isValidElementType=function(z){return typeof z=="string"||typeof z=="function"||z===a||z===m||z===s||z===l||z===g||z===h||typeof z=="object"&&z!==null&&(z.$$typeof===y||z.$$typeof===b||z.$$typeof===u||z.$$typeof===d||z.$$typeof===v||z.$$typeof===x||z.$$typeof===S||z.$$typeof===_||z.$$typeof===k)},e.typeOf=O}),vG=Ke((e,t)=>{t.exports=gG()}),yG=Ke((e,t)=>{var n=vG(),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},l={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};u[n.ForwardRef]=l,u[n.Memo]=s;function d(k){return n.isMemo(k)?s:u[k.$$typeof]||o}var f=Object.defineProperty,m=Object.getOwnPropertyNames,v=Object.getOwnPropertySymbols,g=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,b=Object.prototype;function y(k,x,S){if(typeof x!="string"){if(b){var _=h(x);_&&_!==b&&y(k,_,S)}var O=m(x);v&&(O=O.concat(v(x)));for(var j=d(k),z=d(x),K=0;K<O.length;++K){var M=O[K];if(!a[M]&&!(S&&S[M])&&!(z&&z[M])&&!(j&&j[M])){var N=g(x,M);try{f(k,M,N)}catch{}}}}return k}t.exports=y});function yr(){return(yr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function bu(e){return typeof e=="function"}function aC(e){return e.displayName||e.name||"Component"}function sv(e){return e&&typeof e.styledComponentId=="string"}function Eo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}function uv(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=gv(t%52)+n;return(gv(t%52)+n).replace(OC,"$1-$2")}function lC(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(bu(n)&&!sv(n))return!1}return!0}function sC(e){var t,n,o,a,l=e===void 0?_o:e,s=l.options,u=s===void 0?_o:s,d=l.plugins,f=d===void 0?ku:d,m=new eC(u),v=[],g=function(y){function k(x){if(x)try{y(x+"}")}catch{}}return function(x,S,_,O,j,z,K,M,N,Z){switch(x){case 1:if(N===0&&S.charCodeAt(0)===64)return y(S+";"),"";break;case 2:if(M===0)return S+"/*|*/";break;case 3:switch(M){case 102:case 112:return y(_[0]+S),"";default:return S+(Z===0?"/*|*/":"")}case-2:S.split("/*|*/}").forEach(k)}}}(function(y){v.push(y)}),h=function(y,k,x){return k===0&&AC.indexOf(x[n.length])!==-1||x.match(a)?y:"."+t};function b(y,k,x,S){S===void 0&&(S="&");var _=y.replace(DC,""),O=k&&x?x+" "+k+" { "+_+" }":_;return t=S,n=k,o=new RegExp("\\"+n+"\\b","g"),a=new RegExp("(\\"+n+"\\b){2,}"),m(x||!k?"":k,O)}return m.use([].concat(f,[function(y,k,x){y===2&&x.length&&x[0].lastIndexOf(n)>0&&(x[0]=x[0].replace(o,h))},g,function(y){if(y===-2){var k=v;return v=[],k}}])),b.hash=f.length?f.reduce(function(y,k){return k.name||Eo(15),pa(y,k.name)},5381).toString():"",b}function cv(){return(0,jt.useContext)(If)||BC}function uC(){return(0,jt.useContext)(jf)||Of}function cC(e){var t=(0,jt.useState)(e.stylisPlugins),n=t[0],o=t[1],a=cv(),l=(0,jt.useMemo)(function(){var u=a;return e.sheet?u=e.sheet:e.target&&(u=u.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(u=u.reconstructWithOptions({useCSSOMInjection:!1})),u},[e.disableCSSOMInjection,e.sheet,e.target]),s=(0,jt.useMemo)(function(){return sC({options:{prefix:!e.disableVendorPrefixes},plugins:n})},[e.disableVendorPrefixes,n]);return(0,jt.useEffect)(function(){(0,mC.default)(n,e.stylisPlugins)||o(e.stylisPlugins)},[e.stylisPlugins]),jt.default.createElement(If.Provider,{value:l},jt.default.createElement(jf.Provider,{value:s},e.children))}function dC(e){return NC.test(e)?e.replace(FC,UC).replace(RC,"-ms-"):e}function fa(e,t,n,o){if(Array.isArray(e)){for(var a,l=[],s=0,u=e.length;s<u;s+=1)(a=fa(e[s],t,n,o))!==""&&(Array.isArray(a)?l.push.apply(l,a):l.push(a));return l}if(yv(e))return"";if(sv(e))return"."+e.styledComponentId;if(bu(e)){if(typeof(f=e)!="function"||f.prototype&&f.prototype.isReactComponent||!t)return e;var d=e(t);return fa(d,t,n,o)}var f;return e instanceof MC?n?(e.inject(n,o),e.getName(o)):e:_f(e)?function m(v,g){var h,b,y=[];for(var k in v)v.hasOwnProperty(k)&&!yv(v[k])&&(Array.isArray(v[k])&&v[k].isCss||bu(v[k])?y.push(dC(k)+":",v[k],";"):_f(v[k])?y.push.apply(y,m(v[k],k)):y.push(dC(k)+": "+(h=k,(b=v[k])==null||typeof b=="boolean"||b===""?"":typeof b!="number"||b===0||h in nC||h.startsWith("--")?String(b).trim():b+"px")+";"));return g?[g+" {"].concat(y,["}"]):y}(e):e.toString()}function Fn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return bu(e)||_f(e)?bv(fa(pv(ku,[e].concat(n)))):n.length===0&&e.length===1&&typeof e[0]=="string"?e:bv(fa(pv(e,n)))}function dv(e){return e.replace(VC,"-").replace(KC,"")}function Ef(e){return typeof e=="string"&&!0}function bG(e,t,n){var o=e[n];Tf(t)&&Tf(o)?fC(o,t):e[n]=t}function fC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];for(var a=0,l=n;a<l.length;a++){var s=l[a];if(Tf(s))for(var u in s)WC(u)&&bG(e,s[u],u)}return e}function pC(e,t,n){var o=sv(e),a=!Ef(e),l=t.attrs,s=l===void 0?ku:l,u=t.componentId,d=u===void 0?function(S,_){var O=typeof S!="string"?"sc":dv(S);Df[O]=(Df[O]||0)+1;var j=O+"-"+wv("5.3.11"+O+Df[O]);return _?_+"-"+j:j}(t.displayName,t.parentComponentId):u,f=t.displayName,m=f===void 0?function(S){return Ef(S)?"styled."+S:"Styled("+aC(S)+")"}(e):f,v=t.displayName&&t.componentId?dv(t.displayName)+"-"+t.componentId:t.componentId||d,g=o&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,h=t.shouldForwardProp;o&&e.shouldForwardProp&&(h=t.shouldForwardProp?function(S,_,O){return e.shouldForwardProp(S,_,O)&&t.shouldForwardProp(S,_,O)}:e.shouldForwardProp);var b,y=new zC(n,v,o?e.componentStyle:void 0),k=y.isStatic&&s.length===0,x=function(S,_){return function(O,j,z,K){var M=O.attrs,N=O.componentStyle,Z=O.defaultProps,le=O.foldedComponentIds,D=O.shouldForwardProp,X=O.styledComponentId,C=O.target,Q=function(ue,te,Oe){ue===void 0&&(ue=_o);var me=yr({},te,{theme:ue}),Ie={};return Oe.forEach(function(Ae){var He,Ve,at,I=Ae;for(He in bu(I)&&(I=I(me)),I)me[He]=Ie[He]=He==="className"?(Ve=Ie[He],at=I[He],Ve&&at?Ve+" "+at:Ve||at):I[He]}),[me,Ie]}(kv(j,(0,jt.useContext)(zf),Z)||_o,j,M),xe=Q[0],H=Q[1],q=function(ue,te,Oe,me){var Ie=cv(),Ae=uC(),He=te?ue.generateAndInjectStyles(_o,Ie,Ae):ue.generateAndInjectStyles(Oe,Ie,Ae);return He}(N,K,xe),ee=z,ge=H.$as||j.$as||H.as||j.as||C,A=Ef(ge),B=H!==j?yr({},j,{},H):j,re={};for(var ae in B)ae[0]!=="$"&&ae!=="as"&&(ae==="forwardedAs"?re.as=B[ae]:(D?D(ae,lv,ge):!A||lv(ae))&&(re[ae]=B[ae]));return j.style&&H.style!==j.style&&(re.style=yr({},j.style,{},H.style)),re.className=Array.prototype.concat(le,X,q!==X?q:null,j.className,H.className).filter(Boolean).join(" "),re.ref=ee,(0,jt.createElement)(ge,re)}(b,S,_,k)};return x.displayName=m,(b=jt.default.forwardRef(x)).attrs=g,b.componentStyle=y,b.displayName=m,b.shouldForwardProp=h,b.foldedComponentIds=o?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):ku,b.styledComponentId=v,b.target=o?e.target:e,b.withComponent=function(S){var _=t.componentId,O=function(z,K){if(z==null)return{};var M,N,Z={},le=Object.keys(z);for(N=0;N<le.length;N++)M=le[N],K.indexOf(M)>=0||(Z[M]=z[M]);return Z}(t,["componentId"]),j=_&&_+"-"+(Ef(S)?S:dv(aC(S)));return pC(S,yr({},O,{attrs:g,componentId:j}),n)},Object.defineProperty(b,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(S){this._foldedDefaultProps=o?fC({},e.defaultProps,S):S}}),Object.defineProperty(b,"toString",{value:function(){return"."+b.styledComponentId}}),a&&(0,gC.default)(b,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),b}function hC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var a=Fn.apply(void 0,[e].concat(n)),l="sc-global-"+wv(JSON.stringify(a)),s=new HC(a,l);function u(f){var m=cv(),v=uC(),g=(0,jt.useContext)(zf),h=(0,jt.useRef)(m.allocateGSInstance(l)).current;return m.server&&d(h,f,m,g,v),(0,jt.useLayoutEffect)(function(){if(!m.server)return d(h,f,m,g,v),function(){return s.removeStyles(h,m)}},[h,f,m,g,v]),null}function d(f,m,v,g,h){if(s.isStatic)s.renderStyles(f,yC,v,h);else{var b=yr({},m,{theme:kv(m,g,u.defaultProps)});s.renderStyles(f,b,v,h)}}return jt.default.memo(u)}var fv,jt,mC,gC,pv,_f,ku,_o,Po,Pf,vC,yC,bC,wu,xu,Ol,Su,kC,wC,xC,SC,EC,_C,Cf,hv,PC,CC,IC,mv,jC,Tl,OC,gv,pa,vv,TC,zC,DC,AC,If,jf,BC,Of,MC,NC,FC,RC,UC,yv,bv,kv,VC,KC,wv,Tf,WC,zf,Df,Af,HC,U,be=P(()=>{fv=$(uG()),jt=$(G()),mC=$(J5()),dG(),fG(),mG(),gC=$(yG()),pv=function(e,t){for(var n=[e[0]],o=0,a=t.length;o<a;o+=1)n.push(t[o],e[o+1]);return n},_f=function(e){return e!==null&&typeof e=="object"&&(e.toString?e.toString():Object.prototype.toString.call(e))==="[object Object]"&&!(0,fv.typeOf)(e)},ku=Object.freeze([]),_o=Object.freeze({}),Po=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",Pf=typeof window<"u"&&"HTMLElement"in window,vC=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY)),yC={},bC=function(){function e(n){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=n}var t=e.prototype;return t.indexOfGroup=function(n){for(var o=0,a=0;a<n;a++)o+=this.groupSizes[a];return o},t.insertRules=function(n,o){if(n>=this.groupSizes.length){for(var a=this.groupSizes,l=a.length,s=l;n>=s;)(s<<=1)<0&&Eo(16,""+n);this.groupSizes=new Uint32Array(s),this.groupSizes.set(a),this.length=s;for(var u=l;u<s;u++)this.groupSizes[u]=0}for(var d=this.indexOfGroup(n+1),f=0,m=o.length;f<m;f++)this.tag.insertRule(d,o[f])&&(this.groupSizes[n]++,d++)},t.clearGroup=function(n){if(n<this.length){var o=this.groupSizes[n],a=this.indexOfGroup(n),l=a+o;this.groupSizes[n]=0;for(var s=a;s<l;s++)this.tag.deleteRule(a)}},t.getGroup=function(n){var o="";if(n>=this.length||this.groupSizes[n]===0)return o;for(var a=this.groupSizes[n],l=this.indexOfGroup(n),s=l+a,u=l;u<s;u++)o+=this.tag.getRule(u)+`/*!sc*/
`;return o},e}(),wu=new Map,xu=new Map,Ol=1,Su=function(e){if(wu.has(e))return wu.get(e);for(;xu.has(Ol);)Ol++;var t=Ol++;return wu.set(e,t),xu.set(t,e),t},kC=function(e){return xu.get(e)},wC=function(e,t){t>=Ol&&(Ol=t+1),wu.set(e,t),xu.set(t,e)},xC="style["+Po+'][data-styled-version="5.3.11"]',SC=new RegExp("^"+Po+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),EC=function(e,t,n){for(var o,a=n.split(","),l=0,s=a.length;l<s;l++)(o=a[l])&&e.registerName(t,o)},_C=function(e,t){for(var n=(t.textContent||"").split(`/*!sc*/
`),o=[],a=0,l=n.length;a<l;a++){var s=n[a].trim();if(s){var u=s.match(SC);if(u){var d=0|parseInt(u[1],10),f=u[2];d!==0&&(wC(f,d),EC(e,f,u[3]),e.getTag().insertRules(d,o)),o.length=0}else o.push(s)}}},Cf=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},hv=function(e){var t=document.head,n=e||t,o=document.createElement("style"),a=function(u){for(var d=u.childNodes,f=d.length;f>=0;f--){var m=d[f];if(m&&m.nodeType===1&&m.hasAttribute(Po))return m}}(n),l=a!==void 0?a.nextSibling:null;o.setAttribute(Po,"active"),o.setAttribute("data-styled-version","5.3.11");var s=Cf();return s&&o.setAttribute("nonce",s),n.insertBefore(o,l),o},PC=function(){function e(n){var o=this.element=hv(n);o.appendChild(document.createTextNode("")),this.sheet=function(a){if(a.sheet)return a.sheet;for(var l=document.styleSheets,s=0,u=l.length;s<u;s++){var d=l[s];if(d.ownerNode===a)return d}Eo(17)}(o),this.length=0}var t=e.prototype;return t.insertRule=function(n,o){try{return this.sheet.insertRule(o,n),this.length++,!0}catch{return!1}},t.deleteRule=function(n){this.sheet.deleteRule(n),this.length--},t.getRule=function(n){var o=this.sheet.cssRules[n];return o!==void 0&&typeof o.cssText=="string"?o.cssText:""},e}(),CC=function(){function e(n){var o=this.element=hv(n);this.nodes=o.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(n,o){if(n<=this.length&&n>=0){var a=document.createTextNode(o),l=this.nodes[n];return this.element.insertBefore(a,l||null),this.length++,!0}return!1},t.deleteRule=function(n){this.element.removeChild(this.nodes[n]),this.length--},t.getRule=function(n){return n<this.length?this.nodes[n].textContent:""},e}(),IC=function(){function e(n){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(n,o){return n<=this.length&&(this.rules.splice(n,0,o),this.length++,!0)},t.deleteRule=function(n){this.rules.splice(n,1),this.length--},t.getRule=function(n){return n<this.length?this.rules[n]:""},e}(),mv=Pf,jC={isServer:!Pf,useCSSOMInjection:!vC},Tl=function(){function e(n,o,a){n===void 0&&(n=_o),o===void 0&&(o={}),this.options=yr({},jC,{},n),this.gs=o,this.names=new Map(a),this.server=!!n.isServer,!this.server&&Pf&&mv&&(mv=!1,function(l){for(var s=document.querySelectorAll(xC),u=0,d=s.length;u<d;u++){var f=s[u];f&&f.getAttribute(Po)!=="active"&&(_C(l,f),f.parentNode&&f.parentNode.removeChild(f))}}(this))}e.registerId=function(n){return Su(n)};var t=e.prototype;return t.reconstructWithOptions=function(n,o){return o===void 0&&(o=!0),new e(yr({},this.options,{},n),this.gs,o&&this.names||void 0)},t.allocateGSInstance=function(n){return this.gs[n]=(this.gs[n]||0)+1},t.getTag=function(){return this.tag||(this.tag=(a=(o=this.options).isServer,l=o.useCSSOMInjection,s=o.target,n=a?new IC(s):l?new PC(s):new CC(s),new bC(n)));var n,o,a,l,s},t.hasNameForId=function(n,o){return this.names.has(n)&&this.names.get(n).has(o)},t.registerName=function(n,o){if(Su(n),this.names.has(n))this.names.get(n).add(o);else{var a=new Set;a.add(o),this.names.set(n,a)}},t.insertRules=function(n,o,a){this.registerName(n,o),this.getTag().insertRules(Su(n),a)},t.clearNames=function(n){this.names.has(n)&&this.names.get(n).clear()},t.clearRules=function(n){this.getTag().clearGroup(Su(n)),this.clearNames(n)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(n){for(var o=n.getTag(),a=o.length,l="",s=0;s<a;s++){var u=kC(s);if(u!==void 0){var d=n.names.get(u),f=o.getGroup(s);if(d&&f&&d.size){var m=Po+".g"+s+'[id="'+u+'"]',v="";d!==void 0&&d.forEach(function(g){g.length>0&&(v+=g+",")}),l+=""+f+m+'{content:"'+v+`"}/*!sc*/
`}}}return l}(this)},e}(),OC=/(a)(d)/gi,gv=function(e){return String.fromCharCode(e+(e>25?39:97))},pa=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},vv=function(e){return pa(5381,e)},TC=vv("5.3.11"),zC=function(){function e(t,n,o){this.rules=t,this.staticRulesId="",this.isStatic=(o===void 0||o.isStatic)&&lC(t),this.componentId=n,this.baseHash=pa(TC,n),this.baseStyle=o,Tl.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,o){var a=this.componentId,l=[];if(this.baseStyle&&l.push(this.baseStyle.generateAndInjectStyles(t,n,o)),this.isStatic&&!o.hash)if(this.staticRulesId&&n.hasNameForId(a,this.staticRulesId))l.push(this.staticRulesId);else{var s=fa(this.rules,t,n,o).join(""),u=uv(pa(this.baseHash,s)>>>0);if(!n.hasNameForId(a,u)){var d=o(s,"."+u,void 0,a);n.insertRules(a,u,d)}l.push(u),this.staticRulesId=u}else{for(var f=this.rules.length,m=pa(this.baseHash,o.hash),v="",g=0;g<f;g++){var h=this.rules[g];if(typeof h=="string")v+=h;else if(h){var b=fa(h,t,n,o),y=Array.isArray(b)?b.join(""):b;m=pa(m,y+g),v+=y}}if(v){var k=uv(m>>>0);if(!n.hasNameForId(a,k)){var x=o(v,"."+k,void 0,a);n.insertRules(a,k,x)}l.push(k)}}return l.join(" ")},e}(),DC=/^\s*\/\/.*$/gm,AC=[":","[",".","#"],If=jt.default.createContext(),If.Consumer,jf=jt.default.createContext(),BC=(jf.Consumer,new Tl),Of=sC(),MC=function(){function e(t,n){var o=this;this.inject=function(a,l){l===void 0&&(l=Of);var s=o.name+l.hash;a.hasNameForId(o.id,s)||a.insertRules(o.id,s,l(o.rules,s,"@keyframes"))},this.toString=function(){return Eo(12,String(o.name))},this.name=t,this.id="sc-keyframes-"+t,this.rules=n}return e.prototype.getName=function(t){return t===void 0&&(t=Of),this.name+t.hash},e}(),NC=/([A-Z])/,FC=/([A-Z])/g,RC=/^ms-/,UC=function(e){return"-"+e.toLowerCase()},yv=function(e){return e==null||e===!1||e===""},bv=function(e){return Array.isArray(e)&&(e.isCss=!0),e},kv=function(e,t,n){return n===void 0&&(n=_o),e.theme!==n.theme&&e.theme||t||n.theme},VC=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,KC=/(^-|-$)/g,wv=function(e){return uv(vv(e)>>>0)},Tf=function(e){return typeof e=="function"||typeof e=="object"&&e!==null&&!Array.isArray(e)},WC=function(e){return e!=="__proto__"&&e!=="constructor"&&e!=="prototype"},zf=jt.default.createContext(),zf.Consumer,Df={},Af=function(e){return function t(n,o,a){if(a===void 0&&(a=_o),!(0,fv.isValidElementType)(o))return Eo(1,String(o));var l=function(){return n(o,a,Fn.apply(void 0,arguments))};return l.withConfig=function(s){return t(n,o,yr({},a,{},s))},l.attrs=function(s){return t(n,o,yr({},a,{attrs:Array.prototype.concat(a.attrs,s).filter(Boolean)}))},l}(pC,e)},["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(e){Af[e]=Af(e)}),HC=function(){function e(n,o){this.rules=n,this.componentId=o,this.isStatic=lC(n),Tl.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(n,o,a,l){var s=l(fa(this.rules,o,a,l).join(""),""),u=this.componentId+n;a.insertRules(u,u,s)},t.removeStyles=function(n,o){o.clearRules(this.componentId+n)},t.renderStyles=function(n,o,a,l){n>2&&Tl.registerId(this.componentId+n),this.removeStyles(n,a),this.createStyles(n,o,a,l)},e}(),function(){function e(){var n=this;this._emitSheetCSS=function(){var o=n.instance.toString();if(!o)return"";var a=Cf();return"<style "+[a&&'nonce="'+a+'"',Po+'="true"','data-styled-version="5.3.11"'].filter(Boolean).join(" ")+">"+o+"</style>"},this.getStyleTags=function(){return n.sealed?Eo(2):n._emitSheetCSS()},this.getStyleElement=function(){var o;if(n.sealed)return Eo(2);var a=((o={})[Po]="",o["data-styled-version"]="5.3.11",o.dangerouslySetInnerHTML={__html:n.instance.toString()},o),l=Cf();return l&&(a.nonce=l),[jt.default.createElement("style",yr({},a,{key:"sc-0-0"}))]},this.seal=function(){n.sealed=!0},this.instance=new Tl({isServer:!0}),this.sealed=!1}var t=e.prototype;return t.collectStyles=function(n){return this.sealed?Eo(2):jt.default.createElement(cC,{sheet:this.instance},n)},t.interleaveWithNodeStream=function(n){return Eo(3)},e}(),U=Af});function ha(){return ha=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ha.apply(this,arguments)}var kG=P(()=>{});function wG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var xG=P(()=>{});function Eu(e,t){return Eu=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Eu(e,t)}var xv=P(()=>{});function SG(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Eu(e,t)}var EG=P(()=>{xv()});function Sv(e){return Sv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Sv(e)}var _G=P(()=>{});function PG(e){return Function.toString.call(e).indexOf("[native code]")!==-1}var CG=P(()=>{});function IG(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var jG=P(()=>{});function Bf(e,t,n){return IG()?Bf=Reflect.construct:Bf=function(o,a,l){var s=[null];s.push.apply(s,a);var u=Function.bind.apply(o,s),d=new u;return l&&Eu(d,l.prototype),d},Bf.apply(null,arguments)}var OG=P(()=>{xv(),jG()});function Ev(e){var t=typeof Map=="function"?new Map:void 0;return Ev=function(n){if(n===null||!PG(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(n))return t.get(n);t.set(n,o)}function o(){return Bf(n,arguments,Sv(this).constructor)}return o.prototype=Object.create(n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Eu(o,n)},Ev(e)}var TG=P(()=>{_G(),xv(),CG(),OG()}),zG=P(()=>{});function DG(e){return e.charAt(0).toUpperCase()+e.slice(1)}function AG(e,t){if(!e)return t.toLowerCase();var n=e.split("-");if(n.length>1)return n.splice(1,0,t),n.reduce(function(a,l){return""+a+DG(l)});var o=e.replace(/([a-z])([A-Z])/g,"$1"+t+"$2");return e===o?""+e+t:o}function BG(e,t){for(var n={},o=0;o<t.length;o+=1)(t[o]||t[o]===0)&&(n[AG(e,XC[o])]=t[o]);return n}function qC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var a=n[0],l=n[1],s=l===void 0?a:l,u=n[2],d=u===void 0?a:u,f=n[3],m=f===void 0?s:f,v=[a,s,d,m];return BG(e,v)}function _v(e){return Math.round(e*255)}function MG(e,t,n){return _v(e)+","+_v(t)+","+_v(n)}function _u(e,t,n,o){if(o===void 0&&(o=MG),t===0)return o(n,n,n);var a=(e%360+360)%360/60,l=(1-Math.abs(2*n-1))*t,s=l*(1-Math.abs(a%2-1)),u=0,d=0,f=0;a>=0&&a<1?(u=l,d=s):a>=1&&a<2?(u=s,d=l):a>=2&&a<3?(d=l,f=s):a>=3&&a<4?(d=s,f=l):a>=4&&a<5?(u=s,f=l):a>=5&&a<6&&(u=l,f=s);var m=n-l/2,v=u+m,g=d+m,h=f+m;return o(v,g,h)}function NG(e){if(typeof e!="string")return e;var t=e.toLowerCase();return zv[t]?"#"+zv[t]:e}function Pv(e){if(typeof e!="string")throw new br(3);var t=NG(e);if(t.match(ZC))return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16)};if(t.match(GC)){var n=parseFloat((parseInt(""+t[7]+t[8],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16),alpha:n}}if(t.match(YC))return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16)};if(t.match(QC)){var o=parseFloat((parseInt(""+t[4]+t[4],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16),alpha:o}}var a=Rf.exec(t);if(a)return{red:parseInt(""+a[1],10),green:parseInt(""+a[2],10),blue:parseInt(""+a[3],10)};var l=JC.exec(t.substring(0,50));if(l)return{red:parseInt(""+l[1],10),green:parseInt(""+l[2],10),blue:parseInt(""+l[3],10),alpha:parseFloat(""+l[4])};var s=eI.exec(t);if(s){var u=parseInt(""+s[1],10),d=parseInt(""+s[2],10)/100,f=parseInt(""+s[3],10)/100,m="rgb("+_u(u,d,f)+")",v=Rf.exec(m);if(!v)throw new br(4,t,m);return{red:parseInt(""+v[1],10),green:parseInt(""+v[2],10),blue:parseInt(""+v[3],10)}}var g=tI.exec(t.substring(0,50));if(g){var h=parseInt(""+g[1],10),b=parseInt(""+g[2],10)/100,y=parseInt(""+g[3],10)/100,k="rgb("+_u(h,b,y)+")",x=Rf.exec(k);if(!x)throw new br(4,t,k);return{red:parseInt(""+x[1],10),green:parseInt(""+x[2],10),blue:parseInt(""+x[3],10),alpha:parseFloat(""+g[4])}}throw new br(5)}function FG(e){var t=e.red/255,n=e.green/255,o=e.blue/255,a=Math.max(t,n,o),l=Math.min(t,n,o),s=(a+l)/2;if(a===l)return e.alpha!==void 0?{hue:0,saturation:0,lightness:s,alpha:e.alpha}:{hue:0,saturation:0,lightness:s};var u,d=a-l,f=s>.5?d/(2-a-l):d/(a+l);switch(a){case t:u=(n-o)/d+(n<o?6:0);break;case n:u=(o-t)/d+2;break;default:u=(t-n)/d+4;break}return u*=60,e.alpha!==void 0?{hue:u,saturation:f,lightness:s,alpha:e.alpha}:{hue:u,saturation:f,lightness:s}}function Cv(e){return FG(Pv(e))}function ma(e){var t=e.toString(16);return t.length===1?"0"+t:t}function Iv(e){return ma(Math.round(e*255))}function RG(e,t,n){return Uf("#"+Iv(e)+Iv(t)+Iv(n))}function Mf(e,t,n){return _u(e,t,n,RG)}function UG(e,t,n){if(typeof e=="number"&&typeof t=="number"&&typeof n=="number")return Mf(e,t,n);if(typeof e=="object"&&t===void 0&&n===void 0)return Mf(e.hue,e.saturation,e.lightness);throw new br(1)}function VG(e,t,n,o){if(typeof e=="number"&&typeof t=="number"&&typeof n=="number"&&typeof o=="number")return o>=1?Mf(e,t,n):"rgba("+_u(e,t,n)+","+o+")";if(typeof e=="object"&&t===void 0&&n===void 0&&o===void 0)return e.alpha>=1?Mf(e.hue,e.saturation,e.lightness):"rgba("+_u(e.hue,e.saturation,e.lightness)+","+e.alpha+")";throw new br(2)}function jv(e,t,n){if(typeof e=="number"&&typeof t=="number"&&typeof n=="number")return Uf("#"+ma(e)+ma(t)+ma(n));if(typeof e=="object"&&t===void 0&&n===void 0)return Uf("#"+ma(e.red)+ma(e.green)+ma(e.blue));throw new br(6)}function $C(e,t,n,o){if(typeof e=="string"&&typeof t=="number"){var a=Pv(e);return"rgba("+a.red+","+a.green+","+a.blue+","+t+")"}else{if(typeof e=="number"&&typeof t=="number"&&typeof n=="number"&&typeof o=="number")return o>=1?jv(e,t,n):"rgba("+e+","+t+","+n+","+o+")";if(typeof e=="object"&&t===void 0&&n===void 0&&o===void 0)return e.alpha>=1?jv(e.red,e.green,e.blue):"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")"}throw new br(7)}function Ov(e){if(typeof e!="object")throw new br(8);if(rI(e))return $C(e);if(nI(e))return jv(e);if(iI(e))return VG(e);if(oI(e))return UG(e);throw new br(8)}function LC(e,t,n){return function(){var o=n.concat(Array.prototype.slice.call(arguments));return o.length>=t?e.apply(this,o):LC(e,t,o)}}function Nf(e){return LC(e,e.length,[])}function Ff(e,t,n){return Math.max(e,Math.min(t,n))}function KG(e,t){if(t==="transparent")return t;var n=Cv(t);return Ov(ha({},n,{lightness:Ff(0,1,n.lightness-parseFloat(e))}))}function WG(e,t){if(t==="transparent")return t;var n=Cv(t);return Ov(ha({},n,{lightness:Ff(0,1,n.lightness+parseFloat(e))}))}function HG(e,t){if(t==="transparent")return t;var n=Cv(t);return Ov(ha({},n,{saturation:Ff(0,1,n.saturation+parseFloat(e))}))}function qG(e,t){if(t==="transparent")return t;var n=Pv(t),o=typeof n.alpha=="number"?n.alpha:1,a=ha({},n,{alpha:Ff(0,1,+(o*100-parseFloat(e)*100).toFixed(2)/100)});return $C(a)}function Tv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return aI.indexOf(e)>=0&&e?ha({},qC.apply(void 0,[""].concat(n)),{position:e}):qC.apply(void 0,["",e].concat(n))}var br,XC,zv,ZC,GC,YC,QC,Rf,JC,eI,tI,Uf,nI,rI,oI,iI,Pu,zl,Vf,kr,aI,Rn=P(()=>{kG(),xG(),EG(),TG(),zG(),br=function(e){SG(t,e);function t(n){var o;return o=e.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#"+n+" for more information.")||this,wG(o)}return t}(Ev(Error)),XC=["Top","Right","Bottom","Left"],zv={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},ZC=/^#[a-fA-F0-9]{6}$/,GC=/^#[a-fA-F0-9]{8}$/,YC=/^#[a-fA-F0-9]{3}$/,QC=/^#[a-fA-F0-9]{4}$/,Rf=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i,JC=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i,eI=/^hsl\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,tI=/^hsla\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i,Uf=function(e){return e.length===7&&e[1]===e[2]&&e[3]===e[4]&&e[5]===e[6]?"#"+e[1]+e[3]+e[5]:e},nI=function(e){return typeof e.red=="number"&&typeof e.green=="number"&&typeof e.blue=="number"&&(typeof e.alpha!="number"||typeof e.alpha>"u")},rI=function(e){return typeof e.red=="number"&&typeof e.green=="number"&&typeof e.blue=="number"&&typeof e.alpha=="number"},oI=function(e){return typeof e.hue=="number"&&typeof e.saturation=="number"&&typeof e.lightness=="number"&&(typeof e.alpha!="number"||typeof e.alpha>"u")},iI=function(e){return typeof e.hue=="number"&&typeof e.saturation=="number"&&typeof e.lightness=="number"&&typeof e.alpha=="number"},Pu=Nf(KG),zl=Nf(WG),Vf=Nf(HG),kr=Nf(qG),aI=["absolute","fixed","relative","static","sticky"]});function $G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,o)}return n}function ga(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lI(Object(n),!0).forEach(function(o){$G(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lI(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function Dl(e,t){if(e==null)return{};var n={},o=Object.keys(e),a,l;for(l=0;l<o.length;l++)a=o[l],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}var Cu=P(()=>{}),sI,Dv,uI=P(()=>{sI=$(G()),Dv=(0,sI.createContext)({})});function LG(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,o)}return n}function Al(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cI(Object(n),!0).forEach(function(o){LG(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cI(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function Av(e,t){if(e==null)return{};var n={},o=Object.keys(e),a,l;for(l=0;l<o.length;l++)a=o[l],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function XG(e,t){if(e){if(typeof e=="string")return dI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dI(e,t)}}function dI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function fI(e,t){var n;if(typeof Symbol>"u"||e[Symbol.iterator]==null){if(Array.isArray(e)||(n=XG(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return n=e[Symbol.iterator](),n.next.bind(n)}var Kf=P(()=>{});function ZG(e){return typeof e=="function"}var Bv,pI,GG=P(()=>{Bv=$(G()),uI(),Kf(),pI=function(e,t,n){n===void 0&&(n=t.children);var o=(0,Bv.useContext)(Dv);if(o.useCreateElement)return o.useCreateElement(e,t,n);if(typeof e=="string"&&ZG(n)){t.children;var a=Av(t,["children"]);return n(a)}return(0,Bv.createElement)(e,t,n)}});function YG(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,o)}return n}function Bl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hI(Object(n),!0).forEach(function(o){YG(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hI(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function QG(e,t){if(e==null)return{};var n={},o=Object.keys(e),a,l;for(l=0;l<o.length;l++)a=o[l],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}var mI=P(()=>{});function JG(e){return typeof e=="object"&&e!=null}var eY=P(()=>{});function Mv(e){var t;if(!JG(e))return!1;var n=Object.getPrototypeOf(e);return n==null?!0:((t=n.constructor)===null||t===void 0?void 0:t.toString())===Object.toString()}var gI=P(()=>{eY()});function vI(e,t){for(var n=Object.keys(e),o={},a={},l=0,s=n;l<s.length;l++){var u=s[l];t.indexOf(u)>=0?o[u]=e[u]:a[u]=e[u]}return[o,a]}function yI(e,t){if(t===void 0&&(t=[]),!Mv(e.state))return vI(e,t);var n=vI(e,[].concat(t,["state"])),o=n[0],a=n[1],l=o.state,s=QG(o,["state"]);return[Bl(Bl({},l),s),a]}var tY=P(()=>{mI(),gI()});function Wf(e,t){if(e===t)return!0;if(!e||!t||typeof e!="object"||typeof t!="object")return!1;var n=Object.keys(e),o=Object.keys(t),a=n.length;if(o.length!==a)return!1;for(var l=0,s=n;l<s.length;l++){var u=s[l];if(e[u]!==t[u])return!1}return!0}var Nv=P(()=>{});function bI(e){return e.name==="normalizePropsAreEqualInner"?e:function(t,n){return!Mv(t.state)||!Mv(n.state)?e(t,n):e(Bl(Bl({},t.state),t),Bl(Bl({},n.state),n))}}var nY=P(()=>{mI(),gI()});function rY(e){return(0,Fv.forwardRef)(e)}function oY(e,t){return(0,Fv.memo)(e,t)}function Iu(e){var t=e.as,n=e.useHook,o=e.memo,a=e.propsAreEqual,l=a===void 0?n==null?void 0:n.unstable_propsAreEqual:a,s=e.keys,u=s===void 0?(n==null?void 0:n.__keys)||[]:s,d=e.useCreateElement,f=d===void 0?pI:d,m=function(v,g){var h=v.as,b=h===void 0?t:h,y=Av(v,["as"]);if(n){var k,x=yI(y,u),S=x[0],_=x[1],O=n(S,Al({ref:g},_)),j=O.wrapElement,z=Av(O,["wrapElement"]),K=((k=b.render)===null||k===void 0?void 0:k.__keys)||b.__keys,M=K&&yI(y,K)[0],N=M?Al(Al({},z),M):z,Z=f(b,N);return j?j(Z):Z}return f(b,Al({ref:g},y))};return m=rY(m),o&&(m=oY(m,l&&bI(l))),m.__keys=u,m.unstable_propsAreEqual=bI(l||Wf),m}var Fv,ju=P(()=>{Fv=$(G()),Kf(),GG(),tY(),Nv(),nY()});function kI(e,t){(0,Rv.useDebugValue)(e);var n=(0,Rv.useContext)(Dv);return n[e]!=null?n[e]:t}var Rv,wI=P(()=>{Rv=$(G()),uI()});function iY(e,t,n){t===void 0&&(t={}),n===void 0&&(n={});var o="use"+e+"Props";(0,xI.useDebugValue)(o);var a=kI(o);return a?a(t,n):n}var xI,aY=P(()=>{xI=$(G()),wI()});function lY(e,t,n){t===void 0&&(t={}),n===void 0&&(n={});var o="use"+e+"Options";(0,SI.useDebugValue)(o);var a=kI(o);return a?Al(Al({},t),a(t,n)):t}var SI,sY=P(()=>{SI=$(G()),wI(),Kf()});function uY(e){return Array.isArray(e)?e:typeof e<"u"?[e]:[]}var cY=P(()=>{});function Ou(e){var t,n,o=uY(e.compose),a=function(u,d){if(e.useOptions&&(u=e.useOptions(u,d)),e.name&&(u=lY(e.name,u,d)),e.compose)for(var f=fI(o),m;!(m=f()).done;){var v=m.value;u=v.__useOptions(u,d)}return u},l=function(u,d,f){if(u===void 0&&(u={}),d===void 0&&(d={}),f===void 0&&(f=!1),f||(u=a(u,d)),e.useProps&&(d=e.useProps(u,d)),e.name&&(d=iY(e.name,u,d)),e.compose)if(e.useComposeOptions&&(u=e.useComposeOptions(u,d)),e.useComposeProps)d=e.useComposeProps(u,d);else for(var m=fI(o),v;!(v=m()).done;){var g=v.value;d=g(u,d,!0)}var h={},b=d||{};for(var y in b)b[y]!==void 0&&(h[y]=b[y]);return h};l.__useOptions=a;var s=o.reduce(function(u,d){return u.push.apply(u,d.__keys||[]),u},[]);return l.__keys=[].concat(s,((t=e.useState)===null||t===void 0?void 0:t.__keys)||[],e.keys||[]),l.unstable_propsAreEqual=e.propsAreEqual||((n=o[0])===null||n===void 0?void 0:n.unstable_propsAreEqual)||Wf,l}var Tu=P(()=>{$(G()),aY(),Kf(),sY(),Nv(),cY()});function EI(e,t){t===void 0&&(t=null),e&&(typeof e=="function"?e(t):e.current=t)}function _I(e,t){return(0,PI.useMemo)(function(){return e==null&&t==null?null:function(n){EI(e,n),EI(t,n)}},[e,t])}var PI,CI=P(()=>{PI=$(G())});function Uv(e){if(e.tagName==="BUTTON")return!0;if(e.tagName==="INPUT"){var t=e;return II.indexOf(t.type)!==-1}return!1}var II,Vv=P(()=>{II=["button","color","file","image","reset","submit"]}),Kv=P(()=>{}),dY=P(()=>{Kv(),$(G())}),Hf=P(()=>{Kv(),$(G()),dY()});function jI(e){return e?e.ownerDocument||e:document}var OI=P(()=>{});function fY(e){return e&&jI(e).defaultView||TI}var TI,pY=P(()=>{OI();try{TI=window}catch{}});function hY(){var e=fY();return!!(typeof e<"u"&&e.document&&e.document.createElement)}var qf,Wv=P(()=>{pY(),qf=hY()}),Hv,qv,$v=P(()=>{Hv=$(G()),Wv(),qv=qf?Hv.useLayoutEffect:Hv.useEffect});function Ml(e){var t=(0,zI.useRef)(e);return qv(function(){t.current=e}),t}var zI,DI=P(()=>{zI=$(G()),$v()});function mY(e){return e.target===e.currentTarget}var gY=P(()=>{});function vY(e){var t=jI(e),n=t.activeElement;return n!=null&&n.nodeName?n:null}var yY=P(()=>{OI()});function AI(e,t){return e===t||e.contains(t)}var BI=P(()=>{});function bY(e){var t=vY(e);if(!t)return!1;if(AI(e,t))return!0;var n=t.getAttribute("aria-activedescendant");return n?n===e.id?!0:!!e.querySelector("#"+n):!1}var kY=P(()=>{yY(),BI()});function wY(e){return!AI(e.currentTarget,e.target)}var xY=P(()=>{BI()});function $f(e){return qf?window.navigator.userAgent.indexOf(e)!==-1:!1}var SY=P(()=>{Wv()});function EY(e,t){return"matches"in e?e.matches(t):"msMatchesSelector"in e?e.msMatchesSelector(t):e.webkitMatchesSelector(t)}var _Y=P(()=>{});function PY(e){var t=e;return t.offsetWidth>0||t.offsetHeight>0||e.getClientRects().length>0}function CY(e){return EY(e,MI)&&PY(e)}var MI,IY=P(()=>{_Y(),MI="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false'])"}),NI,Lf,FI=P(()=>{Cu(),ju(),Tu(),Nv(),NI=["unstable_system"],Lf=Ou({name:"Role",keys:NI,propsAreEqual:function(e,t){var n=e.unstable_system,o=Dl(e,["unstable_system"]),a=t.unstable_system,l=Dl(t,["unstable_system"]);return n!==a&&!Wf(n,a)?!1:Wf(o,l)}}),Iu({as:"div",useHook:Lf})});function RI(e){!bY(e)&&CY(e)&&e.focus()}function jY(e){return e.tagName==="BUTTON"||e.tagName==="INPUT"||e.tagName==="SELECT"||e.tagName==="TEXTAREA"||e.tagName==="A"}function OY(e){return e.tagName==="BUTTON"||e.tagName==="INPUT"||e.tagName==="SELECT"||e.tagName==="TEXTAREA"}function TY(e,t,n,o){return e?t&&!n?-1:void 0:t?o:o||0}function Lv(e,t){return(0,Nl.useCallback)(function(n){var o;(o=e.current)===null||o===void 0||o.call(e,n),!n.defaultPrevented&&t&&(n.stopPropagation(),n.preventDefault())},[e,t])}var Nl,UI,VI,Xv,zY=P(()=>{Cu(),ju(),Tu(),Nl=$(G()),CI(),Vv(),Hf(),DI(),$v(),kY(),xY(),SY(),IY(),FI(),UI=["disabled","focusable"],VI=$f("Mac")&&!$f("Chrome")&&($f("Safari")||$f("Firefox")),Xv=Ou({name:"Tabbable",compose:Lf,keys:UI,useOptions:function(e,t){var n=t.disabled;return ga({disabled:n},e)},useProps:function(e,t){var n=t.ref,o=t.tabIndex,a=t.onClickCapture,l=t.onMouseDownCapture,s=t.onMouseDown,u=t.onKeyPressCapture,d=t.style,f=Dl(t,["ref","tabIndex","onClickCapture","onMouseDownCapture","onMouseDown","onKeyPressCapture","style"]),m=(0,Nl.useRef)(null),v=Ml(a),g=Ml(l),h=Ml(s),b=Ml(u),y=!!e.disabled&&!e.focusable,k=(0,Nl.useState)(!0),x=k[0],S=k[1],_=(0,Nl.useState)(!0),O=_[0],j=_[1],z=e.disabled?ga({pointerEvents:"none"},d):d;qv(function(){var le=m.current;le&&(jY(le)||S(!1),OY(le)||j(!1))},[]);var K=Lv(v,e.disabled),M=Lv(g,e.disabled),N=Lv(b,e.disabled),Z=(0,Nl.useCallback)(function(le){var D;(D=h.current)===null||D===void 0||D.call(h,le);var X=le.currentTarget;if(!le.defaultPrevented&&VI&&!wY(le)&&Uv(X)){var C=requestAnimationFrame(function(){X.removeEventListener("mouseup",Q,!0),RI(X)}),Q=function(){cancelAnimationFrame(C),RI(X)};X.addEventListener("mouseup",Q,{once:!0,capture:!0})}},[]);return ga({ref:_I(m,n),style:z,tabIndex:TY(y,x,O,o),disabled:y&&O?!0:void 0,"aria-disabled":e.disabled?!0:void 0,onClickCapture:K,onMouseDownCapture:M,onMouseDown:Z,onKeyPressCapture:N},f)}}),Iu({as:"div",useHook:Xv})});function DY(e){var t=e.currentTarget;return e.isTrusted?Uv(t)||t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.tagName==="A"||t.tagName==="SELECT":!1}var Xf,KI,Zv,AY=P(()=>{Cu(),ju(),Tu(),Xf=$(G()),Vv(),Hf(),DI(),gY(),zY(),KI=["unstable_clickOnEnter","unstable_clickOnSpace"],Zv=Ou({name:"Clickable",compose:Xv,keys:KI,useOptions:function(e){var t=e.unstable_clickOnEnter,n=t===void 0?!0:t,o=e.unstable_clickOnSpace,a=o===void 0?!0:o,l=Dl(e,["unstable_clickOnEnter","unstable_clickOnSpace"]);return ga({unstable_clickOnEnter:n,unstable_clickOnSpace:a},l)},useProps:function(e,t){var n=t.onKeyDown,o=t.onKeyUp,a=Dl(t,["onKeyDown","onKeyUp"]),l=(0,Xf.useState)(!1),s=l[0],u=l[1],d=Ml(n),f=Ml(o),m=(0,Xf.useCallback)(function(g){var h;if((h=d.current)===null||h===void 0||h.call(d,g),!g.defaultPrevented&&!e.disabled&&!g.metaKey&&mY(g)){var b=e.unstable_clickOnEnter&&g.key==="Enter",y=e.unstable_clickOnSpace&&g.key===" ";if(b||y){if(DY(g))return;g.preventDefault(),b?g.currentTarget.click():y&&u(!0)}}},[e.disabled,e.unstable_clickOnEnter,e.unstable_clickOnSpace]),v=(0,Xf.useCallback)(function(g){var h;if((h=f.current)===null||h===void 0||h.call(f,g),!g.defaultPrevented&&!e.disabled&&!g.metaKey){var b=e.unstable_clickOnSpace&&g.key===" ";s&&b&&(u(!1),g.currentTarget.click())}},[e.disabled,e.unstable_clickOnSpace,s]);return ga({"data-active":s||void 0,onKeyDown:m,onKeyUp:v},a)}}),Iu({as:"button",memo:!0,useHook:Zv})}),zu,WI,HI,qI,BY=P(()=>{Cu(),ju(),Tu(),zu=$(G()),CI(),Vv(),Hf(),AY(),WI=[],HI=Ou({name:"Button",compose:Zv,keys:WI,useProps:function(e,t){var n=t.ref,o=Dl(t,["ref"]),a=(0,zu.useRef)(null),l=(0,zu.useState)(void 0),s=l[0],u=l[1],d=(0,zu.useState)("button"),f=d[0],m=d[1];return(0,zu.useEffect)(function(){var v=a.current;v&&(Uv(v)||(v.tagName!=="A"&&u("button"),m(void 0)))},[]),ga({ref:_I(a,n),role:s,type:f},o)}}),qI=Iu({as:"button",memo:!0,useHook:HI})}),$I,LI,XI,MY=P(()=>{Cu(),ju(),Tu(),FI(),$I=[],LI=Ou({name:"Group",compose:Lf,keys:$I,useProps:function(e,t){return ga({role:"group"},t)}}),XI=Iu({as:"div",useHook:LI})});function NY(){return qf?document.body:null}var ZI,Fl,FY=P(()=>{ZI=$(G()),$v(),Wv(),$(So()),Fl=(0,ZI.createContext)(NY())}),Gv,RY=P(()=>{typeof window<"u"&&(Gv={get passive(){}},window.addEventListener("testPassive",null,Gv),window.removeEventListener("testPassive",null,Gv))}),va=P(()=>{$(G()),Hf(),BY(),MY(),$(So()),FY(),RY(),Kv()});function Qe(e){let t=(0,Yv.useMemo)(()=>{let a=e;return{get current(){return a},set current(l){a=l,o(l)}}},[]),[n,o]=(0,Yv.useState)(()=>e);return[t,n]}var Yv,nt=P(()=>{Yv=$(G())});function UY(e){return t=>cn.default.createElement(t3,null,cn.default.createElement(e,L({},t)))}var cn,GI,YI,tt,Rl,QI,JI,e3,Qv,Jv,t3,rt=P(()=>{Rn(),be(),be(),cn=$(G()),GI=$(So()),va(),nt(),tt=Fn(YI||(YI=F([`
  #pointer-root & {
    pointer-events: none;
  }
  #pointer-root.normal & {
    pointer-events: auto;
  }
`]))),Rl={panel:{bg:"#282b2f",head:{title:{color:"#bbb"},punctuation:{color:"#808080"}},body:{compoudThing:{label:{get color(){return zl(.6,Rl.panel.bg)}}}}}},JI=typeof window<"u"?hC(QI||(QI=F([`
  :host {
    all: initial;
    color: white;
    font: 11px -apple-system, BlinkMacSystemFont, Segoe WPC, Segoe Editor,
      HelveticaNeue-Light, Ubuntu, Droid Sans, sans-serif;
  }

  * {
    padding: 0;
    margin: 0;
    font-size: 100%;
    font: inherit;
    vertical-align: baseline;
    list-style: none;
  }
`]))):{},Qv=U.div(e3||(e3=F([`
  z-index: 51;
  position: fixed;
  top: 0px;
  right: 0px;
  bottom: 0px;
  left: 0px;
  pointer-events: none;
`]))),Jv=e=>cn.default.createElement(cC,{disableVendorPrefixes:!0,target:e.target},cn.default.createElement(cn.default.Fragment,null,cn.default.createElement(JI,null),e.children)),t3=e=>{let[t,n]=(0,cn.useState)(null),[o,a]=(0,cn.useState)(null);(0,cn.useLayoutEffect)(()=>{if(!t)return;let{parentNode:u}=t;if(!u)return;let d=u.shadowRoot?parent.shadowRoot:u.attachShadow({mode:"open"});a(d)},[t]);let[l,s]=Qe(void 0);return o?GI.default.createPortal(cn.default.createElement(Jv,{target:o},cn.default.createElement(cn.default.Fragment,null,cn.default.createElement(Qv,{ref:l}),cn.default.createElement(Fl.Provider,{value:s},e.children))),o):cn.default.createElement("template",{ref:n,"shadow-root":"open"},e.children)}}),Ul,n3,r3,ui,o3,Du,i3,a3,Zf,l3,ey,qr,Co=P(()=>{rt(),be(),Ul={get outlinePanel(){return 1},get propsPanel(){return Ul.outlinePanel},get sequenceEditorPanel(){return this.outlinePanel-1},get toolbar(){return this.outlinePanel+1},get pluginPanes(){return this.sequenceEditorPanel-1}},n3=Rl.panel.bg,ui=U.span(r3||(r3=F([`
  white-space: nowrap;
`]))),Du=U.span(o3||(o3=F([`
  white-space: nowrap;
  color: `,`;
`])),Rl.panel.head.punctuation.color),a3=U.div(i3||(i3=F([`
  background: `,`;
  flex-grow: 1;
  overflow-y: scroll;
  padding: 0;
`])),n3),Zf=18,ey=U.div(l3||(l3=F([`
  height: `,`px;
  box-sizing: border-box;
  display: flex;
  align-items: center;
  padding: 0 10px;
  position: relative;
  color: #adadadb3;
  border-bottom: 1px solid rgb(0 0 0 / 13%);
  background-color: #25272b;
  font-size: 10px;
  font-weight: 500;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
`])),Zf),qr=100}),s3,wr,Vl=P(()=>{s3=()=>{},wr=s3});function VY(e){return ty.createElement("svg",L({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),ty.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.775 2.781a.5.5 0 01.5.5v1.7H4.67c.108-.957.92-1.7 1.905-1.7h6.608a1.917 1.917 0 110 3.834H6.574c-.78 0-1.452-.466-1.751-1.135H2.275v5.03h2.39a2.032 2.032 0 012.023-1.854h6.38a2.031 2.031 0 110 4.063h-6.38c-.83 0-1.543-.497-1.858-1.21H1.775a.5.5 0 01-.5-.5V3.281a.5.5 0 01.5-.5zm4.799 1.5h6.608a.917.917 0 110 1.834H6.574a.917.917 0 110-1.834zm.114 5.875h6.38a1.031 1.031 0 110 2.063h-6.38a1.032 1.032 0 110-2.063z",fill:"currentColor"}))}var ty,ny,KY=P(()=>{ty=$(G()),ny=VY});function WY(e){return ry.createElement("svg",L({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),ry.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 10.5L4 6.654 5.2 5.5 8 8.385 10.8 5.5 12 6.654 8 10.5z",fill:"currentColor"}))}var ry,u3,HY=P(()=>{ry=$(G()),u3=WY});function qY(e){return oy.createElement("svg",L({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),oy.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.5 3c-1.072 0-1.969.904-1.969 1.969 0 1 .929 1.968 1.969 1.968h9A1.969 1.969 0 1012.5 3h-9zm9 1H5.531v1.938H12.5A.969.969 0 0012.5 4zM3.5 9.14a1.969 1.969 0 000 3.938h9a1.969 1.969 0 100-3.937h-9zm9 1H8.406v1.938H12.5a.969.969 0 100-1.937z",fill:"currentColor"}))}var oy,c3,$Y=P(()=>{oy=$(G()),c3=qY});function LY(e){return iy.createElement("svg",L({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),iy.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M.166 7.994a2.26 2.26 0 114.518 0 2.26 2.26 0 01-4.518 0zM2.425 6.91a1.085 1.085 0 100 2.17 1.085 1.085 0 000-2.17zM5.74 7.994a2.26 2.26 0 114.519 0 2.26 2.26 0 01-4.519 0zM8 6.91a1.085 1.085 0 100 2.17 1.085 1.085 0 000-2.17zM13.575 5.735a2.26 2.26 0 100 4.519 2.26 2.26 0 000-4.52zm-1.086 2.26a1.085 1.085 0 112.171 0 1.085 1.085 0 01-2.17 0z",fill:"currentColor"}))}var iy,d3,XY=P(()=>{iy=$(G()),d3=LY});function ZY(e){return ay.createElement("svg",L({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),ay.createElement("path",{d:"M8.339 4.5l-2.055.644 4.451 1.393v2.748l-2.966.928-2.504-.783V6.738l2.42.758 2.055-.644-4.458-1.395L4 5.858v4.463L7.768 11.5 12 10.175V5.646L8.339 4.5z",fill:"currentColor"}))}var ay,ly,GY=P(()=>{ay=$(G()),ly=ZY});function YY(e){return sy.createElement("svg",L({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),sy.createElement("path",{d:"M8 1.57c-.416 0-.752.36-.752.804v.482c-1.715.372-3.006 1.994-3.006 3.938v.473c0 1.18-.407 2.32-1.14 3.205l-.173.208a.85.85 0 00-.125.864.75.75 0 00.686.475h9.019a.752.752 0 00.686-.475.845.845 0 00-.125-.864l-.174-.208a5.026 5.026 0 01-1.139-3.205v-.473c0-1.944-1.291-3.566-3.006-3.938v-.482c0-.445-.336-.804-.752-.804zm1.063 12.39c.282-.301.44-.71.44-1.138H6.496c0 .428.158.837.44 1.138.281.302.664.47 1.063.47.4 0 .783-.168 1.064-.47z",fill:"currentColor"}))}var sy,Gf,QY=P(()=>{sy=$(G()),Gf=YY});function JY(e){return uy.createElement("svg",L({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),uy.createElement("path",{d:"M6.8 11.6a.6.6 0 00.6-.6V7.4a.6.6 0 00-1.2 0V11a.6.6 0 00.6.6zm6-7.2h-2.4v-.6A1.8 1.8 0 008.6 2H7.4a1.8 1.8 0 00-1.8 1.8v.6H3.2a.6.6 0 100 1.2h.6v6.6A1.8 1.8 0 005.6 14h4.8a1.8 1.8 0 001.8-1.8V5.6h.6a.6.6 0 100-1.2zm-6-.6a.6.6 0 01.6-.6h1.2a.6.6 0 01.6.6v.6H6.8v-.6zm4.2 8.4a.6.6 0 01-.6.6H5.6a.6.6 0 01-.6-.6V5.6h6v6.6zm-1.8-.6a.6.6 0 00.6-.6V7.4a.6.6 0 00-1.2 0V11a.6.6 0 00.6.6z",fill:"currentColor"}))}var uy,cy,eQ=P(()=>{uy=$(G()),cy=JY}),Au=P(()=>{KY(),HY(),$Y(),XY(),GY(),QY(),eQ()}),$r,f3,Yf,p3,h3,m3,g3,v3,y3,b3,k3,w3,x3,S3,E3,_3,P3,C3,Bu,Qf=P(()=>{$r=$(G()),be(),Vl(),rt(),Au(),Yf=U.li(f3||(f3=F([`
  margin: 0;
  padding: 0;
  list-style: none;
  display: flex;
  justify-content: flex-start;
  flex-direction: column;
  align-items: flex-start;
`]))),h3=U.div(p3||(p3=F([""]))),g3=U(h3)(m3||(m3=F([`
  position: relative;
  margin-top: 2px;
  margin-bottom: 2px;
  margin-left: calc(4px + var(--depth) * 16px);
  padding-left: 4px;
  padding-right: 8px;
  gap: 4px;
  height: 21px;
  line-height: 0;
  box-sizing: border-box;
  display: flex;
  flex-wrap: nowrap;
  align-items: center;
  pointer-events: none;
  white-space: nowrap;

  border-radius: 2px;
  box-shadow: 0 3px 4px -1px rgba(0, 0, 0, 0.48);

  color: rgba(255, 255, 255, 0.9);
  background: rgba(40, 43, 47, 0.65);
  backdrop-filter: blur(14px);
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);

  &.descendant-is-selected {
    background: rgba(29, 53, 59, 0.7);
  }

  `,`;
  &:not(.not-selectable):not(.selected):hover {
    background: rgba(59, 63, 69, 0.9);

    border-bottom: 1px solid rgba(255, 255, 255, 0.24);
  }

  &:not(.not-selectable):not(.selected):active {
    background: rgba(82, 88, 96, 0.9);
    border-bottom: 1px solid rgba(255, 255, 255, 0.24);
  }

  &.selected {
    background: rgba(30, 88, 102, 0.7);
    border-bottom: 1px solid rgba(255, 255, 255, 0.08);
  }

  @supports not (backdrop-filter: blur()) {
    background: rgba(40, 43, 47, 0.95);
  }
`])),tt),y3=Fn(v3||(v3=F([`
  font-weight: 500;
  font-size: 11px;
  & {
  }
`]))),k3=U.span(b3||(b3=F([`
  `,`;

  `,`;
  position: relative;
  // Compensate for border bottom
  top: 0.5px;
  display: flex;
  height: 20px;
  align-items: center;
  box-sizing: border-box;
`])),y3,tt),x3=U.div(w3||(w3=F([`
  font-weight: 500;
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
  opacity: 0.99;
`]))),E3=U.span(S3||(S3=F([`
  font-size: 9px;
  position: relative;
  display: block;
  transition: transform 0.1s ease-out;

  &:hover {
    transform: rotate(-20deg);
  }

  `,`.collapsed & {
    transform: rotate(-90deg);

    &:hover {
      transform: rotate(-70deg);
    }
  }
`])),Yf),P3=U.ul(_3||(_3=F([`
  margin: 0;
  padding: 0;
  list-style: none;

  `,`.collapsed & {
    display: none;
  }
`])),Yf),C3=({label:e,children:t,depth:n,select:o,selectionStatus:a,labelDecoration:l,collapsed:s=!1,setIsCollapsed:u})=>{let d=t!==void 0;return $r.default.createElement(Yf,{style:{"--depth":n},className:s?"collapsed":""},$r.default.createElement(g3,{className:a,onClick:o??wr,"data-header":!0},$r.default.createElement(x3,null,d?$r.default.createElement(E3,{onClick:f=>{f.stopPropagation(),f.preventDefault(),u==null||u(!s)}},$r.default.createElement(u3,null)):$r.default.createElement(ly,null)),$r.default.createElement(k3,null,$r.default.createElement("span",null,e)),l),d&&$r.default.createElement(P3,null,t))},Bu=C3});function tQ(e){return Object.keys(e)}function nQ(e){return Object.keys((0,Lr.val)(e.sheetTemplatesP))}function rQ(){let e=li(ci().filter(t=>Ud(t)||pr(t)).map(t=>pr(t)?t.sheet:t))[0];if(e)return e.getSequence()}var Lr,ci,I3,di=P(()=>{Lr=je,ra(),Rt(),Me(),ci=()=>{var e;let t=(0,Lr.val)(de().projectsP),n=((e=(0,Lr.val)(de().atomP.historic.panels.outlinePanel.selection))!=null?e:[]).map(o=>{let a=t[o.projectId];if(!a)return;if(o.type==="Project")return a;if(!(0,Lr.val)(a.sheetTemplatesP[o.sheetId]))return;let l=I3(a,o.sheetId);if(!l)return;if(o.type==="Sheet")return l;let s=(0,Lr.val)(l.objectsP[o.objectKey]);if(s)return s});return li(n.filter(o=>typeof o<"u"))},I3=(e,t)=>{let n=de().atomP.historic.projects.stateByProjectId[e.address.projectId],o=(0,Lr.val)(n.stateBySheetId[t].selectedInstanceId),a=(0,Lr.val)(e.sheetTemplatesP[t]);if(a){if(o)return(0,Lr.val)(a.instancesP[o]);{let l=(0,Lr.val)(a.instancesP);return l[tQ(l)[0]]}}}}),j3,O3,oQ=P(()=>{Me(),j3=$(G()),Qf(),Fe(),di(),O3=({sheetObject:e,depth:t,overrideLabel:n})=>{let o=()=>{de().transaction(({stateEditors:l})=>{l.studio.historic.panels.outline.selection.set([e])})},a=Ge(()=>ci(),[]);return j3.default.createElement(Bu,{select:o,label:n??e.address.objectKey,depth:t,selectionStatus:a.includes(e)?"selected":"not-selected"})}});function dy(e){var t;let n=e.type==="namespace"?"namespace:".concat(e.sheet.address.sheetId,":").concat(e.path.join("/")):e.type==="Theatre_Project"?"project":e.type==="Theatre_Sheet"?"sheetInstance:".concat(e.address.sheetId,":").concat(e.address.sheetInstanceId):"unknown",o=e.type==="namespace"?e.sheet.address.projectId:e.address.projectId,a=(t=Ye(de().atomP.ahistoric.projects.stateByProjectId[o].collapsedItemsInOutline[n]))!=null?t:!1,l=(0,T3.useCallback)(s=>{de().transaction(({stateEditors:u})=>{u.studio.ahistoric.projects.stateByProjectId.collapsedItemsInOutline.set({projectId:o,isCollapsed:s,itemKey:n})})},[n]);return{collapsed:a,setCollapsed:l}}var T3,fy=P(()=>{T3=$(G()),Me(),Fe()});function z3(e){return Xr.default.createElement(Xr.default.Fragment,null,[...e.namespace.entries()].map(([t,{object:n,nested:o}])=>Xr.default.createElement(iQ,{key:t,label:t,object:n,nested:o,visualIndentation:e.visualIndentation,path:e.path,sheet:e.sheet})))}function iQ(e){let{nested:t,label:n,object:o,sheet:a}=e,{collapsed:l,setCollapsed:s}=dy({type:"namespace",sheet:a,path:[...e.path,n]}),u=t&&Xr.default.createElement(z3,{namespace:t,path:[...e.path,n],key:"namespaceTree("+n+")",visualIndentation:e.visualIndentation+1,sheet:a}),d=o&&Xr.default.createElement(O3,{depth:e.visualIndentation,key:"objectPath("+o.address.objectKey+")",sheetObject:o,overrideLabel:n});return Xr.default.createElement(Xr.default.Fragment,{key:"".concat(n," - ").concat(e.visualIndentation)},d,u&&Xr.default.createElement(Bu,{selectionStatus:"not-selectable",label:n,key:"baseItem(".concat(n,")"),depth:e.visualIndentation,children:u,collapsed:l,setIsCollapsed:s}))}function D3(e,t,n=aQ(t)){let[o,...a]=n,l=e.get(o);l||(l={nested:void 0,object:void 0,path:[...n]},e.set(o,l)),a.length===0?(console.assert(!l.object,"expect not to have existing object with same name",{existing:l,object:t}),l.object=t):(l.nested||(l.nested=new Map),D3(l.nested,t,a))}function aQ(e){let t=py.get(e);return t||(t=e.address.objectKey.split(F3),console.assert(t.length>0,"expected not empty"),py.set(e,t)),t}var A3,Xr,B3,M3,N3,F3,py,lQ=P(()=>{Fe(),A3=je,Xr=$(G()),be(),oQ(),Qf(),fy(),U.li(B3||(B3=F([`
  color: `,`;
`])),e=>e.isSelected?"white":"hsl(1, 1%, 80%)"),M3=({sheet:e,depth:t})=>Ge(()=>{let n=(0,A3.val)(e.objectsP),o=Object.values(n).filter(l=>l!=null),a=new Map;return o.forEach(l=>{D3(a,l)}),Xr.default.createElement(z3,{namespace:a,visualIndentation:t,path:[],sheet:e})},[e,t]),N3=M3,F3=/\s*\/\s*/g,py=new WeakMap}),Kl,R3,U3,V3,K3,W3,H3,sQ=P(()=>{Me(),di(),Fe(),Kl=$(G()),be(),lQ(),Qf(),fy(),U3=U.div(R3||(R3=F([`
  display: flex;
`]))),U.li(V3||(V3=F([`
  color: `,`;
`])),e=>e.isSelected?"white":"hsl(1, 1%, 80%)"),W3=U.div(K3||(K3=F([""]))),H3=({sheet:e,depth:t})=>{let{collapsed:n,setCollapsed:o}=dy(e),a=(0,Kl.useCallback)(()=>{de().transaction(({stateEditors:l})=>{l.studio.historic.panels.outline.selection.set([e])})},[e]);return Ge(()=>{let l=ci();return Kl.default.createElement(Bu,{depth:t,select:a,setIsCollapsed:o,collapsed:n,selectionStatus:l.some(s=>s===e)?"selected":l.some(s=>s.type==="Theatre_SheetObject"&&s.sheet===e)?"descendant-is-selected":"not-selected",label:Kl.default.createElement(U3,null,e.address.sheetId,": ",e.address.sheetInstanceId)},Kl.default.createElement(W3,null,Kl.default.createElement(N3,{depth:t+1,sheet:e,key:"objectList"+e.address.sheetInstanceId})))},[t,n])}}),hy,Wl,q3,$3,L3,X3,uQ=P(()=>{Fe(),hy=je,Wl=$(G()),be(),sQ(),U.div(q3||(q3=F([`
  display: flex;
`]))),U.li($3||($3=F([`
  color: `,`;
`])),e=>e.isSelected?"white":"hsl(1, 1%, 80%)"),U.div(L3||(L3=F([""]))),X3=({sheetId:e,depth:t,project:n})=>Ge(()=>{let o=(0,hy.val)(n.sheetTemplatesP[e]);if(!o)return Wl.default.createElement(Wl.default.Fragment,null);let a=(0,hy.val)(o.instancesP);return Wl.default.createElement(Wl.default.Fragment,null,Object.entries(a).map(([l,s])=>Wl.default.createElement(H3,{key:s.address.sheetInstanceId,sheet:s,depth:t})))},[t,e,n])}),Jf,Z3,G3,cQ=P(()=>{di(),Fe(),Jf=$(G()),uQ(),Z3=({project:e,depth:t})=>Ge(()=>{if(!e)return null;let n=nQ(e);return Jf.default.createElement(Jf.default.Fragment,null,n.map(o=>Jf.default.createElement(X3,{depth:t,sheetId:o,key:"sheet-".concat(o),project:e})))},[e,t]),G3=Z3}),Mu,Y3,Q3,J3,ej,tj,dQ=P(()=>{Mu=$(G()),Qf(),cQ(),Me(),Fe(),di(),Y3=je,be(),fy(),J3=U.div(Q3||(Q3=F([`
  color: #ff6363;
  margin-left: 11px;
  background: #4c282d;
  padding: 2px 8px;
  border-radius: 2px;
  font-size: 10px;
  box-shadow: 0 2px 8px -4px black;
`]))),ej=({depth:e,project:t})=>{let n=Ge(()=>ci(),[]),o=Ge(()=>{let u=t.address.projectId,d=(0,Y3.val)(de().atomP.ephemeral.coreByProject[u].loadingState);return(d==null?void 0:d.type)==="browserStateIsNotBasedOnDiskState"},[t]),a=(0,Mu.useCallback)(()=>{de().transaction(({stateEditors:u})=>{u.studio.historic.panels.outline.selection.set([t])})},[t]),{collapsed:l,setCollapsed:s}=dy(t);return Mu.default.createElement(Bu,{depth:e,label:t.address.projectId,setIsCollapsed:s,collapsed:l,labelDecoration:o?Mu.default.createElement(J3,null,"Has Conflicts"):null,children:Mu.default.createElement(G3,{project:t,depth:e+1}),selectionStatus:n.includes(t)?"selected":n.some(u=>u.address.projectId===t.address.projectId)?"descendant-is-selected":"not-selected",select:a})},tj=ej}),nj,my,rj,oj,ij,aj,fQ=P(()=>{nj=je,Fe(),Me(),my=$(G()),be(),dQ(),oj=U.ul(rj||(rj=F([`
  list-style: none;
  margin: 0;
  padding: 0;
  padding-right: 4px;
`]))),ij=e=>Ge(()=>{let t=(0,nj.val)(de().projectsP);return my.default.createElement(oj,null,Object.keys(t).map(n=>{let o=t[n];return my.default.createElement(tj,{depth:0,project:o,key:"projectListItem-".concat(n)})}))},[]),aj=ij});function lj(e){let[t,n]=(0,gy.useState)(!1);return(0,gy.useEffect)(()=>{let o=l=>{let s=t?200:50,u=56,d=e==="left"?l.x<s:l.x>window.innerWidth-s;d&&(d=l.y>u),n(!!d)};document.addEventListener("mousemove",o);let a=()=>{n(!1)};return document.addEventListener("mouseleave",a),()=>{document.removeEventListener("mousemove",o),document.removeEventListener("mouseleave",a)}},[t]),t}var gy,sj=P(()=>{gy=$(G())}),Nu,Hl,vy,uj,cj,dj,fj,ep,Fu,pj,pQ=P(()=>{Nu=$(G()),be(),Co(),fQ(),Fe(),Me(),sj(),Hl=je,rt(),vy="44px",cj=U.div(uj||(uj=F([`
  `,`;
  background-color: transparent;
  position: absolute;
  left: 8px;
  z-index: `,`;

  top: calc(`,` + 8px);
  height: fit-content;
  max-height: calc(100% - `,`);
  overflow-y: scroll;
  overflow-x: hidden;
  padding: 0;
  user-select: none;

  &::-webkit-scrollbar {
    display: none;
  }

  scrollbar-width: none;

  display: `,`;

  &:hover {
    display: block;
  }

  // Create a small buffer on the bottom to aid selecting the bottom item in a long, scrolling list
  &::after {
    content: '';
    display: block;
    height: 20px;
  }
`])),tt,Ul.outlinePanel,vy,vy,({pin:e})=>e?"block":"none"),dj=()=>{var e;let t=(e=Ye(de().atomP.ahistoric.pinOutline))!=null?e:!0,n=Ye(pj),o=lj("left");return(0,Nu.useLayoutEffect)(()=>{ep.set(o)},[o]),(0,Nu.useEffect)(()=>()=>{Fu.set(!1),ep.set(!1)},[]),Nu.default.createElement(cj,{pin:t||n,onMouseEnter:()=>{Fu.set(!0)},onMouseLeave:()=>{Fu.set(!1)}},Nu.default.createElement(aj,null))},fj=dj,ep=new Hl.Atom(!1),Fu=new Hl.Atom(!1),pj=(0,Hl.prism)(()=>{let e=(0,Hl.val)(Fu.prism),t=(0,Hl.val)(ep.prism);return e||t})}),hj,mj,gj,hQ=P(()=>{be(),mj=U.input.attrs({type:"checkbox"})(hj||(hj=F([`
  outline: none;
`]))),gj=mj});function mQ({propConfig:e,editingTools:t,value:n,autoFocus:o}){let a=(0,yy.useCallback)(l=>{t.permanentlySetValue(!!l.target.checked)},[e,t]);return yy.default.createElement(yj,{checked:n,onChange:a,autoFocus:o})}var yy,vj,yj,bj,gQ=P(()=>{yy=$(G()),be(),hQ(),yj=U(gj)(vj||(vj=F([`
  margin-left: 6px;

  :focus {
    outline: 1px solid #555;
  }
`]))),bj=mQ});function tp(e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var np=P(()=>{});function by(e,t,n){(0,kj.useEffect)(()=>{if(!e||n===!1)return;let o=Array.isArray(e)?e.filter(l=>l):[e],a=l=>{o.every(s=>!l.composedPath().includes(s))&&t(l)};return window.addEventListener("mousedown",a,{capture:!0,passive:!1}),()=>{window.removeEventListener("mousedown",a,{capture:!0,passive:!1})}},[e,n])}var kj,ky=P(()=>{kj=$(G())}),Io,wj,jo,xj,Sj,Ej,_j,wy,Pj,Yn,Cj,Un=P(()=>{Io=$(G()),be(),wj="pointer-root",jo="--lockedCursor",Sj=U.div(xj||(xj=F([`
  pointer-events: auto;
  &.normal {
    pointer-events: none;
  }
`]))),_j=U.div(Ej||(Ej=F([`
  position: absolute;
  inset: 0;
  pointer-events: none;

  #pointer-root:not(.normal) > & {
    pointer-events: auto;
  }
`]))),wy=(0,Io.createContext)({}),Pj=e=>{var t,n,o,a;let[l,s]=(0,Io.useState)([]),u=(0,Io.useMemo)(()=>({getLock:(f,m)=>{let v={className:f,cursor:m};return s(g=>[...g,v]),()=>{s(g=>g.filter(h=>h!==v))}}}),[]),d=(n=(t=l[0])==null?void 0:t.cursor)!=null?n:"";return Io.default.createElement(wy.Provider,{value:u},Io.default.createElement(Sj,{id:wj,className:((a=(o=l[0])==null?void 0:o.className)!=null?a:"normal")+" "+e.className},Io.default.createElement(_j,{style:{cursor:d,[jo]:d}},e.children)))},Yn=(e,t,n)=>{let o=(0,Io.useContext)(wy);(0,Io.useLayoutEffect)(()=>{if(e)return o.getLock(t,n)},[e,t,n])},Cj=Pj});function Ij(e){return Ru.default.createElement(xy.Provider,{value:e.logger},e.children)}function fi(e,t){let n=(0,Ru.useContext)(xy);return(0,Ru.useMemo)(()=>e?n.named(e,t):n,[n,e,t])}var Ru,xy,pi=P(()=>{Ru=$(G()),xy=Ru.default.createContext(null)});function vQ(){let e=fi("PointerCapturing"),t=xr.default.useRef(null),n=()=>t.current!=null;return o=>{let a,l=s=>(a=s,t.current=s,s);return{capturing:{capturePointer(s){if(e._debug("Capturing pointer",{forDebugName:o,reason:s}),t.current!=null)throw new Error('"'.concat(o,'" attempted capturing pointer for "').concat(s,'" while already captured by "').concat(t.current.debugOwnerName,'" for "').concat(t.current.debugReason,'"'));let u=l({debugOwnerName:o,debugReason:s});return{isCapturing(){return u===t.current},release(){return u===t.current?(e._debug("Releasing pointer",{forDebugName:o,reason:s}),l(null),!0):!1}}},isPointerBeingCaptured:n},forceRelease(){a&&t.current===a&&(e._debug("Force releasing pointer",{localCapture:a}),l(null))}}}}function yQ(e){let t=vQ();return xr.default.createElement(Sy.Provider,{value:t},xr.default.createElement(Oj,{children:e.children}))}function jj(e){let t=(0,xr.useContext)(Sy),n=(0,xr.useMemo)(()=>t(e),[e,t]);return(0,xr.useEffect)(()=>()=>{n.forceRelease()},[n]),n.capturing}var xr,Sy,Oj,Ey=P(()=>{xr=$(G()),pi(),Sy=xr.default.createContext(null),Oj=xr.default.memo(({children:e})=>xr.default.createElement(xr.default.Fragment,null,e))}),_y,bQ=P(()=>{_y=typeof window<"u"&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)});function St(e,t){let n=(0,ql.useRef)(t);n.current=t;let o=t.shouldPointerLock&&!_y,a=(0,ql.useRef)({domDragStarted:!1}),{capturePointer:l}=jj("useDrag for ".concat(t.debugName)),s=(0,ql.useRef)({onDrag:wr,onDragEnd:wr,onClick:wr}),u=(0,ql.useRef)(),[d,f]=Qe(!1);return(0,ql.useLayoutEffect)(()=>{if(!e)return;let m=()=>{let S=a.current.domDragStarted&&a.current.detection.detected;d.current!==S&&(d.current=S)},v=S=>{if(!a.current.domDragStarted)return;let _=a.current;if(!kQ(S,_)&&(_.detection.detected||(_.detection.totalDistanceMoved+=Math.abs(S.movementY)+Math.abs(S.movementX),_.detection.totalDistanceMoved>Tj&&(o&&e.requestPointerLock(),_.detection={detected:!0,dragMovement:{x:0,y:0},dragEventCount:0},m())),_.detection.detected)){_.detection.dragEventCount+=1;let{dragMovement:O}=_.detection;if(o)O.x+=S.movementX,O.y+=S.movementY;else{let{startPos:j}=_;O.x=S.screenX-j.x,O.y=S.screenY-j.y}s.current.onDrag(O.x,O.y,S,S.movementX,S.movementY)}},g=S=>{if(b(),!a.current.domDragStarted)return;let _=a.current.detection.detected;a.current={domDragStarted:!1},t.shouldPointerLock&&!_y&&document.exitPointerLock(),s.current.onDragEnd(_),window.focus(),_||s.current.onClick(S),m()},h=()=>{document.addEventListener("mousemove",v),document.addEventListener("mouseup",g)},b=()=>{var S;(S=u.current)==null||S.release(),document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",g)},y=S=>{n.current.disabled||a.current.domDragStarted&&a.current.detection.detected&&(n.current.dontBlockMouseDown||(S.stopPropagation(),S.preventDefault()),a.current.detection={detected:!1,totalDistanceMoved:0},m())},k=S=>{var _,O,j,z;(_=u.current)==null||_.release();let K=n.current;if(K.disabled===!0||!((O=K.buttons)!=null?O:[0]).includes(S.button))return;let M=K.onDragStart(S);M!==!1&&(s.current.onDrag=M.onDrag,s.current.onDragEnd=(j=M.onDragEnd)!=null?j:wr,s.current.onClick=(z=M.onClick)!=null?z:wr,u.current=l("Drag start"),K.dontBlockMouseDown||(S.stopPropagation(),S.preventDefault()),a.current={domDragStarted:!0,startPos:{x:S.screenX,y:S.screenY},detection:{detected:!1,totalDistanceMoved:0}},m(),h())},x=S=>{k(S)};return e.addEventListener("mousedown",x),e.addEventListener("click",y),()=>{var S,_;b(),e.removeEventListener("mousedown",x),e.removeEventListener("click",y),a.current.domDragStarted&&((_=(S=s.current).onDragEnd)==null||_.call(S,a.current.detection.detected)),a.current={domDragStarted:!1},m()}},[e]),Yn(f&&!!t.lockCSSCursorTo,"dragging",t.lockCSSCursorTo),[f]}function kQ(e,t){return(!t.detection.detected||t.detection.detected&&t.detection.dragEventCount<3)&&(Math.abs(e.movementX)>Py||Math.abs(e.movementY)>Py)}var ql,Tj,Py,At=P(()=>{ql=$(G()),Un(),Ey(),Vl(),bQ(),nt(),Tj=3,Py=100});function wQ(e){return isNaN(e)?"NaN":P5(e)?e.toFixed(0):V5(e,3).toString()}var zj,Dj,Oo,Aj,rp,Bj,Mj,Nj,Fj,Rj,Uj,Vj,Kj,op,Cy=P(()=>{Rt(),zj=$(G()),Dj=$(G()),Oo=$(G()),be(),np(),nt(),ky(),At(),rp=U.div(Aj||(Aj=F([`
  height: 100%;
  width: 100%;
  position: relative;
  z-index: 0;
  box-sizing: border-box;
  display: flex;
  align-items: center;

  &:after {
    position: absolute;
    inset: 1px 0 2px;
    display: block;
    content: ' ';
    background-color: transparent;
    border: 1px solid transparent;
    z-index: -2;
    box-sizing: border-box;
    border-radius: 1px;
  }

  &:hover,
  &.dragging,
  &.editingViaKeyboard {
    &:after {
      background-color: #10101042;
      border-color: #00000059;
    }
  }
`]))),Mj=U.input(Bj||(Bj=F([`
  background: transparent;
  border: 1px solid transparent;
  color: rgba(255, 255, 255, 0.9);
  padding: 1px 6px;
  font: inherit;
  outline: none;
  cursor: ew-resize;
  text-align: left;
  width: 100%;
  height: calc(100% - 4px);
  border-radius: 2px;

  &:focus {
    cursor: text;
  }
`]))),Fj=U.div(Nj||(Nj=F([`
  position: absolute;
  inset: 3px 2px 4px;
  transform: scale(var(--percentage), 1);
  transform-origin: top left;
  background-color: #2d5561;
  z-index: -1;
  border-radius: 2px;
  pointer-events: none;

  `,".dragging &, ",`.noFocus:hover & {
    background-color: #338198;
  }
`])),rp,rp),Uj=U.div(Rj||(Rj=F([`
  display: contents;
`]))),Vj=e=>!0,Kj=e=>{var t;let[n]=Qe({mode:"noFocus"}),o=(t=e.isValid)!=null?t:Vj,a=(0,Oo.useRef)(e);a.current=e;let l=(0,Oo.useRef)(null);by(l.current,()=>{l.current.blur()},n.current.mode==="editingViaKeyboard");let s=(0,Oo.useRef)(null),u=(0,Oo.useMemo)(()=>{let k=M=>{let N=M.target,{value:Z}=N,le=n.current;n.current=he(L({},le),{currentEditedValueInString:Z});let D=parseFloat(Z);!isFinite(D)||!o(D)||a.current.temporarilySetValue(D)},x=()=>{n.current.mode==="editingViaKeyboard"&&(S(),n.current={mode:"noFocus"}),e.onBlur&&e.onBlur()},S=()=>{let M=n.current,N=parseFloat(M.currentEditedValueInString);!isFinite(N)||!o(N)||M.valueBeforeEditing===N?a.current.discardTemporaryValue():a.current.permanentlySetValue(N)},_=M=>{M.key==="Escape"?(a.current.discardTemporaryValue(),n.current={mode:"noFocus"},l.current.blur()):(M.key==="Enter"||M.key==="Tab")&&(S(),l.current.blur())},O=M=>{n.current.mode==="noFocus"&&(l.current.focus(),M.preventDefault()),M.stopPropagation()},j=()=>{n.current.mode==="noFocus"?z():n.current.mode},z=()=>{let M=a.current.value;n.current={mode:"editingViaKeyboard",currentEditedValueInString:String(M),valueBeforeEditing:M},setTimeout(()=>{l.current.focus(),l.current.setSelectionRange(0,100)})},K;return{inputChange:k,onBlur:x,transitionToDraggingMode:()=>{var M;let N=a.current.value;K=(M=l.current)==null?void 0:M.getBoundingClientRect().width,n.current={mode:"dragging"};let Z=N,le=N;return s.current=document.body.style.cursor,{onDrag(D,X,C,Q){let xe=C.altKey?Q/10:Q,H=le+e.nudge({deltaX:xe,deltaFraction:xe/K,magnitude:1});le=e.range?xt(H,e.range[0],e.range[1]):H,a.current.temporarilySetValue(le)},onDragEnd(D){D?(Z===le?a.current.discardTemporaryValue():a.current.permanentlySetValue(le),n.current={mode:"noFocus"}):(a.current.discardTemporaryValue(),n.current={mode:"noFocus"})},onClick(){l.current.focus(),l.current.setSelectionRange(0,100)}}},onInputKeyDown:_,onClick:O,onFocus:j}},[]);(0,zj.useEffect)(()=>()=>{u.onBlur()},[]);let d=n.current.mode!=="editingViaKeyboard"?wQ(e.value):n.current.currentEditedValueInString;typeof d=="number"&&isNaN(d)&&(d="NaN");let f=[l];e.inputRef&&f.push(e.inputRef);let m=Oo.default.createElement(Mj,{key:"input",type:"text",onChange:u.inputChange,value:d,onBlur:u.onBlur,onKeyDown:u.onInputKeyDown,onClick:u.onClick,onFocus:u.onFocus,ref:tp(f),onMouseDown:k=>{k.stopPropagation()},onDoubleClick:k=>{k.preventDefault(),k.stopPropagation()},autoFocus:e.autoFocus}),{range:v}=e,g=parseFloat(d),h=v?Oo.default.createElement(Fj,{style:{"--percentage":xt((g-v[0])/(v[1]-v[0]),0,1)}}):null,[b,y]=(0,Dj.useState)(null);return St(b,{debugName:"form/BasicNumberInput",onDragStart:u.transitionToDraggingMode,lockCSSCursorTo:"ew-resize",shouldPointerLock:!0,disabled:n.current.mode==="editingViaKeyboard"}),Oo.default.createElement(rp,{className:e.className+" "+n.current.mode},Oo.default.createElement(Uj,{ref:y},m),h)},op=Kj});function xQ({propConfig:e,editingTools:t,value:n,autoFocus:o}){let a=(0,Iy.useCallback)(l=>e.nudgeFn(he(L({},l),{config:e})),[e]);return Iy.default.createElement(op,{value:n,temporarilySetValue:t.temporarilySetValue,discardTemporaryValue:t.discardTemporaryValue,permanentlySetValue:t.permanentlySetValue,range:e.range,nudge:a,autoFocus:o})}var Iy,jy,Wj=P(()=>{Cy(),Iy=$(G()),jy=xQ});function SQ({value:e,onChange:t,options:n,autoFocus:o}){let a=(0,Uu.useCallback)(l=>{t(String(l.target.value))},[t]);return Uu.default.createElement(Oy,{role:"radiogroup"},Object.keys(n).map((l,s)=>Uu.default.createElement($j,{key:"label-"+s,"data-checked":e===l},n[l],Uu.default.createElement(Xj,{type:"radio",checked:e===l,value:l,onChange:a,name:"switchbox",autoFocus:o}))))}var Uu,Hj,Oy,qj,$j,Lj,Xj,Zj,EQ=P(()=>{Rn(),Uu=$(G()),be(),Oy=U.form(Hj||(Hj=F([`
  display: flex;
  flex-direction: row;
  align-items: stretch;
  vertical-align: middle;
  justify-content: stretch;
  height: 24px;
  width: 100%;
`]))),$j=U.label(qj||(qj=F([`
  padding: 0 0.5em;
  background: transparent;
  /* background: #373748; */
  display: flex;
  align-items: center;
  justify-content: center;
  flex-grow: 1;
  color: #a7a7a7;
  border: 1px solid transparent;
  box-sizing: border-box;
  border-right-width: 0px;

  & + &:last-child {
    border-right-width: 1px;
  }

  `,`:hover > & {
    border-color: #1c2123;
    /* background-color: #373748; */
    /* color: `,`; */
  }

  &&:hover {
    background-color: #464654;
  }

  &&[data-checked='true'] {
    color: white;
    background: #3f3f4c;
  }
`])),Oy,Pu(.1,"white")),Xj=U.input(Lj||(Lj=F([`
  position: absolute;
  opacity: 0;
  pointer-events: none;
  width: 0;
  height: 0;
`]))),Zj=SQ}),_Q=P(()=>{}),Ty,zy,Dy,Gj=P(()=>{Ty=$(G()),zy={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Dy=Ty.default.createContext&&Ty.default.createContext(zy)});function Yj(e){return e&&e.map(function(t,n){return Ll.default.createElement(t.tag,To({key:n},t.attr),Yj(t.child))})}function $l(e){return function(t){return Ll.default.createElement(PQ,To({attr:To({},e.attr)},t),Yj(e.child))}}function PQ(e){var t=function(n){var o=e.attr,a=e.size,l=e.title,s=Qj(e,["attr","size","title"]),u=a||n.size||"1em",d;return n.className&&(d=n.className),e.className&&(d=(d?d+" ":"")+e.className),Ll.default.createElement("svg",To({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,o,s,{className:d,style:To(To({color:e.color||n.color},n.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),l&&Ll.default.createElement("title",null,l),e.children)};return Dy!==void 0?Ll.default.createElement(Dy.Consumer,null,function(n){return t(n)}):t(zy)}var Ll,To,Qj,CQ=P(()=>{Ll=$(G()),Gj(),To=function(){return To=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},To.apply(this,arguments)},Qj=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]]);return n}}),Ot=P(()=>{_Q(),CQ(),Gj()}),IQ=P(()=>{Ot()}),jQ=P(()=>{Ot()});function OQ(e){return $l({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"}}]})(e)}var TQ=P(()=>{Ot()}),zQ=P(()=>{Ot()}),DQ=P(()=>{Ot()});function AQ(e){return $l({tag:"svg",attr:{viewBox:"0 0 8 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.5 3L7 4.5 3.25 8 7 11.5 5.5 13l-5-5 5-5z"}}]})(e)}function BQ(e){return $l({tag:"svg",attr:{viewBox:"0 0 8 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.5 8l-5 5L1 11.5 4.75 8 1 4.5 2.5 3l5 5z"}}]})(e)}var MQ=P(()=>{Ot()}),NQ=P(()=>{Ot()}),FQ=P(()=>{Ot()}),RQ=P(()=>{Ot()}),UQ=P(()=>{Ot()}),VQ=P(()=>{Ot()}),KQ=P(()=>{Ot()}),WQ=P(()=>{Ot()}),HQ=P(()=>{Ot()}),qQ=P(()=>{Ot()});function Jj(e){return $l({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"}}]})(e)}var $Q=P(()=>{Ot()}),LQ=P(()=>{Ot()}),XQ=P(()=>{Ot()}),ZQ=P(()=>{Ot()});function GQ(e){return $l({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M6 9.65685L7.41421 11.0711L11.6569 6.82843L15.8995 11.0711L17.3137 9.65685L11.6569 4L6 9.65685Z",fill:"currentColor"}},{tag:"path",attr:{d:"M6 14.4433L7.41421 13.0291L11.6569 17.2717L15.8995 13.0291L17.3137 14.4433L11.6569 20.1001L6 14.4433Z",fill:"currentColor"}}]})(e)}var YQ=P(()=>{Ot()});function QQ(e){return $l({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M14 10.44l-.413.56H2.393L2 10.46 7.627 5h.827L14 10.44z"}}]})(e)}var JQ=P(()=>{Ot()}),Xl=P(()=>{IQ(),jQ(),TQ(),zQ(),DQ(),MQ(),NQ(),FQ(),RQ(),UQ(),VQ(),KQ(),WQ(),HQ(),qQ(),$Q(),LQ(),XQ(),ZQ(),YQ(),JQ()});function eJ({value:e,onChange:t,options:n,className:o,autoFocus:a}){let l=(0,ya.useCallback)(s=>{t(String(s.target.value))},[t]);return ya.default.createElement(t4,null,ya.default.createElement(i4,{className:o,value:e,onChange:l,autoFocus:a},Object.keys(n).map((s,u)=>ya.default.createElement("option",{key:"option-"+u,value:s},n[s]))),ya.default.createElement(r4,null,ya.default.createElement(GQ,null)))}var ya,e4,t4,n4,r4,o4,i4,a4,tJ=P(()=>{ya=$(G()),be(),Xl(),t4=U.div(e4||(e4=F([`
  width: 100%;
  position: relative;
`]))),r4=U.div(n4||(n4=F([`
  position: absolute;
  right: 0px;
  top: 0;
  bottom: 0;
  width: 1.5em;
  font-size: 14px;
  display: flex;
  align-items: center;
  color: #6b7280;
  pointer-events: none;
`]))),i4=U.select(o4||(o4=F([`
  appearance: none;
  background-color: transparent;
  box-sizing: border-box;
  border: 1px solid transparent;
  color: rgba(255, 255, 255, 0.85);
  padding: 1px 6px;
  font: inherit;
  outline: none;
  text-align: left;
  width: 100%;
  border-radius: 2px;
  /*
  looks like putting percentages in the height of a select box doesn't work in Firefox. Not sure why.
  So we're hard-coding the height to 26px, unlike all other inputs that use a relative height.
  */
  height: 26px /* calc(100% - 4px); */;

  @supports (-moz-appearance: none) {
    /* Ugly hack to remove the extra left padding that shows up only in Firefox */
    text-indent: -2px;
  }

  &:hover,
  &:focus {
    background-color: #10101042;
    border-color: #00000059;
  }
`]))),a4=eJ});function nJ({propConfig:e,editingTools:t,value:n,autoFocus:o}){let a=(0,ip.useCallback)(l=>{t.permanentlySetValue(l)},[e,t]);return e.as==="menu"?ip.default.createElement(a4,{value:n,onChange:a,options:e.valuesAndLabels,autoFocus:o}):ip.default.createElement(Zj,{value:n,onChange:a,options:e.valuesAndLabels,autoFocus:o})}var ip,l4,rJ=P(()=>{ip=$(G()),EQ(),tJ(),l4=nJ}),s4,Vu,u4,c4,d4,f4,ap,Ay=P(()=>{be(),s4=$(G()),Vu=$(G()),np(),nt(),ky(),c4=U.input.attrs({type:"text"})(u4||(u4=F([`
  background: transparent;
  border: 1px solid transparent;
  color: rgba(255, 255, 255, 0.9);
  padding: 1px 6px;
  font: inherit;
  outline: none;
  cursor: text;
  text-align: left;
  width: 100%;
  height: calc(100% - 4px);
  border-radius: 2px;
  border: 1px solid transparent;
  box-sizing: border-box;

  &:hover {
    background-color: #10101042;
    border-color: #00000059;
  }

  &:hover,
  &:focus {
    cursor: text;
    background-color: #10101042;
    border-color: #00000059;
  }

  &.invalid {
    border-color: red;
  }
`]))),d4=e=>!0,f4=e=>{var t,n;let[o]=Qe({mode:"noFocus"}),a=(t=e.isValid)!=null?t:d4,l=(0,Vu.useRef)(e);l.current=e;let s=(0,Vu.useRef)(null);by(s.current,()=>{s.current.blur()},o.current.mode==="editingViaKeyboard");let u=(0,Vu.useMemo)(()=>{let m=x=>{let S=x.target,{value:_}=S,O=o.current;o.current=he(L({},O),{currentEditedValueInString:_}),a(_)&&l.current.temporarilySetValue(_)},v=()=>{var x,S;o.current.mode==="editingViaKeyboard"&&(g(),o.current={mode:"noFocus"}),(S=(x=l.current).onBlur)==null||S.call(x)},g=()=>{let x=o.current,S=x.currentEditedValueInString;a(S)?x.valueBeforeEditing===S?l.current.discardTemporaryValue():l.current.permanentlySetValue(S):l.current.discardTemporaryValue()},h=x=>{x.key==="Escape"?(l.current.discardTemporaryValue(),o.current={mode:"noFocus"},s.current.blur()):(x.key==="Enter"||x.key==="Tab")&&(g(),s.current.blur())},b=x=>{o.current.mode==="noFocus"&&(s.current.focus(),x.preventDefault()),x.stopPropagation()},y=()=>{o.current.mode==="noFocus"?k():o.current.mode},k=()=>{let x=l.current.value;o.current={mode:"editingViaKeyboard",currentEditedValueInString:String(x),valueBeforeEditing:x},setTimeout(()=>{s.current.focus()})};return{inputChange:m,onBlur:v,onInputKeyDown:h,onClick:b,onFocus:y}},[]);(0,s4.useEffect)(()=>()=>{u.onBlur()},[]);let d=o.current.mode!=="editingViaKeyboard"?e.value:o.current.currentEditedValueInString,f=[s];return e.inputRef&&f.push(e.inputRef),Vu.default.createElement(c4,{key:"input",type:"text",className:"".concat((n=e.className)!=null?n:""," ").concat(a(d)?"":"invalid"),onChange:u.inputChange,value:d,onBlur:u.onBlur,onKeyDown:u.onInputKeyDown,onClick:u.onClick,onFocus:u.onFocus,ref:tp(f),onMouseDown:m=>{m.stopPropagation()},onDoubleClick:m=>{m.preventDefault(),m.stopPropagation()},autoFocus:e.autoFocus})},ap=f4});function oJ({editingTools:e,value:t,autoFocus:n}){return p4.default.createElement(ap,{value:t,temporarilySetValue:e.temporarilySetValue,discardTemporaryValue:e.discardTemporaryValue,permanentlySetValue:e.permanentlySetValue,autoFocus:n})}var p4,h4,iJ=P(()=>{p4=$(G()),Ay(),h4=oJ});function aJ(e){e=e.trim().toLowerCase();let t=e.match(Ny);if(!t)return{r:0,g:0,b:0,a:1};let n=lJ(t[1]);return{r:parseInt(n.substr(0,2),16)/255,g:parseInt(n.substr(2,2),16)/255,b:parseInt(n.substr(4,2),16)/255,a:parseInt(n.substr(6,2),16)/255}}function By(e,{removeAlphaIfOpaque:t=!1}={}){let n=(e.a*255|256).toString(16).slice(1),o=(e.r*255|256).toString(16).slice(1)+(e.g*255|256).toString(16).slice(1)+(e.b*255|256).toString(16).slice(1)+(t&&n==="ff"?"":n);return"#".concat(o)}function My(e){return he(L({},e),{toString(){return By(this,{removeAlphaIfOpaque:!0})}})}function lJ(e){switch(e.length){case 3:return"".concat(e.repeat(2),"ff");case 4:let t=e.substr(0,3),n=e[3];return"".concat(t.repeat(2)).concat(n.repeat(2));case 6:return"".concat(e,"ff")}return e}var Ny,m4=P(()=>{Ny=/^#*([0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/i});function lp(e){let t=(0,Fy.useRef)(e),n=(0,Fy.useRef)(o=>{t.current&&t.current(o)});return t.current=e,n.current}var Fy,g4=P(()=>{Fy=$(G())}),ba,sp=P(()=>{ba=(e,t=0,n=1)=>e>n?n:e<t?t:e}),Ku,Ry,v4,Uy,Vy=P(()=>{Ku=$(G()),Ry=(0,Ku.createContext)(void 0),v4=({children:e})=>{let[t,n]=(0,Ku.useState)(!1);return Ku.default.createElement(Ry.Provider,{value:{editing:t,setEditing:n}},e)},Uy=()=>(0,Ku.useContext)(Ry)}),hi,Zl,y4,up,Ky,Wy,b4,k4,w4,x4,Wu,cp=P(()=>{hi=$(G()),g4(),sp(),be(),Vy(),Zl=e=>"touches"in e,y4=(e,t)=>{for(let n=0;n<e.length;n++)if(e[n].identifier===t)return e[n];return e[0]},up=e=>e&&e.ownerDocument.defaultView||self,Ky=(e,t,n)=>{let o=e.getBoundingClientRect(),a=Zl(t)?y4(t.touches,n):t;return{left:ba((a.pageX-(o.left+up(e).pageXOffset))/o.width),top:ba((a.pageY-(o.top+up(e).pageYOffset))/o.height)}},Wy=e=>{!Zl(e)&&e.preventDefault()},b4=(e,t)=>t&&!Zl(e),w4=U.div(k4||(k4=F([`
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  border-radius: inherit;
  outline: none;
  /* Don't trigger the default scrolling behavior when the event is originating from this element */
  touch-action: none;
`]))),x4=e=>{var t=e,{onMove:n,onKey:o}=t,a=Js(t,["onMove","onKey"]);let l=(0,hi.useRef)(null),s=lp(n),u=lp(o),d=(0,hi.useRef)(null),f=(0,hi.useRef)(!1),{setEditing:m}=Uy(),[v,g,h]=(0,hi.useMemo)(()=>{let b=({nativeEvent:_})=>{let O=l.current;if(O&&(Wy(_),!(b4(_,f.current)||!O))){if(Zl(_)){f.current=!0;let j=_.changedTouches||[];j.length&&(d.current=j[0].identifier)}O.focus(),m(!0),s(Ky(O,_,d.current)),S(!0)}},y=_=>{Wy(_),(Zl(_)?_.touches.length>0:_.buttons>0)&&l.current?s(Ky(l.current,_,d.current)):(m(!1),S(!1))},k=_=>{m(!1),S(!1)},x=_=>{let O=_.which||_.keyCode;O<37||O>40||(_.preventDefault(),u({left:O===39?.05:O===37?-.05:0,top:O===40?.05:O===38?-.05:0}))};function S(_){let O=f.current,j=l.current,z=up(j),K=_?z.addEventListener:z.removeEventListener;K(O?"touchmove":"mousemove",y),K(O?"touchend":"mouseup",k)}return[b,x,S]},[u,s]);return(0,hi.useEffect)(()=>h,[h]),hi.default.createElement(w4,he(L({},a),{onTouchStart:v,onMouseDown:v,ref:l,onKeyDown:g,tabIndex:0,role:"slider"}))},Wu=hi.default.memo(x4)}),Hy,S4,E4,_4,P4,C4,I4,dp,qy=P(()=>{Hy=$(G()),be(),cp(),E4=U(Wu)(S4||(S4=F([""]))),P4=U.div(_4||(_4=F([`
  position: absolute;
  z-index: 1;
  box-sizing: border-box;
  width: 16px;
  height: 16px;
  transform: translate(-50%, -50%);
  background-color: #fff;
  border: 1px solid #ffffff00;
  border-radius: 2px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);

  `,`:focus & {
    transform: translate(-50%, -50%) scale(1.1);
  }
`])),E4),I4=U.div(C4||(C4=F([`
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  border-radius: inherit;
`]))),dp=({className:e,color:t,left:n,top:o=.5})=>{let a={top:"".concat(o*100,"%"),left:"".concat(n*100,"%")};return Hy.default.createElement(P4,{style:a,className:e},Hy.default.createElement(I4,{style:{backgroundColor:t}}))}}),dn,fp=P(()=>{dn=(e,t=0,n=Math.pow(10,t))=>Math.round(n*e)/n}),$y,pp,hp,j4,O4,mp=P(()=>{fp(),$y=({h:e,s:t,v:n,a:o})=>{let a=(200-t)*n/100;return{h:dn(e),s:dn(a>0&&a<200?t*n/100/(a<=100?a:200-a)*100:0),l:dn(a/2),a:dn(o,2)}},pp=e=>{let{h:t,s:n,l:o}=$y(e);return"hsl(".concat(t,", ").concat(n,"%, ").concat(o,"%)")},hp=e=>{let{h:t,s:n,l:o,a}=$y(e);return"hsla(".concat(t,", ").concat(n,"%, ").concat(o,"%, ").concat(a,")")},j4=({h:e,s:t,v:n,a:o})=>{e=e/360*6,t=t/100,n=n/100;let a=Math.floor(e),l=n*(1-t),s=n*(1-(e-a)*t),u=n*(1-(1-e+a)*t),d=a%6;return{r:dn([n,s,l,l,u,n][d]*255),g:dn([u,n,n,s,l,l][d]*255),b:dn([l,l,u,n,n,s][d]*255),a:dn(o,2)}},O4=({r:e,g:t,b:n,a:o})=>{let a=Math.max(e,t,n),l=a-Math.min(e,t,n),s=l?a===e?(t-n)/l:a===t?2+(n-e)/l:4+(e-t)/l:0;return{h:dn(60*(s<0?s+6:s)),s:dn(a?l/a*100:0),v:dn(a/255*100),a:o}}}),Hu,T4,z4,D4,A4,B4,M4,sJ=P(()=>{Hu=$(G()),cp(),qy(),mp(),sp(),fp(),be(),z4=U.div(T4||(T4=F([`
  position: relative;
  height: 16px;
  border-radius: 2px;

  background: linear-gradient(
    to right,
    #f00 0%,
    #ff0 17%,
    #0f0 33%,
    #0ff 50%,
    #00f 67%,
    #f0f 83%,
    #f00 100%
  );
`]))),A4=U(dp)(D4||(D4=F([`
  z-index: 2;
`]))),B4=({className:e,hue:t,onChange:n})=>Hu.default.createElement(z4,{className:e},Hu.default.createElement(Wu,{onMove:o=>{n({h:360*o.left})},onKey:o=>{n({h:ba(t+o.left*360,0,360)})},"aria-label":"Hue","aria-valuetext":dn(t)},Hu.default.createElement(A4,{left:t/360,color:pp({h:t,s:100,v:100,a:1})}))),M4=Hu.default.memo(B4)}),qu,N4,F4,R4,U4,V4,K4,uJ=P(()=>{qu=$(G()),cp(),qy(),mp(),sp(),fp(),be(),F4=U.div(N4||(N4=F([`
  position: relative;
  flex-grow: 1;
  border-color: transparent; /* Fixes https://github.com/omgovich/react-colorful/issues/139 */
  border-bottom: 12px solid #000;
  border-radius: 2px;
  background-image: linear-gradient(to top, #000, rgba(0, 0, 0, 0)),
    linear-gradient(to right, #fff, rgba(255, 255, 255, 0));

  // Improve elements rendering on light backgrounds
  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.05);
`]))),U4=U(dp)(R4||(R4=F([`
  z-index: 3;
`]))),V4=({hsva:e,onChange:t})=>{let n=l=>{t({s:l.left*100,v:100-l.top*100})},o=l=>{t({s:ba(e.s+l.left*100,0,100),v:ba(e.v-l.top*100,0,100)})},a={backgroundColor:pp({h:e.h,s:100,v:100,a:1})};return qu.default.createElement(F4,{style:a},qu.default.createElement(Wu,{onMove:n,onKey:o,"aria-label":"Color","aria-valuetext":"Saturation ".concat(dn(e.s),"%, Brightness ").concat(dn(e.v),"%")},qu.default.createElement(U4,{top:1-e.v/100,left:e.s/100,color:pp(e)})))},K4=qu.default.memo(V4)}),$u,W4,H4,q4,$4,L4,X4,Z4,cJ=P(()=>{$u=$(G()),cp(),qy(),mp(),sp(),fp(),be(),H4=U.div(W4||(W4=F([`
  position: relative;
  height: 16px;
  border-radius: 2px;
  // Checkerboard
  background-color: #fff;
  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><rect x="8" width="8" height="8"/><rect y="8" width="8" height="8"/></svg>');
`]))),$4=U.div.attrs(({colorFrom:e,colorTo:t})=>({style:{backgroundImage:"linear-gradient(90deg, ".concat(e,", ").concat(t,")")}}))(q4||(q4=F([`
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  border-radius: inherit;

  // Improve rendering on light backgrounds
  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.05);
`]))),X4=U(dp)(L4||(L4=F([`
  // Checkerboard
  background-color: #fff;
  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><rect x="8" width="8" height="8"/><rect y="8" width="8" height="8"/></svg>');
`]))),Z4=({className:e,hsva:t,onChange:n})=>{let o=u=>{n({a:u.left})},a=u=>{n({a:ba(t.a+u.left)})},l=hp(Object.assign({},t,{a:0})),s=hp(Object.assign({},t,{a:1}));return $u.default.createElement(H4,{className:e},$u.default.createElement($4,{colorFrom:l,colorTo:s}),$u.default.createElement(Wu,{onMove:o,onKey:a,"aria-label":"Alpha","aria-valuetext":"".concat(dn(t.a*100),"%")},$u.default.createElement(X4,{left:t.a,color:hp(t)})))}}),gp,G4=P(()=>{gp=(e,t)=>{if(e===t)return!0;for(let n in e)if(e[n]!==t[n])return!1;return!0}});function dJ(e,t,n,o){let{editing:a}=Uy(),[l,s]=(0,zo.useState)(t),u=lp(n),d=lp(o),f=a?l:t,[m,v]=(0,zo.useState)(()=>e.toHsva(f)),g=(0,zo.useRef)({color:f,hsva:m}),h=(0,zo.useRef)({color:f,hsva:m});(0,zo.useEffect)(()=>{a&&s(g.current.color)},[a]),(0,zo.useEffect)(()=>{let y=e.fromHsva(m);a?!gp(m,g.current.hsva)&&!e.equal(y,g.current.color)&&(g.current={hsva:m,color:y},s(y),u(y)):!gp(m,h.current.hsva)&&!e.equal(y,h.current.color)&&(h.current={hsva:m,color:y},g.current={hsva:m,color:y},d(y))},[a,m,e,u,d]),(0,zo.useEffect)(()=>{if(!a&&!e.equal(f,h.current.color)){let y=e.toHsva(f);h.current={hsva:y,color:f},v(y)}},[a,f,e]);let b=(0,zo.useCallback)(y=>{v(k=>Object.assign({},k,y))},[]);return[m,b]}var zo,fJ=P(()=>{zo=$(G()),G4(),g4(),Vy()}),Gl,Y4,Q4,J4,pJ=P(()=>{Gl=$(G()),sJ(),uJ(),cJ(),fJ(),be(),Q4=U.div(Y4||(Y4=F([`
  position: relative;
  display: flex;
  gap: 4px;
  flex-direction: column;
  width: 200px;
  height: 200px;
  user-select: none;
  cursor: default;
`]))),J4=e=>{var t=e,{className:n,colorModel:o,color:a=o.defaultColor,temporarilySetValue:l,permanentlySetValue:s,discardTemporaryValue:u}=t,d=Js(t,["className","colorModel","color","temporarilySetValue","permanentlySetValue","discardTemporaryValue"]);let[f,m]=dJ(o,a,l,s);return(0,Gl.useEffect)(()=>()=>{u()},[]),Gl.default.createElement(Q4,L({},d),Gl.default.createElement(K4,{hsva:f,onChange:m}),Gl.default.createElement(M4,{hue:f.h,onChange:m}),Gl.default.createElement(Z4,{hsva:f,onChange:m}))}}),Ly,e6,t6,n6,r6,hJ=P(()=>{Ly=$(G()),pJ(),G4(),mp(),Vy(),e6=e=>({r:e.r/255,g:e.g/255,b:e.b/255,a:e.a}),t6=e=>({r:e.r*255,g:e.g*255,b:e.b*255,a:e.a}),n6={defaultColor:{r:0,g:0,b:0,a:1},toHsva:e=>O4(t6(e)),fromHsva:e=>e6(j4(e)),equal:gp},r6=e=>Ly.default.createElement(v4,null,Ly.default.createElement(J4,he(L({},e),{permanentlySetValue:t=>{e.permanentlySetValue(t)},colorModel:n6})))}),mJ=P(()=>{hJ()}),o6,i6,a6,gJ=P(()=>{o6=$(G()),i6=function(e){(0,o6.useEffect)(e,[])},a6=i6}),l6,s6,u6,vJ=P(()=>{l6=$(G()),gJ(),s6=function(e){var t=(0,l6.useRef)(e);t.current=e,a6(function(){return function(){return t.current()}})},u6=s6}),vp,c6,d6,yJ=P(()=>{vp=$(G()),vJ(),c6=function(e){var t=(0,vp.useRef)(0),n=(0,vp.useState)(e),o=n[0],a=n[1],l=(0,vp.useCallback)(function(s){cancelAnimationFrame(t.current),t.current=requestAnimationFrame(function(){a(s)})},[]);return u6(function(){cancelAnimationFrame(t.current)}),[o,l]},d6=c6});function bJ(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.addEventListener&&e.addEventListener.apply(e,t)}function kJ(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}var yp,wJ=P(()=>{yp=typeof window<"u"}),f6,p6,bp,Xy=P(()=>{f6=$(G()),yJ(),wJ(),p6=function(e,t){e===void 0&&(e=1/0),t===void 0&&(t=1/0);var n=d6({width:yp?window.innerWidth:e,height:yp?window.innerHeight:t}),o=n[0],a=n[1];return(0,f6.useEffect)(function(){if(yp){var l=function(){a({width:window.innerWidth,height:window.innerHeight})};return bJ(window,"resize",l),function(){kJ(window,"resize",l)}}},[]),o},bp=p6});function Zy(e){let[t,n]=(0,Gy.useState)(null);return(0,Gy.useLayoutEffect)(()=>(e&&n(e.getBoundingClientRect()),()=>{n(null)}),[e]),t}var Gy,h6=P(()=>{Gy=$(G())}),m6,g6,Yy,v6=P(()=>{m6=$(G()),g6=(0,m6.createContext)({}),Yy=g6});function xJ(e,t,n){let o=e.getBoundingClientRect(),a=l=>{(l.clientX<o.left-t||l.clientX>o.left+o.width+t||l.clientY<o.top-t||l.clientY>o.top+o.height+t)&&n(l)};return window.addEventListener("mousemove",a),()=>{window.removeEventListener("mousemove",a)}}var SJ=P(()=>{}),y6,kp,Qy,b6,Jy,k6=P(()=>{y6=$(G()),kp=$(G()),Xy(),h6(),v6(),nt(),ky(),SJ(),Vl(),Rt(),Qy=8,b6=e=>{var t,n;let o=e.children(),[a,l]=Qe(null),s=o.props.style?L({},o.props.style):{};s.position="absolute";let u=Zy(l),d=Zy(e.target),f=bp(),[m,v]=(0,kp.useState)({});return(0,kp.useLayoutEffect)(()=>{var g,h,b;if(!u||!l||!d)return;let y=(g=e.verticalGap)!=null?g:8,k={},x=(h=e.verticalPlacement)!=null?h:"bottom",S=0,_=0;x==="bottom"?d.bottom+u.height+y<f.height?(x="bottom",S=d.bottom+y,k.top="0px"):d.top>u.height+y?(x="top",S=d.top-(u.height+y),k.bottom="0px",k.transform="rotateZ(180deg)"):x="overlay":x==="top"&&(d.top>u.height+y?(x="top",S=d.top-(u.height+y),k.bottom="0px",k.transform="rotateZ(180deg)"):d.bottom+u.height+y<f.height?(x="bottom",S=d.bottom+y,k.top="0px"):x="overlay");let O=0;if(x!=="overlay"){let Z=d.left+d.width/2;Z<u.width/2?(_=y,O=Math.max(Z-y,Qy)):Z+u.width/2>f.width?(_=f.width-(y+u.width),O=Math.min(Z-_,u.width-Qy)):(_=Z-u.width/2,O=u.width/2),k.left=O+"px"}let{minX:j=-1/0,maxX:z=1/0,minY:K=-1/0,maxY:M=1/0}=(b=e.constraints)!=null?b:{},N={left:xt(_,j,z-u.width),top:xt(S,K,M+u.height)};if(l.style.left=N.left+"px",l.style.top=N.top+"px",v(k),e.onPointerOutside)return xJ(l,e.onPointerOutside.threshold,e.onPointerOutside.callback)},[u,l,e.target,d,f,e.onPointerOutside]),by([l,(t=e.target)!=null?t:null],(n=e.onClickOutside)!=null?n:wr),y6.default.createElement(Yy.Provider,{value:m},(0,kp.cloneElement)(o,{ref:a,style:s}))},Jy=b6});function Zr(e,t){let n=(...h)=>{},{isPointerBeingCaptured:o}=jj("usePopover"),[a,l]=Qe({isOpen:!1}),s=(0,fn.useRef)(e),u=(0,fn.useCallback)(h=>{a.current={isOpen:!1}},[]),d=(0,fn.useCallback)((h,b)=>{var y;let k=typeof s.current=="function"?s.current():s.current;function x(){m.childHasFocusRef.current||k.closeOnClickOutside!==!1&&u("clicked outside popover")}a.current={isOpen:!0,clickPoint:{clientX:h.clientX,clientY:h.clientY},target:b,opts:k,onClickOutside:x,onPointerOutside:k.closeWhenPointerIsDistant===!1?void 0:{threshold:(y=k.pointerDistanceThreshold)!=null?y:100,callback:()=>{m.childHasFocusRef.current||o()||u("pointer outside")}}}},[]),f=(0,fn.useCallback)((...h)=>{a.current.isOpen?u("toggled"):d(...h)},[]),m=EJ({_debug:n,state:l}),[,v]=(0,fn.useContext)(kc);(0,fn.useEffect)(()=>{let h;return l.isOpen&&(h=v()),()=>h==null?void 0:h()},[l.isOpen]);let g=(0,fn.useContext)(Fl);return{node:l.isOpen?(0,w6.createPortal)(fn.default.createElement(e1.Provider,{value:m.childPopoverLock},fn.default.createElement(Jy,{children:t,target:l.target,onClickOutside:l.onClickOutside,onPointerOutside:l.onPointerOutside,constraints:l.opts.constraints,verticalGap:l.opts.verticalGap})),g):fn.default.createElement(fn.default.Fragment,null),open:d,close:u,toggle:f,isOpen:l.isOpen}}function EJ(e){let t=(0,fn.useContext)(e1);(0,fn.useEffect)(()=>{if(e.state.isOpen){let o=t.takeFocus();return e._debug("take focus"),()=>{e._debug("release focus"),o.releaseFocus()}}},[e.state.isOpen]);let n=(0,fn.useRef)(!1);return{childHasFocusRef:n,childPopoverLock:{takeFocus(){return n.current=!0,{releaseFocus(){n.current=!1}}}}}}var fn,w6,e1,Gr=P(()=>{Ey(),nt(),fn=$(G()),w6=$(So()),va(),k6(),W1(),e1=fn.default.createContext({takeFocus(){return{releaseFocus(){}}}})}),Do,x6,S6,E6,_6,P6,C6,I6,j6,O6,T6,z6,D6,_J=P(()=>{Do=$(G()),be(),v6(),S6=U.div(x6||(x6=F([`
  position: absolute;
  width: 0;
  height: 0;
  color: var(--popover-arrow-color);
  pointer-events: none;
`]))),_6=U.div(E6||(E6=F([`
  width: 12px;
  height: 8px;
  position: absolute;
  left: -7px;
  top: -8px;
  text-align: center;
  line-height: 0;
`]))),C6=U.path(P6||(P6=F([`
  fill: var(--popover-bg);
`]))),j6=U.path(I6||(I6=F([`
  fill: var(--popover-inner-stroke);
`]))),T6=U.path(O6||(O6=F([`
  fill: var(--popover-outer-stroke);
`]))),z6=(0,Do.forwardRef)(({className:e},t)=>{let n=(0,Do.useContext)(Yy);return Do.default.createElement(S6,{className:e,ref:t,style:L({},n)},Do.default.createElement(_6,null,Do.default.createElement("svg",{width:"12",height:"8",viewBox:"0 0 12 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Do.default.createElement(T6,{d:"M6 0L0 6H12L6 0Z"}),Do.default.createElement(j6,{d:"M6 1.5L0 7.5H12L6 1.5Z"}),Do.default.createElement(C6,{d:"M6 3L0 9H12L6 3Z"}))))}),D6=z6}),wp,t1,A6,B6,M6,Yr,Qr=P(()=>{rt(),Rn(),wp=$(G()),be(),_J(),t1=kr(.05,"#2a2a31"),B6=U.div(A6||(A6=F([`
  position: absolute;
  --popover-bg: `,`;
  --popover-inner-stroke: #505159;
  --popover-outer-stroke: #111;

  background: var(--popover-bg);

  color: white;
  padding: 0;
  margin: 0;
  cursor: default;
  `,`;
  border-radius: 3px;
  z-index: 10000;
  border: 1px solid var(--popover-inner-stroke);
  box-shadow: 0 0 0 1px var(--popover-outer-stroke), 0 6px 8px -4px black;
  backdrop-filter: blur(8px);

  & a {
    color: inherit;
  }
`])),t1,tt),M6=wp.default.forwardRef(({children:e,className:t,showPopoverEdgeTriangle:n=!0},o)=>wp.default.createElement(B6,{className:t,ref:o},n?wp.default.createElement(D6,null):void 0,e)),Yr=M6});function PJ({editingTools:e,value:t,autoFocus:n}){let o=(0,Jr.useRef)(null),a=(0,Jr.useCallback)(s=>{let u=My(aJ(s));e.permanentlySetValue(u)},[e]),l=Zr({debugName:"RgbaPropEditor"},()=>Jr.default.createElement(H6,null,Jr.default.createElement(r6,{color:{r:t.r,g:t.g,b:t.b,a:t.a},temporarilySetValue:s=>{let u=My(s);e.temporarilySetValue(u)},permanentlySetValue:s=>{let u=My(s);e.permanentlySetValue(u)},discardTemporaryValue:e.discardTemporaryValue})));return Jr.default.createElement(Jr.default.Fragment,null,Jr.default.createElement(F6,null,Jr.default.createElement(U6,{rgbaColor:t,ref:o,onClick:s=>{l.toggle(s,o.current)}}),Jr.default.createElement(K6,{value:By(t,{removeAlphaIfOpaque:!0}),temporarilySetValue:n1,discardTemporaryValue:n1,permanentlySetValue:a,isValid:s=>!!s.match(Ny),autoFocus:n})),l.node)}var Jr,N6,F6,R6,U6,V6,K6,n1,W6,H6,q6,CJ=P(()=>{m4(),m4(),Jr=$(G()),mJ(),be(),Gr(),Ay(),Qr(),F6=U.div(N6||(N6=F([`
  display: flex;
  align-items: center;
  height: 100%;
  gap: 4px;
`]))),U6=U.div.attrs(e=>({style:{background:By(e.rgbaColor)}}))(R6||(R6=F([`
  height: 18px;
  aspect-ratio: 1;
  border-radius: 99999px;
`]))),K6=U(ap)(V6||(V6=F([`
  flex: 1;
`]))),n1=()=>{},H6=U.div(W6||(W6=F([`
  position: absolute;
  background-color: `,`;
  color: white;
  margin: 0;
  cursor: default;
  border-radius: 3px;
  z-index: 10000;
  backdrop-filter: blur(8px);

  padding: 4px;
  pointer-events: all;

  border: none;
  box-shadow: none;
`])),t1),q6=PJ});function IJ({propConfig:e,editingTools:t,value:n,autoFocus:o}){let[a,l]=Sr.default.useState();(0,Sr.useEffect)(()=>{l(n?t.getAssetUrl(n):void 0)},[n]);let s=(0,Sr.useCallback)(d=>qt(this,null,function*(){let f=d.target.files[0];t.permanentlySetValue({type:"image",id:void 0});let m=yield t.createAsset(f);m?t.permanentlySetValue({type:"image",id:m}):t.permanentlySetValue(n),d.target.value=null}),[t,n]),u=!(n!=null&&n.id);return Sr.default.createElement(r1,{empty:u},Sr.default.createElement(Q6,{empty:u,title:u?"Upload image":'"'.concat(n.id,'" (Click to upload new image)')},Sr.default.createElement(eO,{type:"file",onChange:s,accept:"image/*,.hdr",autoFocus:o}),a?Sr.default.createElement(nO,{src:a}):Sr.default.createElement(X6,null)),!u&&Sr.default.createElement(oO,{title:"Delete image",onClick:()=>{t.permanentlySetValue({type:"image",id:void 0})}},Sr.default.createElement(cy,null)))}var Sr,$6,r1,L6,X6,Z6,G6,Y6,Q6,J6,eO,tO,nO,rO,oO,iO,jJ=P(()=>{Au(),Sr=$(G()),be(),r1=U.div($6||($6=F([`
  display: flex;
  align-items: center;
  height: 100%;
  gap: 4px;
`]))),X6=U.div(L6||(L6=F([`
  position: absolute;
  inset: -5px;
  // rotate 45deg
  transform: rotate(45deg);
  --checker-color: #ededed36;
  &:hover {
    --checker-color: #ededed77;
  }
  // checkerboard background with 4px squares
  background-image: linear-gradient(
      45deg,
      var(--checker-color) 25%,
      transparent 25%
    ),
    linear-gradient(-45deg, var(--checker-color) 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, var(--checker-color) 75%),
    linear-gradient(-45deg, transparent 75%, var(--checker-color) 75%);
  background-size: 5px 5px;
`]))),Q6=U.label(Y6||(Y6=F([`
  position: relative;
  cursor: default;
  box-sizing: border-box;

  height: 18px;
  aspect-ratio: 1;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 16px;

  overflow: hidden;
  color: #ccc;
  &:hover {
    color: white;
  }

  border-radius: 99999px;
  border: 1px solid hwb(220deg 40% 52%);
  &:hover {
    border-color: hwb(220deg 45% 52%);
  }

  `,`
`])),e=>e.empty?Fn(Z6||(Z6=F([""]))):Fn(G6||(G6=F([""])))),eO=U.input.attrs({type:"file"})(J6||(J6=F([`
  display: none;
`]))),nO=U.img(tO||(tO=F([`
  position: absolute;
  inset: 0;
  height: 100%;
  aspect-ratio: 1;

  object-fit: cover;
`]))),oO=U.button(rO||(rO=F([`
  display: flex;
  align-items: center;
  justify-content: center;
  outline: none;
  background: transparent;
  color: #a8a8a9;

  border: none;
  height: 100%;
  aspect-ratio: 1/1;

  opacity: 0;

  `,`:hover & {
    opacity: 0.8;
  }

  &:hover {
    opacity: 1;
    color: white;
  }
`])),r1),iO=IJ});function OJ({propConfig:e,editingTools:t,value:n,autoFocus:o}){let[a,l]=Er.default.useState();(0,Er.useEffect)(()=>{l(n?t.getAssetUrl(n):void 0)},[n]);let s=(0,Er.useCallback)(d=>qt(this,null,function*(){let f=d.target.files[0];t.permanentlySetValue({type:"file",id:void 0});let m=yield t.createAsset(f);m?t.permanentlySetValue({type:"file",id:m}):t.permanentlySetValue(n),d.target.value=null}),[t,n]),u=!(n!=null&&n.id);return Er.default.createElement(o1,{empty:u},Er.default.createElement(fO,{empty:u,title:u?"Upload file":'"'.concat(n.id,'" (Click to upload new file)')},Er.default.createElement(hO,{type:"file",onChange:s,autoFocus:o}),a?Er.default.createElement(ly,null):Er.default.createElement(sO,null)),!u&&Er.default.createElement(gO,{title:"Delete file",onClick:()=>{t.permanentlySetValue({type:"file",id:void 0})}},Er.default.createElement(cy,null)))}var Er,aO,o1,lO,sO,uO,cO,dO,fO,pO,hO,mO,gO,vO,TJ=P(()=>{Au(),Er=$(G()),be(),o1=U.div(aO||(aO=F([`
  display: flex;
  align-items: center;
  height: 100%;
  gap: 4px;
`]))),sO=U.div(lO||(lO=F([`
  position: absolute;
  inset: -5px;
  // rotate 45deg
  transform: rotate(45deg);
  --checker-color: #ededed36;
  &:hover {
    --checker-color: #ededed77;
  }
  // checkerboard background with 4px squares
  background-image: linear-gradient(
      45deg,
      var(--checker-color) 25%,
      transparent 25%
    ),
    linear-gradient(-45deg, var(--checker-color) 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, var(--checker-color) 75%),
    linear-gradient(-45deg, transparent 75%, var(--checker-color) 75%);
  background-size: 5px 5px;
`]))),fO=U.label(dO||(dO=F([`
  position: relative;
  cursor: default;
  box-sizing: border-box;

  height: 18px;
  aspect-ratio: 1;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 16px;

  overflow: hidden;
  color: #ccc;
  &:hover {
    color: white;
  }

  border-radius: 99999px;
  border: 1px solid hwb(220deg 40% 52%);
  &:hover {
    border-color: hwb(220deg 45% 52%);
  }

  `,`
`])),e=>e.empty?Fn(uO||(uO=F([""]))):Fn(cO||(cO=F([""])))),hO=U.input.attrs({type:"file"})(pO||(pO=F([`
  display: none;
`]))),gO=U.button(mO||(mO=F([`
  display: flex;
  align-items: center;
  justify-content: center;
  outline: none;
  background: transparent;
  color: #a8a8a9;

  border: none;
  height: 100%;
  aspect-ratio: 1/1;

  opacity: 0;

  `,`:hover & {
    opacity: 0.8;
  }

  &:hover {
    opacity: 1;
    color: white;
  }
`])),o1),vO=OJ}),i1,yO=P(()=>{gQ(),Wj(),rJ(),iJ(),CJ(),jJ(),TJ(),i1={number:jy,string:h4,boolean:bj,stringLiteral:l4,rgba:q6,image:iO,file:vO}});function Lu(e){let t=new WeakMap;return n=>(t.has(n)||t.set(n,e(n)),t.get(n))}var xp=P(()=>{});function eo(e){return e.type==="compound"||e.type==="enum"}function Sp(e,t){if(!e)return;let[n,...o]=t;if(n===void 0)return e;if(!eo(e))return;let a=e.type==="enum"?e.cases[n]:e.props[n];return Sp(a,o)}function Ep(e,t){let n=t.deserializeAndSanitize(e);return n===void 0?t.default:n}function zJ(e){return!eo(e)}function*Xu(e,t){if(e.type==="compound")for(let n in e.props)yield*mq(Xu(e.props[n],[...t,n]));else{if(e.type==="enum")throw new Error("Not implemented yet");return yield{path:t,conf:e}}}var a1,mi=P(()=>{xp(),a1=Lu(e=>{if(e.type==="enum")throw new Error("Not implemented yet for enums");for(let t in e.props){let n=e.props[t];if(eo(n)){if(a1(n))return!0}else return!0}return!1})}),l1,bO=P(()=>{l1="calc(var(--left-pad) + var(--depth) * var(--step))"}),kO,gi,ka=P(()=>{be(),gi=Fn(kO||(kO=F([`
  font-weight: 300;
  font-size: 11px;
  color: `,`;
  text-shadow: 0.5px 0.5px 2px rgba(0, 0, 0, 0.3);
`])),e=>e.isHighlighted==="self"?"#CCC":"#919191")}),Zu,_p,wO,xO,SO,EO,_O,PO,CO=P(()=>{Vl(),Zu=$(G()),be(),_p=26,xO=U.li(wO||(wO=F([`
  height: `,`px;
  padding: 0 12px;
  margin: 0;
  display: flex;
  align-items: center;
  font-size: 11px;
  font-weight: 400;
  position: relative;
  color: `,`;
  cursor: `,`;

  &:after {
    position: absolute;
    inset: 2px 1px;
    display: block;
    content: ' ';
    pointer-events: none;
    z-index: -1;
    border-radius: 3px;
  }

  &:hover:after {
    background-color: `,`;
  }
`])),_p,e=>e.enabled?"white":"#8f8f8f",e=>e.enabled?"normal":"not-allowed",e=>e.enabled?"rgba(63, 174, 191, 0.75)":"initial"),EO=U.span(SO||(SO=F([""]))),_O=e=>Zu.default.createElement(xO,{onClick:e.enabled?e.onClick:wr,enabled:e.enabled,title:e.enabled?void 0:"Disabled"},Zu.default.createElement(EO,null,Zu.default.createElement(Zu.default.Fragment,null,e.label))),PO=_O});function DJ(e){let t=(0,s1.useRef)(e);t.current=e,(0,s1.useEffect)(()=>{let n=o=>t.current(o);return window.addEventListener("keydown",n),()=>{window.removeEventListener("keydown",n)}},[])}var s1,AJ=P(()=>{s1=$(G())}),Gu,IO,jO,OO,TO,zO,DO,AO,u1,BO=P(()=>{Gu=$(G()),CO(),be(),Rn(),rt(),IO=190,jO=!0,TO=U.ul(OO||(OO=F([`
  position: absolute;
  min-width: `,`px;
  z-index: 10000;
  background: `,`;
  backdrop-filter: blur(2px);
  color: white;
  list-style-type: none;
  padding: 2px 0;
  margin: 0;
  border-radius: 1px;
  cursor: default;
  `,`;
  border-radius: 3px;
`])),IO,kr(.2,"#111"),tt),DO=U.div(zO||(zO=F([`
  padding: 4px 10px;
  border-bottom: 1px solid #6262626d;
  color: #adadadb3;
  font-size: 11px;
  font-weight: 500;
`]))),AO=Gu.default.forwardRef((e,t)=>Gu.default.createElement(TO,{ref:t},jO&&e.displayName?Gu.default.createElement(DO,null,e.displayName):null,e.items.map((n,o)=>Gu.default.createElement(PO,{key:"item-".concat(o),label:n.label,enabled:n.enabled!==!1,onClick:a=>{n.callback&&n.callback(a),e.onRequestClose()}})))),u1=AO}),MO,NO,Pp,FO,Yu,RO,UO,BJ=P(()=>{h6(),MO=$(G()),NO=$(G()),Pp=$(G()),FO=$(So()),Xy(),CO(),va(),AJ(),BO(),Yu=20,RO=e=>{let[t,n]=(0,Pp.useState)(null),o=Zy(t),a=bp();(0,Pp.useLayoutEffect)(()=>{if(!o||!t)return;let u={left:o.width/2,top:_p/2+(e.displayName?_p:0)},d={left:e.clickPoint.clientX-u.left,top:e.clickPoint.clientY-u.top};d.left<0?d.left=0:d.left+o.width>a.width&&(d.left=a.width-o.width),d.top<0?d.top=0:d.top+o.height>a.height&&(d.top=a.height-o.height),t.style.left=d.left+"px",t.style.top=d.top+"px";let f=m=>{(m.clientX<d.left-Yu||m.clientX>d.left+o.width+Yu||m.clientY<d.top-Yu||m.clientY>d.top+o.height+Yu)&&e.onRequestClose()};return window.addEventListener("mousemove",f),()=>{window.removeEventListener("mousemove",f)}},[o,t,e.clickPoint,a,e.onRequestClose]);let l=(0,NO.useContext)(Fl);DJ(u=>{u.key==="Escape"&&e.onRequestClose()});let s=(0,MO.useMemo)(()=>{let u=Array.isArray(e.items)?e.items:e.items();return u.length>0?u:[{label:e.displayName?"No actions for ".concat(e.displayName):"No actions found",enabled:!1}]},[e.items]);return(0,FO.createPortal)(Pp.default.createElement(u1,{items:s,onRequestClose:e.onRequestClose,displayName:e.displayName,ref:n}),l)},UO=RO}),Cp,VO,KO,MJ=P(()=>{Cp=$(G()),VO=(e,t)=>{let[n,o]=(0,Cp.useState)({isOpen:!1}),a=(0,Cp.useCallback)(()=>o({isOpen:!1}),[]);return(0,Cp.useEffect)(()=>{if(!e||t.disabled===!0){o({isOpen:!1});return}let l=s=>{o({isOpen:!0,event:s}),s.preventDefault(),s.stopPropagation()};return e.addEventListener("contextmenu",l),()=>{e.removeEventListener("contextmenu",l)}},[e,t.disabled]),[n,a]},KO=VO});function bn(e,t){let[n,o]=KO(e,t),[,a]=(0,Yl.useContext)(kc);return(0,Yl.useEffect)(()=>{var l;let s;return n.isOpen&&((l=t.onOpen)==null||l.call(t),s=a()),()=>s==null?void 0:s()},[n.isOpen,t.onOpen]),[n.isOpen?Yl.default.createElement(UO,{items:t.menuItems,displayName:t.displayName,clickPoint:n.event,onRequestClose:o}):WO,o,n.isOpen]}var Yl,WO,kn=P(()=>{Yl=$(G()),BJ(),MJ(),W1(),WO=Yl.default.createElement(Yl.default.Fragment,null)});function vi(e,t){return t.length===0?e:la(e,t)}var Ip=P(()=>{hu()});function HO(e,t){return e==null?null:e instanceof Element&&e.matches(t)?e:HO(e.parentElement,t)}var NJ=P(()=>{});function Qu(e,t){let n=e;for(let o of t)n=n[o];return n}var jp=P(()=>{});function FJ(e){let t=new Op.Atom(void 0),n=new Op.Atom({}),o=new Op.Atom({}),a=0;return{addRelatedFlags(l,s){let u=String(++a),d=s.map(f=>{let m={flag:f.flag},v=[f.affects,l,u];return o.setByPointer(g=>Qu(g,v),m),v});return()=>{for(let f of d)o.setByPointer(m=>Qu(m,f),void 0)}},usePresenceFlag(l){if(!e.enabled)return;let s=(0,Ju.useMemo)(()=>{if(!l)return d1;let u=t.prism,d=(0,ec.pointerToPrism)(n.pointer[l]),f=(0,ec.pointerToPrism)(o.pointer[l]);return(0,ec.prism)(()=>{if(d.getValue())return 2;{let m=f.getValue(),v=u.getValue(),g=m&&v&&m[v];if(g){let h;for(let b of Object.values(g))b&&(h&&h>=b.flag||(h=b.flag));return h}return}})},[l]);return wf(s)},setUserHover(l){let s=t.get();s!==l&&(s&&n.setByPointer(u=>u[s],!1),t.set(l),l&&n.setByPointer(u=>u[l],!0))}}}function wa(e){let t=Ju.default.useContext(f1),n=t.usePresenceFlag(e);return{attrs:{[Tp]:e},flag:n,useRelations(o,a){(0,c1.useEffect)(()=>e&&t.addRelatedFlags(e,o()),[e,...a])}}}function qO(e){let t=Ju.default.useContext(f1),n=fi("PresenceListeners");(0,c1.useEffect)(()=>{let o;if(!e)return;let a=l=>{if(l.target instanceof Node){let s=HO(l.target,"[".concat(Tp,"]"));if(s){let u=s.getAttribute(Tp);o!==u&&(o=u,t.setUserHover(u||void 0),n._debug("Updated current hover",{itemKey:u}));return}o!=null&&(o=null,t.setUserHover(void 0),n._debug("Cleared current hover"))}};return e.addEventListener("mouseover",a),()=>{e.removeEventListener("mouseover",a),o!=null&&(o=null,n._debug("Cleared current hover as part of cleanup"))}},[e,t])}var Ju,c1,ec,Op,d1,f1,Tp,xa=P(()=>{Ju=$(G()),c1=$(G()),pi(),ec=je,Op=je,Fe(),NJ(),jp(),d1=(0,ec.prism)(()=>{}),d1.keepHot(),f1=Ju.default.createContext(FJ({enabled:!1})),Tp="data-pi-key"}),Gt,$O,tc,LO,p1,yi,XO,h1,ZO,GO,YO,zp,QO,JO,e8,t8,n8,r8,nc,o8,m1,Dp=P(()=>{rt(),Rn(),Gt=$(G()),be(),xa(),tc=U.div($O||($O=F([`
  display: flex;
  justify-content: center;
  align-items: center;
  width: 16px;
  margin: 0 0px 0 2px;
  position: relative;
  z-index: 0;
  opacity: 0.7;

  &:after {
    position: absolute;
    left: -14px;
    right: -14px;
    top: -2px;
    bottom: -2px;
    content: ' ';
    display: none;
    z-index: -1;
    background: `,`;
  }

  &:hover {
    opacity: 1;
    &:after {
      display: block;
    }
  }
`])),kr(.2,"black")),p1=U.div(LO||(LO=F([`
  background: none;
  position: relative;
  border: 0;
  transition: transform 0.1s ease-out;
  z-index: 0;
  outline: none;
  cursor: pointer;

  &:after {
    display: none;
    `,`:hover & {
      display: block;
    }
    position: absolute;
    left: -4px;
    right: -4px;
    top: -4px;
    bottom: -4px;
    content: ' ';
    z-index: -1;
  }
`])),tc),yi={offColor:"#555",onColor:"#e0c917"},h1=U(p1)(XO||(XO=F([`
  &:hover {
    color: #e0c917;
  }

  color: `,`;
`])),e=>e.presence===2?"white":e.isOn?yi.onColor:yi.offColor),GO=Fn(ZO||(ZO=F([`
  pointer-events: none !important;
`]))),zp=U(p1)(YO||(YO=F([`
  color: `,`;

  `,`;
`])),e=>e.flag===2?"white":e.available?yi.onColor:yi.offColor,e=>e.available?tt:GO),JO=U(zp)(QO||(QO=F([`
  transform: translateX(2px);
  `,`:hover & {
    transform: translateX(-7px);
  }
`])),tc),t8=U(zp)(e8||(e8=F([`
  transform: translateX(-2px);
  `,`:hover & {
    transform: translateX(7px);
  }
`])),tc),(e=>{let t=U.g(n8||(n8=F([`
    stroke-width: 1;
    `,`:hover & path {
      stroke-width: 3;
    }
  `])),zp);e.Prev=()=>Gt.default.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Gt.default.createElement(t,{transform:"translate(6 3)"},Gt.default.createElement("path",{d:"M4 1L1 4L4 7",stroke:"currentColor"}))),e.Next=()=>Gt.default.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Gt.default.createElement(t,{transform:"translate(1 3)"},Gt.default.createElement("path",{d:"M1 1L4 4L1 7",stroke:"currentColor"})));let n=U.g(r8||(r8=F([`
    stroke-width: 0;
    `,`:hover & path {
      stroke: currentColor;
      stroke-width: 2;
    }
  `])),h1);e.Cur=()=>Gt.default.createElement("svg",{width:"8",height:"12",viewBox:"0 0 8 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Gt.default.createElement(n,{transform:"translate(1 4)"},Gt.default.createElement("path",{d:"M3 0L6 3L3 6L0 3L3 0Z",fill:"currentColor"})))})(nc||(nc={})),o8=e=>{var t,n,o,a,l;let s=wa((t=e.prev)==null?void 0:t.itemKey),u=wa(((n=e.cur)==null?void 0:n.type)==="on"?e.cur.itemKey:void 0),d=wa((o=e.next)==null?void 0:o.itemKey);return Gt.default.createElement(tc,null,Gt.default.createElement(JO,L({available:!!e.prev,onClick:(a=e.prev)==null?void 0:a.jump,flag:s.flag},s.attrs),Gt.default.createElement(nc.Prev,null)),Gt.default.createElement(h1,L({isOn:e.cur.type==="on",onClick:e.cur.toggle,presence:u.flag},u.attrs),Gt.default.createElement(nc.Cur,null)),Gt.default.createElement(t8,L({available:!!e.next,onClick:(l=e.next)==null?void 0:l.jump,flag:d.flag},d.attrs),Gt.default.createElement(nc.Next,null)))},m1=o8}),Ap,rc,i8,a8,l8,s8,u8,c8,d8,oc,f8=P(()=>{Rn(),Ap=$(G()),be(),Me(),Dp(),mi(),rc={defaultState:{color:kr(.95,"#C4C4C4"),hoverColor:kr(.15,yi.onColor)},withStaticOverride:{color:kr(.85,"#C4C4C4"),hoverColor:kr(.15,yi.onColor)}},a8=U.div(i8||(i8=F([`
  width: 16px;
  margin: 0 0px 0 2px;
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;

  color: `,`;

  &:hover {
    color: `,`;
  }
`])),e=>e.hasStaticOverride?rc.withStaticOverride.color:rc.defaultState.color,e=>e.hasStaticOverride?rc.withStaticOverride.hoverColor:rc.defaultState.hoverColor),s8=U.div(l8||(l8=F([`
  width: 5px;
  height: 5px;
  border-radius: 1px;
  transform: rotate(45deg);
  /* border: 1px solid currentColor; */
  background-color: currentColor;
`]))),c8=U.div(u8||(u8=F([`
  width: 5px;
  height: 5px;
  background-color: currentColor;
  border-radius: 1px;
  transform: rotate(45deg);
`]))),d8=e=>{let{hasStaticOverride:t,obj:n,propConfig:o,pathToProp:a}=e;return Ap.default.createElement(a8,{hasStaticOverride:t,onClick:()=>{de().transaction(({stateEditors:l})=>{for(let{path:s,conf:u}of Xu(o,a)){if(eo(u))continue;let d=he(L({},n.address),{pathToProp:s});l.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsSequenced(d,o)}})},title:"Sequence this prop"},t?Ap.default.createElement(c8,{title:"The default value is overridden"}):Ap.default.createElement(s8,{title:"This is the default value for this prop"}))},oc=d8});function ic(e){return JSON.stringify(g1(e))}function g1(e){return ff(e)?Object.keys(e).sort().reduce((t,n)=>(t[n]=g1(e[n]),t),{}):Array.isArray(e)?e.map(g1):e}var RJ=P(()=>{Rt()}),p8,ac,h8=P(()=>{p8="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",ac=(e=21)=>{let t="",n=e;for(;n--;)t+=p8[Math.random()*64|0];return t}});function m8(){return ac(10)}function UJ(){return ac(10)}function VJ(){return ac(10)}var Ut,Ao=P(()=>{RJ(),h8(),Ut={forSheet(){return"sheet"},forSheetObject(e){return ic({o:e.address.objectKey})},forSheetObjectProp(e,t){return ic({o:e.address.objectKey,p:t})},forTrackKeyframe(e,t,n){return ic({o:e.address.objectKey,t,k:n})},forSheetObjectAggregateKeyframe(e,t){return Ut.forCompoundPropAggregateKeyframe(e,[],t)},forSheetAggregateKeyframe(e,t){return ic({o:e.address.sheetId,pos:t})},forCompoundPropAggregateKeyframe(e,t,n){return ic({o:e.address.objectKey,p:t,pos:n})}}});function g8(e,t,n){if(!t||t.data.keyframes.length===0)return v8;let o=v1.get(t.data);if(o&&o[0]===n)return o[1];function a(s){if(!t)return;let u=t.data.keyframes[s];return u&&{kf:u,track:t,itemKey:Ut.forTrackKeyframe(e,t.id,u.id)}}let l=(()=>{let s=t.data.keyframes.findIndex(d=>d.position>=n);if(s===-1)return{prev:a(t.data.keyframes.length-1)};let u=a(s);return u.kf.position===n?{prev:a(s-1),cur:u,next:a(s+1)}:{next:u,prev:a(s-1)}})();return v1.set(t.data,[n,l]),l}var v1,v8,y8=P(()=>{Ao(),v1=new WeakMap,v8={}}),y1,b8=P(()=>{y1={}});function KJ(e,t,n){let o=(0,Qn.getPointerParts)(e).path;return Ge(()=>{if(!a1(n))return{type:"AllStatic",beingScrubbed:!1,contextMenuItems:[],controlIndicators:Sa.default.createElement(oc,{hasStaticOverride:!1,obj:t,pathToProp:o,propConfig:n})};let a=!!(0,Qn.val)(la(de().atomP.ephemeral.projects.stateByProjectId[t.address.projectId].stateBySheetId[t.address.sheetId].stateByObjectKey[t.address.objectKey].valuesBeingScrubbed,(0,Qn.getPointerParts)(e).path)),l=[],s={beingScrubbed:a,contextMenuItems:l,controlIndicators:Sa.default.createElement(Sa.default.Fragment,null)},u=(0,Qn.val)(t.template.getMapOfValidSequenceTracks_forStudio()),d=vi(u,o),f=d!==void 0&&Object.keys(d).length!==0,m=[],v=(0,Qn.val)(t.template.getStaticButNotSequencedOverrides()),g=vi(v??y1,o)!==void 0;if(f)for(let h of Xu(n,[])){if(eo(h.conf))continue;let b=vi(d,h.path);typeof b!="string"?g=!0:m.push(b)}if((g||f)&&l.push({label:"Reset all to default",callback:()=>{de().transaction(({unset:h})=>{h(e)})}}),f&&l.push({label:"Make all static",callback:()=>{de().transaction(({stateEditors:h})=>{for(let{path:b,conf:y}of Xu(n,[])){if(eo(y))continue;let k=he(L({},t.address),{pathToProp:[...o,...b]}),x=Qu(e,b);h.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsStatic(he(L({},k),{value:t.getValueByPointer(x)}))}})}}),(!f||f&&g)&&l.push({label:"Sequence all",callback:()=>{de().transaction(({stateEditors:h})=>{for(let{path:b,conf:y}of Xu(n,o)){if(eo(y))continue;let k=he(L({},t.address),{pathToProp:b});h.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsSequenced(k,n)}})}}),f){let h=Qn.prism.memo("controlIndicators",()=>Sa.default.createElement(WJ,{pointerToProp:e,obj:t,possibleSequenceTrackIds:d,listOfDescendantTrackIds:m}),[d,m]);return he(L({},s),{type:"HasSequences",controlIndicators:h})}else return he(L({},s),{type:"AllStatic",controlIndicators:Sa.default.createElement(oc,{hasStaticOverride:g,obj:t,pathToProp:o,propConfig:n})})},[])}function WJ({pointerToProp:e,obj:t,possibleSequenceTrackIds:n,listOfDescendantTrackIds:o}){return Ge(()=>{let a=(0,Qn.getPointerParts)(e).path,l=(0,Qn.val)(t.sheet.getSequence().positionPrism),s=o.map(h=>({trackId:h,track:(0,Qn.val)(t.template.project.pointers.historic.sheetsById[t.address.sheetId].sequence.tracksByObject[t.address.objectKey].trackData[h])})).filter(({track:h})=>!!h).map(h=>he(L({},h),{nearbies:g8(t,{id:h.trackId,data:h.track,sheetObject:t},l)})),u=s.find(({nearbies:h})=>!!h.cur),d=s.every(({nearbies:h})=>!!h.cur),f=s.reduce((h,b)=>b.nearbies.prev&&(h===void 0||b.nearbies.prev.kf.position>h.kf.position)?b.nearbies.prev:h,void 0),m=s.reduce((h,b)=>b.nearbies.next&&(h===void 0||b.nearbies.next.kf.position<h.kf.position)?b.nearbies.next:h,void 0),v=()=>{d?de().transaction(h=>{h.unset(e)}):u?de().transaction(h=>{h.set(e,(0,Qn.val)(e))}):de().transaction(h=>{h.set(e,(0,Qn.val)(e))})},g={cur:u?{type:"on",itemKey:Ut.forCompoundPropAggregateKeyframe(t,a,l),toggle:v}:{toggle:v,type:"off"},prev:f!==void 0?{position:f.kf.position,itemKey:Ut.forCompoundPropAggregateKeyframe(t,a,f.kf.position),jump:()=>{t.sheet.getSequence().position=f.kf.position}}:void 0,next:m!==void 0?{position:m.kf.position,itemKey:Ut.forCompoundPropAggregateKeyframe(t,a,m.kf.position),jump:()=>{t.sheet.getSequence().position=m.kf.position}}:void 0};return Sa.default.createElement(m1,L({},g))},[e,t,n,o])}var Qn,Sa,HJ=P(()=>{Me(),Ip(),Fe(),Qn=je,hu(),Sa=$(G()),f8(),mi(),Ao(),jp(),Dp(),y8(),b8()});function qJ(){let e=0,t=new x8.Atom({hasLock:!1});return{replaceLock(n,o){let a=e++,l=t.get();return l.hasLock&&l.cleanup(),t.set({hasLock:!0,lockId:a,cleanup:o,deepPath:$J(k8(n))}),function(){let s=t.get();s.hasLock&&s.lockId===a&&(s.cleanup(),t.set({hasLock:!1}))}},getIsPropHighlightedD(n){let o=Qu(t.pointer.deepPath,k8(n));return(0,S8.prism)(()=>{let a=(0,w8.val)(o);return a===!0?"self":a?"descendent":null})}}}function k8(e){return[e.projectId,e.sheetId,e.objectKey,...e.pathToProp]}function $J(e){let t={};return Il(t,e,!0),t}var w8,x8,S8,Bp,b1=P(()=>{w8=je,x8=je,S8=je,jp(),ov(),Bp=qJ()});function LJ(e,t){return JSON.stringify(e,t,2).replace(/^([\{\[])\n (\s+)/,"$1$2").replace(/(\n[ ]+[\{\[])\n\s+/g,"$1 ").replace(/\n\s*([\]\}])/g," $1")}var XJ=P(()=>{});function E8(e,t=!0){try{return typeof e=="string"?e:typeof e=="function"||e instanceof Error?e.toString():t?LJ(e):JSON.stringify(e)}catch{return(e==null?void 0:e.name)||String(e)}}var ZJ=P(()=>{XJ()});function GJ(e,t,n){e||(arguments.length>2?_8(t,n):_8(t))}function _8(e,t){let n=arguments.length>1,o=E8(typeof e=="function"?e():e),a=n?`
Instead found: `.concat(E8(t)):"";throw new O8("Invariant: ".concat(o).concat(a),t)}var P8,C8,I8,j8,O8,YJ=P(()=>{ZJ(),P8=/^\s*at.+node:internal.+/gm,C8=/^\s*(at|[^@]+@) (?:Object\.)?invariant.+/gm,I8=/^\s*(at|[^@]+@).+test\-helpers.+/gm,j8=/^\s*(at|[^@]+@).+(debounce|invariant|iif)\.[tj]s.*/gm,O8=class extends Error{constructor(e,t){var n;super(e),et(this,"found"),t!==void 0&&(this.found=t),this.stack=(n=this.stack)==null?void 0:n.replace(C8,"").replace(j8,"").replace(I8,"").replace(P8,"")}}});function QJ(e){return(0,Mp.prism)(()=>{if(Array.isArray(e)){let t=new Array(e.length);for(let n=0;n<e.length;n++)t[n]=e[n].getValue();return t}else{let t={};for(let n in e)t[n]=(0,Mp.val)(e[n]);return t}})}function k1(e){let t=Ql.default.memo(Ql.default.forwardRef(function(n,o){let a=[],l={},s={ref:o};for(let m in n){let v=n[m];(0,Mp.isPrism)(v)?(a.push(v),l[m]=v):s[m]=v}let u=(0,Ql.useRef)(a.length);GJ(u.current===a.length,"expect same number of observable props on every invocation of deriver wrapped component.",{initial:u.current,count:a.length});let d=(0,Ql.useMemo)(()=>QJ(l),a),f=wf(d);return f&&Ql.default.createElement(e,L(L({},s),f))}));return t.displayName="deriver(".concat(e.displayName,")"),t}var Mp,Ql,T8=P(()=>{Mp=je,Fe(),Ql=$(G()),YJ()});function JJ(e,t,n){return(0,_r.prism)(()=>{var o;let a=(0,_r.getPointerParts)(e).path,l=t.getValueByPointer(e),s=_r.prism.memo("editPropValue",()=>{let b=null;return{temporarilySetValue(y){b||(b=de().scrub()),b.capture(k=>{k.set(e,y)})},discardTemporaryValue(){b&&(b.discard(),b=null)},permanentlySetValue(y){b?(b.capture(k=>{k.set(e,y)}),b.commit(),b=null):de().transaction(k=>{k.set(e,y)})}}},[]),u={createAsset:b=>t.sheet.project.assetStorage.createAsset(b),getAssetUrl:b=>b.id?t.sheet.project.assetStorage.getAssetUrl(b.id):void 0},d=(0,_r.val)(la(de().atomP.ephemeral.projects.stateByProjectId[t.address.projectId].stateBySheetId[t.address.sheetId].stateByObjectKey[t.address.objectKey].valuesBeingScrubbed,(0,_r.getPointerParts)(e).path))===!0,f=[],m=he(L(L({},s),u),{value:l,beingScrubbed:d,contextMenuItems:f,controlIndicators:Jl.default.createElement(Jl.default.Fragment,null)}),v=zJ(n);if(v){let b=(0,_r.val)(t.template.getMapOfValidSequenceTracks_forStudio()),y=vi(b,a);if(typeof y=="string"){f.push({label:"Make static",callback:()=>{de().transaction(({stateEditors:z})=>{let K=he(L({},t.address),{pathToProp:a});z.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsStatic(he(L({},K),{value:t.getValueByPointer(e)}))})}});let k=y,x=_r.prism.sub("lcr",()=>{let z=(0,_r.val)(t.template.project.pointers.historic.sheetsById[t.address.sheetId].sequence.tracksByObject[t.address.objectKey].trackData[k]),K=(0,_r.val)(t.sheet.getSequence().positionPrism);return g8(t,z&&{data:z,id:k,sheetObject:t},K)},[k]),S;m.beingScrubbed?S="Sequenced_OnKeyframe_BeingScrubbed":x.cur?S="Sequenced_OnKeyframe":((o=x.prev)==null?void 0:o.kf.connectedRight)===!0?S="Sequenced_BeingInterpolated":S="Sequened_NotBeingInterpolated";let _=()=>{x.cur?de().transaction(z=>{z.unset(e)}):de().transaction(z=>{z.set(e,m.value)})},O={cur:x.cur?{type:"on",itemKey:x.cur.itemKey,toggle:_}:{type:"off",toggle:_},prev:x.prev!==void 0?{itemKey:x.prev.itemKey,position:x.prev.kf.position,jump:()=>{t.sheet.getSequence().position=x.prev.kf.position}}:void 0,next:x.next!==void 0?{itemKey:x.next.itemKey,position:x.next.kf.position,jump:()=>{t.sheet.getSequence().position=x.next.kf.position}}:void 0},j=Jl.default.createElement(m1,L({},O));return he(L({},m),{type:"Sequenced",shade:S,nearbyKeyframes:x,controlIndicators:j})}}let g=(0,_r.val)(t.template.getStaticValues()),h=vi(g,a);return typeof h<"u"&&f.push({label:"Reset to default",callback:()=>{de().transaction(({unset:b})=>{b(e)})}}),v&&f.push({label:"Sequence",callback:()=>{de().transaction(({stateEditors:b})=>{let y=he(L({},t.address),{pathToProp:a});b.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsSequenced(y,n)})}}),typeof h<"u"?he(L({},m),{type:"Static",shade:m.beingScrubbed?"Static_BeingScrubbed":"Static",controlIndicators:Jl.default.createElement(oc,{hasStaticOverride:!0,obj:t,pathToProp:a,propConfig:n})}):he(L({},m),{type:"Default",shade:"Default",controlIndicators:Jl.default.createElement(oc,{hasStaticOverride:!0,obj:t,pathToProp:a,propConfig:n})})})}function eee(e,t,n){if(Np.has(e))return Np.get(e);{let o=JJ(e,t,n);return Np.set(e,o),o}}function w1(e,t,n){let o=eee(e,t,n);return wf(o)}var Jl,_r,Np,x1=P(()=>{hu(),Jl=$(G()),_r=je,Me(),Ip(),Fe(),mi(),f8(),y8(),Dp(),Np=new WeakMap});function tee({propConfig:e,pointerToProp:t,obj:n,SimpleEditorComponent:o}){let a=w1(t,n,e);return Yt.default.createElement(jy,{editingTools:a,propConfig:e,value:a.value})}function nee({pointerToProp:e,obj:t,propConfig:n,visualIndentation:o}){var a;let l=(a=n.label)!=null?a:ua((0,lc.getPointerParts)(e).path),s=Object.entries(n.props),u=s.filter(([_,O])=>eo(O)),d=s.filter(([_,O])=>!eo(O)),[f,m]=Qe(null),v=KJ(e,t,n),[g]=bn(m,{menuItems:v.contextMenuItems}),h=u.length>0,b=(0,Yt.useMemo)(()=>Bp.getIsPropHighlightedD(he(L({},t.address),{pathToProp:(0,lc.getPointerParts)(e).path})),[e]),y="".concat(t.address.projectId,",").concat(t.address.sheetId,",").concat(t.address.sheetInstanceId,",").concat(t.address.objectKey,",").concat((0,lc.getPointerParts)(e).path.join()),k=L8(n);(0,Yt.useLayoutEffect)(()=>{Fp.has(y)||Fp.set(y,new lc.Atom(k))},[y,n]);let x=Fp.get(y),S=Ge(()=>x?(0,z8.val)(x.pointer):k,[x]);return Yt.default.createElement(A8,null,g,Yt.default.createElement(S1,{style:{"--depth":o-1}},Yt.default.createElement(N8,{isVectorProp:k},Yt.default.createElement(R8,null,v.controlIndicators),Yt.default.createElement(V8,{isHighlighted:b,ref:f},Yt.default.createElement("span",null,l||"Props")),Yt.default.createElement(W8,{isCollapsed:S,isVector:k,onClick:()=>{x==null||x.set(!x.get())}},Yt.default.createElement(Jj,null))),k&&S&&Yt.default.createElement(Z8,null,[...s].map(([_,O])=>Yt.default.createElement(tee,{key:"prop-"+_,propConfig:O,pointerToProp:e[_],obj:t})))),!S&&Yt.default.createElement($8,{style:{"--depth":o},depth:o,lastSubIsComposite:h},[...d,...u].map(([_,O])=>Yt.default.createElement(_1,{key:"prop-"+_,propConfig:O,pointerToProp:e[_],obj:t,visualIndentation:o+1}))))}var lc,Yt,z8,D8,A8,B8,S1,M8,N8,F8,R8,U8,V8,K8,W8,H8,q8,$8,L8,X8,Z8,G8,Fp,ree=P(()=>{mi(),lc=je,kf(),Rn(),Yt=$(G()),be(),bO(),ka(),rt(),nt(),cT(),kn(),HJ(),b1(),T8(),Wj(),x1(),Fe(),z8=je,Xl(),xp(),A8=U.div(D8||(D8=F([`
  --step: 15px;
  --left-pad: 15px;
  `,`;
  --right-width: 60%;
`])),tt),S1=U.div(B8||(B8=F([`
  height: 30px;
  display: flex;
  align-items: stretch;
  position: relative;
`]))),N8=U.div(M8||(M8=F([`
  padding-left: `,`;
  display: flex;
  align-items: center;
  overflow: hidden;
  `,`;
`])),l1,({isVectorProp:e})=>e?"width: calc(100% - var(--right-width))":""),R8=U.div(F8||(F8=F([`
  flexshrink: 0;
`]))),V8=k1(U.div(U8||(U8=F([`
  margin-left: 4px;
  cursor: default;
  height: 100%;
  display: flex;
  align-items: center;
  gap: 4px;
  user-select: none;
  &:hover {
    color: white;
  }
  overflow: hidden;

  `,`;
`])),()=>gi)),W8=U.span(K8||(K8=F([`
  width: 28px;
  height: 28px;
  font-size: 9px;
  display: flex;
  align-items: center;
  justify-content: center;

  transition: transform 0.05s ease-out, color 0.1s ease-out;
  transform: rotateZ(`,`deg);
  color: #66686a;

  visibility: `,`;

  `,`:hover & {
    visibility: visible;
  }

  &:hover {
    transform: rotateZ(`,`deg);
    color: #c0c4c9;
  }
`])),e=>e.isCollapsed?0:90,e=>!e.isVector&&e.isCollapsed||e.isVector&&!e.isCollapsed?"visible":"hidden",S1,e=>e.isCollapsed?15:75),H8=kr(.05,"#282b2f"),$8=U.div(q8||(q8=F([`
  /* background: `,`; */
  /* padding: `,` 0; */
`])),({depth:e})=>Pu(e*.03,H8),e=>e.lastSubIsComposite?0:"4px"),L8=Lu(e=>{let t=Object.entries(e.props);return t.length<=3&&t.every(([n,o])=>o.type==="number"&&["x","y","z"].includes(n))}),Z8=U.div(X8||(X8=F([`
  display: flex;
  align-items: center;
  justify-content: stretch;
  padding: 0 8px 0 2px;
  box-sizing: border-box;
  height: 100%;
  width: var(--right-width);
  flex-shrink: 0;
  flex-grow: 0;
`]))),G8=Yt.default.memo(nee),Fp=new Map});function oee({isHighlighted:e}){return e==="self"?"#1857a4":e==="descendent"?"#0a2f5c":"initial"}var iee=P(()=>{});function aee({propConfig:e,pointerToProp:t,editingTools:n,children:o,isPropHighlightedD:a}){var l;let s=(l=e.label)!=null?l:ua((0,E1.getPointerParts)(t).path),[u,d]=Qe(null),[f]=bn(d,{menuItems:n.contextMenuItems});return es.default.createElement(Q8,{isHighlighted:a},f,es.default.createElement(eT,null,es.default.createElement(oT,null,n.controlIndicators),es.default.createElement(nT,{isHighlighted:a,ref:u,title:["obj","props",...(0,E1.getPointerParts)(t).path].join(".")},s)),es.default.createElement(aT,null,o))}var E1,es,Y8,Q8,J8,eT,tT,nT,rT,oT,iT,aT,lee=P(()=>{E1=je,kn(),nt(),Rt(),es=$(G()),be(),rt(),ka(),T8(),bO(),iee(),Q8=k1(U.div(Y8||(Y8=F([`
  display: flex;
  height: 30px;
  justify-content: flex-start;
  align-items: stretch;
  // We cannot calculate both the container (details panel) width and the descendant
  // (this) width dynamically. This leads to the container width being calculated
  // without this percentage being taken into consideration leads to horizontal
  // clipping/scrolling--the same way as if we explicitly fixed either the container
  // width, or the descendant width.
  // The correct solution for tabulated UIs with dynamic container widths is to use
  // CSS grid. For now I fixed this issue by just giving a great enough width
  // to the details panel so most things don't break.
  --right-width: 60%;
  position: relative;
  `,`;

  /* background-color: `,`; */
`])),tt,oee)),eT=U.div(J8||(J8=F([`
  box-sizing: border-box;
  padding-left: `,`;
  padding-right: 4px;
  display: flex;
  flex-direction: row;
  justify-content: flex-start;
  align-items: stretch;
  gap: 4px;
  flex-grow: 0;
  flex-shrink: 0;
  width: calc(100% - var(--right-width));
`])),l1),nT=k1(U.div(tT||(tT=F([`
  text-align: left;
  flex: 1 0;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  display: flex;
  align-items: center;
  user-select: none;
  cursor: default;

  `,`;
  &:hover {
    color: white;
  }
`])),gi)),oT=U.div(rT||(rT=F([`
  flex-basis: 8px;
  flex: 0 0;
  display: flex;
  align-items: center;
`]))),aT=U.div(iT||(iT=F([`
  display: flex;
  align-items: center;
  justify-content: stretch;
  padding: 0 8px 0 2px;
  box-sizing: border-box;
  height: 100%;
  width: var(--right-width);
  flex-shrink: 0;
  flex-grow: 0;
`])))});function see({propConfig:e,pointerToProp:t,obj:n,SimpleEditorComponent:o}){let a=w1(t,n,e),l=(0,sc.useMemo)(()=>Bp.getIsPropHighlightedD(he(L({},n.address),{pathToProp:(0,lT.getPointerParts)(t).path})),[t]);return sc.default.createElement(aee,{editingTools:a,propConfig:e,pointerToProp:t,isPropHighlightedD:l},sc.default.createElement(o,{editingTools:a,propConfig:e,value:a.value}))}var sc,lT,sT,uee=P(()=>{sc=$(G()),x1(),lee(),lT=je,b1(),sT=sc.default.memo(see)}),uc,uT,_1,cT=P(()=>{uc=$(G()),yO(),ree(),uee(),uT=({propConfig:e,visualIndentation:t,pointerToProp:n,obj:o})=>{if(e.type==="compound")return uc.default.createElement(G8,{obj:o,visualIndentation:t,pointerToProp:n,propConfig:e});if(e.type==="enum")return uc.default.createElement(uc.default.Fragment,null);{let a=i1[e.type];return uc.default.createElement(sT,{SimpleEditorComponent:a,obj:o,visualIndentation:t,pointerToProp:n,propConfig:e})}},_1=uT});function dT(e){return Rp.has(e)||Rp.set(e,(fT++).toString()),Rp.get(e)}var Rp,fT,pT=P(()=>{Rp=new WeakMap,fT=0}),ts,hT,mT,gT,vT,yT,bT,cee=P(()=>{ts=$(G()),cT(),Fe(),pT(),be(),mT=U.div(hT||(hT=F([`
  display: flex;
  flex-direction: column;
  gap: 4px;
  padding: 8px;
`]))),vT=U.button(gT||(gT=F([`
  display: flex;
  align-items: center;
  justify-content: center;
  outline: none;
  border-radius: 2px;

  color: #a8a8a9;
  background: rgba(255, 255, 255, 0.1);

  border: none;
  height: 28px;

  &:hover {
    background: rgba(255, 255, 255, 0.15);
  }

  &:active {
    background: rgba(255, 255, 255, 0.2);
  }
`]))),yT=({objects:e})=>{let t=e[0],n=Ye(t.template.configPointer),o=Ye(t.template._temp_actionsPointer);return ts.default.createElement(ts.default.Fragment,null,ts.default.createElement(_1,{key:dT(t),obj:t,pointerToProp:t.propsP,propConfig:n,visualIndentation:1}),ts.default.createElement(mT,null,o&&Object.entries(o).map(([a,l])=>ts.default.createElement(vT,{key:a,onClick:()=>{l(t.publicApi)}},a))))},bT=yT}),kT,wT,Up,xT=P(()=>{be(),wT=U.button(kT||(kT=F([`
  text-align: center;
  padding: 8px;
  border-radius: 2px;
  border: 1px solid #627b7b87;
  background-color: #4b787d3d;
  color: #eaeaea;
  font-weight: 400;
  display: block;
  appearance: none;
  flex-grow: 1;
  cursor: `,`;
  opacity: `,`;

  &:hover {
    background-color: #7dc1c878;
    border-color: #9ebcbf;
  }
`])),e=>e.disabled?"none":"pointer",e=>e.disabled?.4:1),Up=wT}),dee=P(()=>{}),ST,fee=P(()=>{dee(),ST=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e));for(;e--;){let o=n[e]&63;o<36?t+=o.toString(36):o<62?t+=(o-26).toString(36).toUpperCase():o<63?t+="_":t+="-"}return t}});function ET(){return ST(16)}var _T=P(()=>{fee()}),PT,Bo,P1,CT,IT,jT,OT,TT=P(()=>{PT=je,nt(),Bo=$(G()),P1=(0,Bo.createContext)(null),CT=0,IT=()=>{let e=(0,Bo.useMemo)(()=>CT++,[]),{cur:t,set:n}=(0,Bo.useContext)(P1),[o,a]=Qe(!1),l=(0,Bo.useCallback)((s,u)=>{n(s?e:-1,u)},[]);return(0,Bo.useEffect)(()=>t.onStale(()=>{let s=t.getValue()===e;o.current!==s&&(o.current=s)}),[t,e]),[a,l]},jT=({children:e})=>{let t=(0,Bo.useMemo)(()=>new PT.Atom(-1),[]),n=t.prism,o=(0,Bo.useMemo)(()=>{let a;return(l,s)=>{let u=a!==void 0;a!==void 0&&(clearTimeout(a),a=void 0),s===0||u?t.set(l):a=setTimeout(()=>{t.set(l),a=void 0},s)}},[]);return Bo.default.createElement(P1.Provider,{value:{cur:n,set:o}},e)},OT=jT});function ns(e,t){let n=e.enabled!==!1,[o,a]=IT(),[l,s]=Qe(null);(0,DT.useEffect)(()=>{if(!n)return;let d=l.current;if(!d)return;let f=()=>{var v;return a(!0,(v=e.enterDelay)!=null?v:400)},m=()=>{var v;return a(!1,(v=e.exitDelay)!=null?v:200)};return d.addEventListener("mouseenter",f),d.addEventListener("mouseleave",m),()=>{d.removeEventListener("mouseenter",f),d.removeEventListener("mouseleave",m)}},[l,n,e.enterDelay,e.exitDelay]);let u=(0,zT.useContext)(Fl);return[n&&o&&s?(0,AT.createPortal)(Vp.default.createElement(Jy,{children:t,target:s,onClickOutside:wr,verticalPlacement:e.verticalPlacement,verticalGap:e.verticalGap}),u):Vp.default.createElement(Vp.default.Fragment,null),l,o]}var zT,DT,Vp,AT,cc=P(()=>{nt(),zT=$(G()),DT=$(G()),Vp=$(G()),k6(),AT=$(So()),TT(),va(),Vl()}),BT,MT,rs,Kp=P(()=>{be(),Qr(),MT=U(Yr)(BT||(BT=F([`
  padding: 1em;
  max-width: 240px;
  pointer-events: none !important;
  --popover-outer-stroke: transparent;
  --popover-inner-stroke: #45464d;
`]))),rs=MT}),to,NT,FT,RT,UT,VT,KT,WT,HT,qT,pee=P(()=>{Fe(),Me(),to=$(G()),be(),_T(),cc(),Kp(),xT(),FT=U.div(NT||(NT=F([`
  padding: 8px 10px;
  position: relative;
  background-color: #6d232352;
  &:before {
    position: absolute;
    content: ' ';
    display: block;
    left: 0;
    top: 0;
    bottom: 0;
    width: 2px;
    background-color: #ff000070;
  }
`]))),UT=U.div(RT||(RT=F([`
  margin-bottom: 1em;
  & a {
    color: inherit;
  }
`]))),KT=U.div(VT||(VT=F([`
  display: flex;
  gap: 8px;
`]))),WT=({projectId:e})=>{let t=Ye(de().atomP.ephemeral.coreByProject[e].loadingState);return t&&t.type==="browserStateIsNotBasedOnDiskState"?to.default.createElement(HT,{loadingState:t,projectId:e}):null},HT=({projectId:e,loadingState:t})=>{let n=()=>{de().transaction(({drafts:d,stateEditors:f})=>{f.coreByProject.historic.revisionHistory.add({projectId:e,revision:t.onDiskState.revisionHistory[0]}),f.coreByProject.historic.revisionHistory.add({projectId:e,revision:ET()}),d.ephemeral.coreByProject[e].loadingState={type:"loaded"}})},o=()=>{de().transaction(({drafts:d})=>{d.historic.coreByProject[e]=t.onDiskState,d.ephemeral.coreByProject[e].loadingState={type:"loaded"}})},[a,l]=ns({},()=>to.default.createElement(rs,null,"The browser's state will override the disk state.")),[s,u]=ns({},()=>to.default.createElement(rs,null,"The disk's state will override the browser's state."));return to.default.createElement(FT,null,to.default.createElement(UT,null,"Browser state is not based on disk state."," ",to.default.createElement("a",{href:"https://www.theatrejs.com/docs/latest/manual/projects#state",target:"_blank"},"Learn more.")),to.default.createElement(KT,null,a,to.default.createElement(Up,{onClick:n,ref:l},"Use browser's state"),s,to.default.createElement(Up,{onClick:o,ref:u},"Use disk state")))},qT=WT}),hee=Ke((e,t)=>{(function(n){typeof e=="object"&&typeof t<"u"?t.exports=n():(typeof window<"u"?window:typeof Zn<"u"?Zn:typeof self<"u"?self:this).JSZip=n()})(function(){return function n(o,a,l){function s(f,m){if(!a[f]){if(!o[f]){var v=typeof B0=="function"&&B0;if(!m&&v)return v(f,!0);if(u)return u(f,!0);var g=new Error("Cannot find module '"+f+"'");throw g.code="MODULE_NOT_FOUND",g}var h=a[f]={exports:{}};o[f][0].call(h.exports,function(b){var y=o[f][1][b];return s(y||b)},h,h.exports,n,o,a,l)}return a[f].exports}for(var u=typeof B0=="function"&&B0,d=0;d<l.length;d++)s(l[d]);return s}({1:[function(n,o,a){var l=n("./utils"),s=n("./support"),u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(d){for(var f,m,v,g,h,b,y,k=[],x=0,S=d.length,_=S,O=l.getTypeOf(d)!=="string";x<d.length;)_=S-x,v=O?(f=d[x++],m=x<S?d[x++]:0,x<S?d[x++]:0):(f=d.charCodeAt(x++),m=x<S?d.charCodeAt(x++):0,x<S?d.charCodeAt(x++):0),g=f>>2,h=(3&f)<<4|m>>4,b=1<_?(15&m)<<2|v>>6:64,y=2<_?63&v:64,k.push(u.charAt(g)+u.charAt(h)+u.charAt(b)+u.charAt(y));return k.join("")},a.decode=function(d){var f,m,v,g,h,b,y=0,k=0,x="data:";if(d.substr(0,x.length)===x)throw new Error("Invalid base64 input, it looks like a data url.");var S,_=3*(d=d.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(d.charAt(d.length-1)===u.charAt(64)&&_--,d.charAt(d.length-2)===u.charAt(64)&&_--,_%1!=0)throw new Error("Invalid base64 input, bad content length.");for(S=s.uint8array?new Uint8Array(0|_):new Array(0|_);y<d.length;)f=u.indexOf(d.charAt(y++))<<2|(g=u.indexOf(d.charAt(y++)))>>4,m=(15&g)<<4|(h=u.indexOf(d.charAt(y++)))>>2,v=(3&h)<<6|(b=u.indexOf(d.charAt(y++))),S[k++]=f,h!==64&&(S[k++]=m),b!==64&&(S[k++]=v);return S}},{"./support":30,"./utils":32}],2:[function(n,o,a){var l=n("./external"),s=n("./stream/DataWorker"),u=n("./stream/Crc32Probe"),d=n("./stream/DataLengthProbe");function f(m,v,g,h,b){this.compressedSize=m,this.uncompressedSize=v,this.crc32=g,this.compression=h,this.compressedContent=b}f.prototype={getContentWorker:function(){var m=new s(l.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new d("data_length")),v=this;return m.on("end",function(){if(this.streamInfo.data_length!==v.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),m},getCompressedWorker:function(){return new s(l.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},f.createWorkerFrom=function(m,v,g){return m.pipe(new u).pipe(new d("uncompressedSize")).pipe(v.compressWorker(g)).pipe(new d("compressedSize")).withStreamInfo("compression",v)},o.exports=f},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,o,a){var l=n("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(){return new l("STORE compression")},uncompressWorker:function(){return new l("STORE decompression")}},a.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,o,a){var l=n("./utils"),s=function(){for(var u,d=[],f=0;f<256;f++){u=f;for(var m=0;m<8;m++)u=1&u?3988292384^u>>>1:u>>>1;d[f]=u}return d}();o.exports=function(u,d){return u!==void 0&&u.length?l.getTypeOf(u)!=="string"?function(f,m,v,g){var h=s,b=g+v;f^=-1;for(var y=g;y<b;y++)f=f>>>8^h[255&(f^m[y])];return-1^f}(0|d,u,u.length,0):function(f,m,v,g){var h=s,b=g+v;f^=-1;for(var y=g;y<b;y++)f=f>>>8^h[255&(f^m.charCodeAt(y))];return-1^f}(0|d,u,u.length,0):0}},{"./utils":32}],5:[function(n,o,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(n,o,a){var l=null;l=typeof Promise<"u"?Promise:n("lie"),o.exports={Promise:l}},{lie:37}],7:[function(n,o,a){var l=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=n("pako"),u=n("./utils"),d=n("./stream/GenericWorker"),f=l?"uint8array":"array";function m(v,g){d.call(this,"FlateWorker/"+v),this._pako=null,this._pakoAction=v,this._pakoOptions=g,this.meta={}}a.magic="\b\0",u.inherits(m,d),m.prototype.processChunk=function(v){this.meta=v.meta,this._pako===null&&this._createPako(),this._pako.push(u.transformTo(f,v.data),!1)},m.prototype.flush=function(){d.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},m.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this._pako=null},m.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var v=this;this._pako.onData=function(g){v.push({data:g,meta:v.meta})}},a.compressWorker=function(v){return new m("Deflate",v)},a.uncompressWorker=function(){return new m("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,o,a){function l(h,b){var y,k="";for(y=0;y<b;y++)k+=String.fromCharCode(255&h),h>>>=8;return k}function s(h,b,y,k,x,S){var _,O,j=h.file,z=h.compression,K=S!==f.utf8encode,M=u.transformTo("string",S(j.name)),N=u.transformTo("string",f.utf8encode(j.name)),Z=j.comment,le=u.transformTo("string",S(Z)),D=u.transformTo("string",f.utf8encode(Z)),X=N.length!==j.name.length,C=D.length!==Z.length,Q="",xe="",H="",q=j.dir,ee=j.date,ge={crc32:0,compressedSize:0,uncompressedSize:0};b&&!y||(ge.crc32=h.crc32,ge.compressedSize=h.compressedSize,ge.uncompressedSize=h.uncompressedSize);var A=0;b&&(A|=8),K||!X&&!C||(A|=2048);var B=0,re=0;q&&(B|=16),x==="UNIX"?(re=798,B|=function(ue,te){var Oe=ue;return ue||(Oe=te?16893:33204),(65535&Oe)<<16}(j.unixPermissions,q)):(re=20,B|=function(ue){return 63&(ue||0)}(j.dosPermissions)),_=ee.getUTCHours(),_<<=6,_|=ee.getUTCMinutes(),_<<=5,_|=ee.getUTCSeconds()/2,O=ee.getUTCFullYear()-1980,O<<=4,O|=ee.getUTCMonth()+1,O<<=5,O|=ee.getUTCDate(),X&&(xe=l(1,1)+l(m(M),4)+N,Q+="up"+l(xe.length,2)+xe),C&&(H=l(1,1)+l(m(le),4)+D,Q+="uc"+l(H.length,2)+H);var ae="";return ae+=`
\0`,ae+=l(A,2),ae+=z.magic,ae+=l(_,2),ae+=l(O,2),ae+=l(ge.crc32,4),ae+=l(ge.compressedSize,4),ae+=l(ge.uncompressedSize,4),ae+=l(M.length,2),ae+=l(Q.length,2),{fileRecord:v.LOCAL_FILE_HEADER+ae+M+Q,dirRecord:v.CENTRAL_FILE_HEADER+l(re,2)+ae+l(le.length,2)+"\0\0\0\0"+l(B,4)+l(k,4)+M+Q+le}}var u=n("../utils"),d=n("../stream/GenericWorker"),f=n("../utf8"),m=n("../crc32"),v=n("../signature");function g(h,b,y,k){d.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=b,this.zipPlatform=y,this.encodeFileName=k,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}u.inherits(g,d),g.prototype.push=function(h){var b=h.meta.percent||0,y=this.entriesCount,k=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,d.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:y?(b+100*(y-k-1))/y:100}}))},g.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var b=this.streamFiles&&!h.file.dir;if(b){var y=s(h,b,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},g.prototype.closedSource=function(h){this.accumulate=!1;var b=this.streamFiles&&!h.file.dir,y=s(h,b,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),b)this.push({data:function(k){return v.DATA_DESCRIPTOR+l(k.crc32,4)+l(k.compressedSize,4)+l(k.uncompressedSize,4)}(h),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},g.prototype.flush=function(){for(var h=this.bytesWritten,b=0;b<this.dirRecords.length;b++)this.push({data:this.dirRecords[b],meta:{percent:100}});var y=this.bytesWritten-h,k=function(x,S,_,O,j){var z=u.transformTo("string",j(O));return v.CENTRAL_DIRECTORY_END+"\0\0\0\0"+l(x,2)+l(x,2)+l(S,4)+l(_,4)+l(z.length,2)+z}(this.dirRecords.length,y,h,this.zipComment,this.encodeFileName);this.push({data:k,meta:{percent:100}})},g.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},g.prototype.registerPrevious=function(h){this._sources.push(h);var b=this;return h.on("data",function(y){b.processChunk(y)}),h.on("end",function(){b.closedSource(b.previous.streamInfo),b._sources.length?b.prepareNextSource():b.end()}),h.on("error",function(y){b.error(y)}),this},g.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},g.prototype.error=function(h){var b=this._sources;if(!d.prototype.error.call(this,h))return!1;for(var y=0;y<b.length;y++)try{b[y].error(h)}catch{}return!0},g.prototype.lock=function(){d.prototype.lock.call(this);for(var h=this._sources,b=0;b<h.length;b++)h[b].lock()},o.exports=g},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,o,a){var l=n("../compressions"),s=n("./ZipFileWorker");a.generateWorker=function(u,d,f){var m=new s(d.streamFiles,f,d.platform,d.encodeFileName),v=0;try{u.forEach(function(g,h){v++;var b=function(S,_){var O=S||_,j=l[O];if(!j)throw new Error(O+" is not a valid compression method !");return j}(h.options.compression,d.compression),y=h.options.compressionOptions||d.compressionOptions||{},k=h.dir,x=h.date;h._compressWorker(b,y).withStreamInfo("file",{name:g,dir:k,date:x,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(m)}),m.entriesCount=v}catch(g){m.error(g)}return m}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,o,a){function l(){if(!(this instanceof l))return new l;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new l;for(var u in this)typeof this[u]!="function"&&(s[u]=this[u]);return s}}(l.prototype=n("./object")).loadAsync=n("./load"),l.support=n("./support"),l.defaults=n("./defaults"),l.version="3.10.1",l.loadAsync=function(s,u){return new l().loadAsync(s,u)},l.external=n("./external"),o.exports=l},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,o,a){var l=n("./utils"),s=n("./external"),u=n("./utf8"),d=n("./zipEntries"),f=n("./stream/Crc32Probe"),m=n("./nodejsUtils");function v(g){return new s.Promise(function(h,b){var y=g.decompressed.getContentWorker().pipe(new f);y.on("error",function(k){b(k)}).on("end",function(){y.streamInfo.crc32!==g.decompressed.crc32?b(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}o.exports=function(g,h){var b=this;return h=l.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:u.utf8decode}),m.isNode&&m.isStream(g)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):l.prepareContent("the loaded zip file",g,!0,h.optimizedBinaryString,h.base64).then(function(y){var k=new d(h);return k.load(y),k}).then(function(y){var k=[s.Promise.resolve(y)],x=y.files;if(h.checkCRC32)for(var S=0;S<x.length;S++)k.push(v(x[S]));return s.Promise.all(k)}).then(function(y){for(var k=y.shift(),x=k.files,S=0;S<x.length;S++){var _=x[S],O=_.fileNameStr,j=l.resolve(_.fileNameStr);b.file(j,_.decompressed,{binary:!0,optimizedBinaryString:!0,date:_.date,dir:_.dir,comment:_.fileCommentStr.length?_.fileCommentStr:null,unixPermissions:_.unixPermissions,dosPermissions:_.dosPermissions,createFolders:h.createFolders}),_.dir||(b.file(j).unsafeOriginalName=O)}return k.zipComment.length&&(b.comment=k.zipComment),b})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,o,a){var l=n("../utils"),s=n("../stream/GenericWorker");function u(d,f){s.call(this,"Nodejs stream input adapter for "+d),this._upstreamEnded=!1,this._bindStream(f)}l.inherits(u,s),u.prototype._bindStream=function(d){var f=this;(this._stream=d).pause(),d.on("data",function(m){f.push({data:m,meta:{percent:0}})}).on("error",function(m){f.isPaused?this.generatedError=m:f.error(m)}).on("end",function(){f.isPaused?f._upstreamEnded=!0:f.end()})},u.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},u.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},o.exports=u},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,o,a){var l=n("readable-stream").Readable;function s(u,d,f){l.call(this,d),this._helper=u;var m=this;u.on("data",function(v,g){m.push(v)||m._helper.pause(),f&&f(g)}).on("error",function(v){m.emit("error",v)}).on("end",function(){m.push(null)})}n("../utils").inherits(s,l),s.prototype._read=function(){this._helper.resume()},o.exports=s},{"../utils":32,"readable-stream":16}],14:[function(n,o,a){o.exports={isNode:typeof Buffer<"u",newBufferFrom:function(l,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(l,s);if(typeof l=="number")throw new Error('The "data" argument must not be a number');return new Buffer(l,s)},allocBuffer:function(l){if(Buffer.alloc)return Buffer.alloc(l);var s=new Buffer(l);return s.fill(0),s},isBuffer:function(l){return Buffer.isBuffer(l)},isStream:function(l){return l&&typeof l.on=="function"&&typeof l.pause=="function"&&typeof l.resume=="function"}}},{}],15:[function(n,o,a){function l(j,z,K){var M,N=u.getTypeOf(z),Z=u.extend(K||{},m);Z.date=Z.date||new Date,Z.compression!==null&&(Z.compression=Z.compression.toUpperCase()),typeof Z.unixPermissions=="string"&&(Z.unixPermissions=parseInt(Z.unixPermissions,8)),Z.unixPermissions&&16384&Z.unixPermissions&&(Z.dir=!0),Z.dosPermissions&&16&Z.dosPermissions&&(Z.dir=!0),Z.dir&&(j=x(j)),Z.createFolders&&(M=k(j))&&S.call(this,M,!0);var le=N==="string"&&Z.binary===!1&&Z.base64===!1;K&&K.binary!==void 0||(Z.binary=!le),(z instanceof v&&z.uncompressedSize===0||Z.dir||!z||z.length===0)&&(Z.base64=!1,Z.binary=!0,z="",Z.compression="STORE",N="string");var D=null;D=z instanceof v||z instanceof d?z:b.isNode&&b.isStream(z)?new y(j,z):u.prepareContent(j,z,Z.binary,Z.optimizedBinaryString,Z.base64);var X=new g(j,D,Z);this.files[j]=X}var s=n("./utf8"),u=n("./utils"),d=n("./stream/GenericWorker"),f=n("./stream/StreamHelper"),m=n("./defaults"),v=n("./compressedObject"),g=n("./zipObject"),h=n("./generate"),b=n("./nodejsUtils"),y=n("./nodejs/NodejsStreamInputAdapter"),k=function(j){j.slice(-1)==="/"&&(j=j.substring(0,j.length-1));var z=j.lastIndexOf("/");return 0<z?j.substring(0,z):""},x=function(j){return j.slice(-1)!=="/"&&(j+="/"),j},S=function(j,z){return z=z!==void 0?z:m.createFolders,j=x(j),this.files[j]||l.call(this,j,null,{dir:!0,createFolders:z}),this.files[j]};function _(j){return Object.prototype.toString.call(j)==="[object RegExp]"}var O={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(j){var z,K,M;for(z in this.files)M=this.files[z],(K=z.slice(this.root.length,z.length))&&z.slice(0,this.root.length)===this.root&&j(K,M)},filter:function(j){var z=[];return this.forEach(function(K,M){j(K,M)&&z.push(M)}),z},file:function(j,z,K){if(arguments.length!==1)return j=this.root+j,l.call(this,j,z,K),this;if(_(j)){var M=j;return this.filter(function(Z,le){return!le.dir&&M.test(Z)})}var N=this.files[this.root+j];return N&&!N.dir?N:null},folder:function(j){if(!j)return this;if(_(j))return this.filter(function(N,Z){return Z.dir&&j.test(N)});var z=this.root+j,K=S.call(this,z),M=this.clone();return M.root=K.name,M},remove:function(j){j=this.root+j;var z=this.files[j];if(z||(j.slice(-1)!=="/"&&(j+="/"),z=this.files[j]),z&&!z.dir)delete this.files[j];else for(var K=this.filter(function(N,Z){return Z.name.slice(0,j.length)===j}),M=0;M<K.length;M++)delete this.files[K[M].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(j){var z,K={};try{if((K=u.extend(j||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=K.type.toLowerCase(),K.compression=K.compression.toUpperCase(),K.type==="binarystring"&&(K.type="string"),!K.type)throw new Error("No output type specified.");u.checkSupport(K.type),K.platform!=="darwin"&&K.platform!=="freebsd"&&K.platform!=="linux"&&K.platform!=="sunos"||(K.platform="UNIX"),K.platform==="win32"&&(K.platform="DOS");var M=K.comment||this.comment||"";z=h.generateWorker(this,K,M)}catch(N){(z=new d("error")).error(N)}return new f(z,K.type||"string",K.mimeType)},generateAsync:function(j,z){return this.generateInternalStream(j).accumulate(z)},generateNodeStream:function(j,z){return(j=j||{}).type||(j.type="nodebuffer"),this.generateInternalStream(j).toNodejsStream(z)}};o.exports=O},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,o,a){o.exports=n("stream")},{stream:void 0}],17:[function(n,o,a){var l=n("./DataReader");function s(u){l.call(this,u);for(var d=0;d<this.data.length;d++)u[d]=255&u[d]}n("../utils").inherits(s,l),s.prototype.byteAt=function(u){return this.data[this.zero+u]},s.prototype.lastIndexOfSignature=function(u){for(var d=u.charCodeAt(0),f=u.charCodeAt(1),m=u.charCodeAt(2),v=u.charCodeAt(3),g=this.length-4;0<=g;--g)if(this.data[g]===d&&this.data[g+1]===f&&this.data[g+2]===m&&this.data[g+3]===v)return g-this.zero;return-1},s.prototype.readAndCheckSignature=function(u){var d=u.charCodeAt(0),f=u.charCodeAt(1),m=u.charCodeAt(2),v=u.charCodeAt(3),g=this.readData(4);return d===g[0]&&f===g[1]&&m===g[2]&&v===g[3]},s.prototype.readData=function(u){if(this.checkOffset(u),u===0)return[];var d=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},o.exports=s},{"../utils":32,"./DataReader":18}],18:[function(n,o,a){var l=n("../utils");function s(u){this.data=u,this.length=u.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(u){this.checkIndex(this.index+u)},checkIndex:function(u){if(this.length<this.zero+u||u<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+u+"). Corrupted zip ?")},setIndex:function(u){this.checkIndex(u),this.index=u},skip:function(u){this.setIndex(this.index+u)},byteAt:function(){},readInt:function(u){var d,f=0;for(this.checkOffset(u),d=this.index+u-1;d>=this.index;d--)f=(f<<8)+this.byteAt(d);return this.index+=u,f},readString:function(u){return l.transformTo("string",this.readData(u))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var u=this.readInt(4);return new Date(Date.UTC(1980+(u>>25&127),(u>>21&15)-1,u>>16&31,u>>11&31,u>>5&63,(31&u)<<1))}},o.exports=s},{"../utils":32}],19:[function(n,o,a){var l=n("./Uint8ArrayReader");function s(u){l.call(this,u)}n("../utils").inherits(s,l),s.prototype.readData=function(u){this.checkOffset(u);var d=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},o.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,o,a){var l=n("./DataReader");function s(u){l.call(this,u)}n("../utils").inherits(s,l),s.prototype.byteAt=function(u){return this.data.charCodeAt(this.zero+u)},s.prototype.lastIndexOfSignature=function(u){return this.data.lastIndexOf(u)-this.zero},s.prototype.readAndCheckSignature=function(u){return u===this.readData(4)},s.prototype.readData=function(u){this.checkOffset(u);var d=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},o.exports=s},{"../utils":32,"./DataReader":18}],21:[function(n,o,a){var l=n("./ArrayReader");function s(u){l.call(this,u)}n("../utils").inherits(s,l),s.prototype.readData=function(u){if(this.checkOffset(u),u===0)return new Uint8Array(0);var d=this.data.subarray(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},o.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(n,o,a){var l=n("../utils"),s=n("../support"),u=n("./ArrayReader"),d=n("./StringReader"),f=n("./NodeBufferReader"),m=n("./Uint8ArrayReader");o.exports=function(v){var g=l.getTypeOf(v);return l.checkSupport(g),g!=="string"||s.uint8array?g==="nodebuffer"?new f(v):s.uint8array?new m(l.transformTo("uint8array",v)):new u(l.transformTo("array",v)):new d(v)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,o,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,o,a){var l=n("./GenericWorker"),s=n("../utils");function u(d){l.call(this,"ConvertWorker to "+d),this.destType=d}s.inherits(u,l),u.prototype.processChunk=function(d){this.push({data:s.transformTo(this.destType,d.data),meta:d.meta})},o.exports=u},{"../utils":32,"./GenericWorker":28}],25:[function(n,o,a){var l=n("./GenericWorker"),s=n("../crc32");function u(){l.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(u,l),u.prototype.processChunk=function(d){this.streamInfo.crc32=s(d.data,this.streamInfo.crc32||0),this.push(d)},o.exports=u},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,o,a){var l=n("../utils"),s=n("./GenericWorker");function u(d){s.call(this,"DataLengthProbe for "+d),this.propName=d,this.withStreamInfo(d,0)}l.inherits(u,s),u.prototype.processChunk=function(d){if(d){var f=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=f+d.data.length}s.prototype.processChunk.call(this,d)},o.exports=u},{"../utils":32,"./GenericWorker":28}],27:[function(n,o,a){var l=n("../utils"),s=n("./GenericWorker");function u(d){s.call(this,"DataWorker");var f=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,d.then(function(m){f.dataIsReady=!0,f.data=m,f.max=m&&m.length||0,f.type=l.getTypeOf(m),f.isPaused||f._tickAndRepeat()},function(m){f.error(m)})}l.inherits(u,s),u.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},u.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,l.delay(this._tickAndRepeat,[],this)),!0)},u.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(l.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},u.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var d=null,f=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":d=this.data.substring(this.index,f);break;case"uint8array":d=this.data.subarray(this.index,f);break;case"array":case"nodebuffer":d=this.data.slice(this.index,f)}return this.index=f,this.push({data:d,meta:{percent:this.max?this.index/this.max*100:0}})},o.exports=u},{"../utils":32,"./GenericWorker":28}],28:[function(n,o,a){function l(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}l.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,u){return this._listeners[s].push(u),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,u){if(this._listeners[s])for(var d=0;d<this._listeners[s].length;d++)this._listeners[s][d].call(this,u)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var u=this;return s.on("data",function(d){u.processChunk(d)}),s.on("end",function(){u.end()}),s.on("error",function(d){u.error(d)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,u){return this.extraStreamInfo[s]=u,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},o.exports=l},{}],29:[function(n,o,a){var l=n("../utils"),s=n("./ConvertWorker"),u=n("./GenericWorker"),d=n("../base64"),f=n("../support"),m=n("../external"),v=null;if(f.nodestream)try{v=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function g(b,y){return new m.Promise(function(k,x){var S=[],_=b._internalType,O=b._outputType,j=b._mimeType;b.on("data",function(z,K){S.push(z),y&&y(K)}).on("error",function(z){S=[],x(z)}).on("end",function(){try{var z=function(K,M,N){switch(K){case"blob":return l.newBlob(l.transformTo("arraybuffer",M),N);case"base64":return d.encode(M);default:return l.transformTo(K,M)}}(O,function(K,M){var N,Z=0,le=null,D=0;for(N=0;N<M.length;N++)D+=M[N].length;switch(K){case"string":return M.join("");case"array":return Array.prototype.concat.apply([],M);case"uint8array":for(le=new Uint8Array(D),N=0;N<M.length;N++)le.set(M[N],Z),Z+=M[N].length;return le;case"nodebuffer":return Buffer.concat(M);default:throw new Error("concat : unsupported type '"+K+"'")}}(_,S),j);k(z)}catch(K){x(K)}S=[]}).resume()})}function h(b,y,k){var x=y;switch(y){case"blob":case"arraybuffer":x="uint8array";break;case"base64":x="string"}try{this._internalType=x,this._outputType=y,this._mimeType=k,l.checkSupport(x),this._worker=b.pipe(new s(x)),b.lock()}catch(S){this._worker=new u("error"),this._worker.error(S)}}h.prototype={accumulate:function(b){return g(this,b)},on:function(b,y){var k=this;return b==="data"?this._worker.on(b,function(x){y.call(k,x.data,x.meta)}):this._worker.on(b,function(){l.delay(y,arguments,k)}),this},resume:function(){return l.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(b){if(l.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new v(this,{objectMode:this._outputType!=="nodebuffer"},b)}},o.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,o,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",a.nodebuffer=typeof Buffer<"u",a.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")a.blob=!1;else{var l=new ArrayBuffer(0);try{a.blob=new Blob([l],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(l),a.blob=s.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!n("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(n,o,a){for(var l=n("./utils"),s=n("./support"),u=n("./nodejsUtils"),d=n("./stream/GenericWorker"),f=new Array(256),m=0;m<256;m++)f[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;f[254]=f[254]=1;function v(){d.call(this,"utf-8 decode"),this.leftOver=null}function g(){d.call(this,"utf-8 encode")}a.utf8encode=function(h){return s.nodebuffer?u.newBufferFrom(h,"utf-8"):function(b){var y,k,x,S,_,O=b.length,j=0;for(S=0;S<O;S++)(64512&(k=b.charCodeAt(S)))==55296&&S+1<O&&(64512&(x=b.charCodeAt(S+1)))==56320&&(k=65536+(k-55296<<10)+(x-56320),S++),j+=k<128?1:k<2048?2:k<65536?3:4;for(y=s.uint8array?new Uint8Array(j):new Array(j),S=_=0;_<j;S++)(64512&(k=b.charCodeAt(S)))==55296&&S+1<O&&(64512&(x=b.charCodeAt(S+1)))==56320&&(k=65536+(k-55296<<10)+(x-56320),S++),k<128?y[_++]=k:(k<2048?y[_++]=192|k>>>6:(k<65536?y[_++]=224|k>>>12:(y[_++]=240|k>>>18,y[_++]=128|k>>>12&63),y[_++]=128|k>>>6&63),y[_++]=128|63&k);return y}(h)},a.utf8decode=function(h){return s.nodebuffer?l.transformTo("nodebuffer",h).toString("utf-8"):function(b){var y,k,x,S,_=b.length,O=new Array(2*_);for(y=k=0;y<_;)if((x=b[y++])<128)O[k++]=x;else if(4<(S=f[x]))O[k++]=65533,y+=S-1;else{for(x&=S===2?31:S===3?15:7;1<S&&y<_;)x=x<<6|63&b[y++],S--;1<S?O[k++]=65533:x<65536?O[k++]=x:(x-=65536,O[k++]=55296|x>>10&1023,O[k++]=56320|1023&x)}return O.length!==k&&(O.subarray?O=O.subarray(0,k):O.length=k),l.applyFromCharCode(O)}(h=l.transformTo(s.uint8array?"uint8array":"array",h))},l.inherits(v,d),v.prototype.processChunk=function(h){var b=l.transformTo(s.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var y=b;(b=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),b.set(y,this.leftOver.length)}else b=this.leftOver.concat(b);this.leftOver=null}var k=function(S,_){var O;for((_=_||S.length)>S.length&&(_=S.length),O=_-1;0<=O&&(192&S[O])==128;)O--;return O<0||O===0?_:O+f[S[O]]>_?O:_}(b),x=b;k!==b.length&&(s.uint8array?(x=b.subarray(0,k),this.leftOver=b.subarray(k,b.length)):(x=b.slice(0,k),this.leftOver=b.slice(k,b.length))),this.push({data:a.utf8decode(x),meta:h.meta})},v.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=v,l.inherits(g,d),g.prototype.processChunk=function(h){this.push({data:a.utf8encode(h.data),meta:h.meta})},a.Utf8EncodeWorker=g},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,o,a){var l=n("./support"),s=n("./base64"),u=n("./nodejsUtils"),d=n("./external");function f(y){return y}function m(y,k){for(var x=0;x<y.length;++x)k[x]=255&y.charCodeAt(x);return k}n("setimmediate"),a.newBlob=function(y,k){a.checkSupport("blob");try{return new Blob([y],{type:k})}catch{try{var x=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return x.append(y),x.getBlob(k)}catch{throw new Error("Bug : can't construct the Blob.")}}};var v={stringifyByChunk:function(y,k,x){var S=[],_=0,O=y.length;if(O<=x)return String.fromCharCode.apply(null,y);for(;_<O;)k==="array"||k==="nodebuffer"?S.push(String.fromCharCode.apply(null,y.slice(_,Math.min(_+x,O)))):S.push(String.fromCharCode.apply(null,y.subarray(_,Math.min(_+x,O)))),_+=x;return S.join("")},stringifyByChar:function(y){for(var k="",x=0;x<y.length;x++)k+=String.fromCharCode(y[x]);return k},applyCanBeUsed:{uint8array:function(){try{return l.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return l.nodebuffer&&String.fromCharCode.apply(null,u.allocBuffer(1)).length===1}catch{return!1}}()}};function g(y){var k=65536,x=a.getTypeOf(y),S=!0;if(x==="uint8array"?S=v.applyCanBeUsed.uint8array:x==="nodebuffer"&&(S=v.applyCanBeUsed.nodebuffer),S)for(;1<k;)try{return v.stringifyByChunk(y,x,k)}catch{k=Math.floor(k/2)}return v.stringifyByChar(y)}function h(y,k){for(var x=0;x<y.length;x++)k[x]=y[x];return k}a.applyFromCharCode=g;var b={};b.string={string:f,array:function(y){return m(y,new Array(y.length))},arraybuffer:function(y){return b.string.uint8array(y).buffer},uint8array:function(y){return m(y,new Uint8Array(y.length))},nodebuffer:function(y){return m(y,u.allocBuffer(y.length))}},b.array={string:g,array:f,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return u.newBufferFrom(y)}},b.arraybuffer={string:function(y){return g(new Uint8Array(y))},array:function(y){return h(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:f,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return u.newBufferFrom(new Uint8Array(y))}},b.uint8array={string:g,array:function(y){return h(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:f,nodebuffer:function(y){return u.newBufferFrom(y)}},b.nodebuffer={string:g,array:function(y){return h(y,new Array(y.length))},arraybuffer:function(y){return b.nodebuffer.uint8array(y).buffer},uint8array:function(y){return h(y,new Uint8Array(y.length))},nodebuffer:f},a.transformTo=function(y,k){if(k=k||"",!y)return k;a.checkSupport(y);var x=a.getTypeOf(k);return b[x][y](k)},a.resolve=function(y){for(var k=y.split("/"),x=[],S=0;S<k.length;S++){var _=k[S];_==="."||_===""&&S!==0&&S!==k.length-1||(_===".."?x.pop():x.push(_))}return x.join("/")},a.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":l.nodebuffer&&u.isBuffer(y)?"nodebuffer":l.uint8array&&y instanceof Uint8Array?"uint8array":l.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(y){if(!l[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(y){var k,x,S="";for(x=0;x<(y||"").length;x++)S+="\\x"+((k=y.charCodeAt(x))<16?"0":"")+k.toString(16).toUpperCase();return S},a.delay=function(y,k,x){setImmediate(function(){y.apply(x||null,k||[])})},a.inherits=function(y,k){function x(){}x.prototype=k.prototype,y.prototype=new x},a.extend=function(){var y,k,x={};for(y=0;y<arguments.length;y++)for(k in arguments[y])Object.prototype.hasOwnProperty.call(arguments[y],k)&&x[k]===void 0&&(x[k]=arguments[y][k]);return x},a.prepareContent=function(y,k,x,S,_){return d.Promise.resolve(k).then(function(O){return l.blob&&(O instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(O))!==-1)&&typeof FileReader<"u"?new d.Promise(function(j,z){var K=new FileReader;K.onload=function(M){j(M.target.result)},K.onerror=function(M){z(M.target.error)},K.readAsArrayBuffer(O)}):O}).then(function(O){var j=a.getTypeOf(O);return j?(j==="arraybuffer"?O=a.transformTo("uint8array",O):j==="string"&&(_?O=s.decode(O):x&&S!==!0&&(O=function(z){return m(z,l.uint8array?new Uint8Array(z.length):new Array(z.length))}(O))),O):d.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,o,a){var l=n("./reader/readerFor"),s=n("./utils"),u=n("./signature"),d=n("./zipEntry"),f=n("./support");function m(v){this.files=[],this.loadOptions=v}m.prototype={checkSignature:function(v){if(!this.reader.readAndCheckSignature(v)){this.reader.index-=4;var g=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(g)+", expected "+s.pretty(v)+")")}},isSignature:function(v,g){var h=this.reader.index;this.reader.setIndex(v);var b=this.reader.readString(4)===g;return this.reader.setIndex(h),b},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var v=this.reader.readData(this.zipCommentLength),g=f.uint8array?"uint8array":"array",h=s.transformTo(g,v);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var v,g,h,b=this.zip64EndOfCentralSize-44;0<b;)v=this.reader.readInt(2),g=this.reader.readInt(4),h=this.reader.readData(g),this.zip64ExtensibleData[v]={id:v,length:g,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var v,g;for(v=0;v<this.files.length;v++)g=this.files[v],this.reader.setIndex(g.localHeaderOffset),this.checkSignature(u.LOCAL_FILE_HEADER),g.readLocalPart(this.reader),g.handleUTF8(),g.processAttributes()},readCentralDir:function(){var v;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(u.CENTRAL_FILE_HEADER);)(v=new d({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(v);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var v=this.reader.lastIndexOfSignature(u.CENTRAL_DIRECTORY_END);if(v<0)throw this.isSignature(0,u.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(v);var g=v;if(this.checkSignature(u.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(v=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(v),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,u.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var b=g-h;if(0<b)this.isSignature(g,u.CENTRAL_FILE_HEADER)||(this.reader.zero=b);else if(b<0)throw new Error("Corrupted zip: missing "+Math.abs(b)+" bytes.")},prepareReader:function(v){this.reader=l(v)},load:function(v){this.prepareReader(v),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},o.exports=m},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,o,a){var l=n("./reader/readerFor"),s=n("./utils"),u=n("./compressedObject"),d=n("./crc32"),f=n("./utf8"),m=n("./compressions"),v=n("./support");function g(h,b){this.options=h,this.loadOptions=b}g.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(h){var b,y;if(h.skip(22),this.fileNameLength=h.readInt(2),y=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((b=function(k){for(var x in m)if(Object.prototype.hasOwnProperty.call(m,x)&&m[x].magic===k)return m[x];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new u(this.compressedSize,this.uncompressedSize,this.crc32,b,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var b=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(b),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),h==0&&(this.dosPermissions=63&this.externalFileAttributes),h==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=l(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var b,y,k,x=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<x;)b=h.readInt(2),y=h.readInt(2),k=h.readData(y),this.extraFields[b]={id:b,length:y,value:k};h.setIndex(x)},handleUTF8:function(){var h=v.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=f.utf8decode(this.fileName),this.fileCommentStr=f.utf8decode(this.fileComment);else{var b=this.findExtraFieldUnicodePath();if(b!==null)this.fileNameStr=b;else{var y=s.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var k=this.findExtraFieldUnicodeComment();if(k!==null)this.fileCommentStr=k;else{var x=s.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(x)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var b=l(h.value);return b.readInt(1)!==1||d(this.fileName)!==b.readInt(4)?null:f.utf8decode(b.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var b=l(h.value);return b.readInt(1)!==1||d(this.fileComment)!==b.readInt(4)?null:f.utf8decode(b.readData(h.length-5))}return null}},o.exports=g},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,o,a){function l(b,y,k){this.name=b,this.dir=k.dir,this.date=k.date,this.comment=k.comment,this.unixPermissions=k.unixPermissions,this.dosPermissions=k.dosPermissions,this._data=y,this._dataBinary=k.binary,this.options={compression:k.compression,compressionOptions:k.compressionOptions}}var s=n("./stream/StreamHelper"),u=n("./stream/DataWorker"),d=n("./utf8"),f=n("./compressedObject"),m=n("./stream/GenericWorker");l.prototype={internalStream:function(b){var y=null,k="string";try{if(!b)throw new Error("No output type specified.");var x=(k=b.toLowerCase())==="string"||k==="text";k!=="binarystring"&&k!=="text"||(k="string"),y=this._decompressWorker();var S=!this._dataBinary;S&&!x&&(y=y.pipe(new d.Utf8EncodeWorker)),!S&&x&&(y=y.pipe(new d.Utf8DecodeWorker))}catch(_){(y=new m("error")).error(_)}return new s(y,k,"")},async:function(b,y){return this.internalStream(b).accumulate(y)},nodeStream:function(b,y){return this.internalStream(b||"nodebuffer").toNodejsStream(y)},_compressWorker:function(b,y){if(this._data instanceof f&&this._data.compression.magic===b.magic)return this._data.getCompressedWorker();var k=this._decompressWorker();return this._dataBinary||(k=k.pipe(new d.Utf8EncodeWorker)),f.createWorkerFrom(k,b,y)},_decompressWorker:function(){return this._data instanceof f?this._data.getContentWorker():this._data instanceof m?this._data:new u(this._data)}};for(var v=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],g=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<v.length;h++)l.prototype[v[h]]=g;o.exports=l},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,o,a){(function(l){var s,u,d=l.MutationObserver||l.WebKitMutationObserver;if(d){var f=0,m=new d(b),v=l.document.createTextNode("");m.observe(v,{characterData:!0}),s=function(){v.data=f=++f%2}}else if(l.setImmediate||l.MessageChannel===void 0)s="document"in l&&"onreadystatechange"in l.document.createElement("script")?function(){var y=l.document.createElement("script");y.onreadystatechange=function(){b(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},l.document.documentElement.appendChild(y)}:function(){setTimeout(b,0)};else{var g=new l.MessageChannel;g.port1.onmessage=b,s=function(){g.port2.postMessage(0)}}var h=[];function b(){var y,k;u=!0;for(var x=h.length;x;){for(k=h,h=[],y=-1;++y<x;)k[y]();x=h.length}u=!1}o.exports=function(y){h.push(y)!==1||u||s()}}).call(this,typeof Zn<"u"?Zn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,o,a){var l=n("immediate");function s(){}var u={},d=["REJECTED"],f=["FULFILLED"],m=["PENDING"];function v(x){if(typeof x!="function")throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,x!==s&&y(this,x)}function g(x,S,_){this.promise=x,typeof S=="function"&&(this.onFulfilled=S,this.callFulfilled=this.otherCallFulfilled),typeof _=="function"&&(this.onRejected=_,this.callRejected=this.otherCallRejected)}function h(x,S,_){l(function(){var O;try{O=S(_)}catch(j){return u.reject(x,j)}O===x?u.reject(x,new TypeError("Cannot resolve promise with itself")):u.resolve(x,O)})}function b(x){var S=x&&x.then;if(x&&(typeof x=="object"||typeof x=="function")&&typeof S=="function")return function(){S.apply(x,arguments)}}function y(x,S){var _=!1;function O(K){_||(_=!0,u.reject(x,K))}function j(K){_||(_=!0,u.resolve(x,K))}var z=k(function(){S(j,O)});z.status==="error"&&O(z.value)}function k(x,S){var _={};try{_.value=x(S),_.status="success"}catch(O){_.status="error",_.value=O}return _}(o.exports=v).prototype.finally=function(x){if(typeof x!="function")return this;var S=this.constructor;return this.then(function(_){return S.resolve(x()).then(function(){return _})},function(_){return S.resolve(x()).then(function(){throw _})})},v.prototype.catch=function(x){return this.then(null,x)},v.prototype.then=function(x,S){if(typeof x!="function"&&this.state===f||typeof S!="function"&&this.state===d)return this;var _=new this.constructor(s);return this.state!==m?h(_,this.state===f?x:S,this.outcome):this.queue.push(new g(_,x,S)),_},g.prototype.callFulfilled=function(x){u.resolve(this.promise,x)},g.prototype.otherCallFulfilled=function(x){h(this.promise,this.onFulfilled,x)},g.prototype.callRejected=function(x){u.reject(this.promise,x)},g.prototype.otherCallRejected=function(x){h(this.promise,this.onRejected,x)},u.resolve=function(x,S){var _=k(b,S);if(_.status==="error")return u.reject(x,_.value);var O=_.value;if(O)y(x,O);else{x.state=f,x.outcome=S;for(var j=-1,z=x.queue.length;++j<z;)x.queue[j].callFulfilled(S)}return x},u.reject=function(x,S){x.state=d,x.outcome=S;for(var _=-1,O=x.queue.length;++_<O;)x.queue[_].callRejected(S);return x},v.resolve=function(x){return x instanceof this?x:u.resolve(new this(s),x)},v.reject=function(x){var S=new this(s);return u.reject(S,x)},v.all=function(x){var S=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=x.length,O=!1;if(!_)return this.resolve([]);for(var j=new Array(_),z=0,K=-1,M=new this(s);++K<_;)N(x[K],K);return M;function N(Z,le){S.resolve(Z).then(function(D){j[le]=D,++z!==_||O||(O=!0,u.resolve(M,j))},function(D){O||(O=!0,u.reject(M,D))})}},v.race=function(x){var S=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=x.length,O=!1;if(!_)return this.resolve([]);for(var j=-1,z=new this(s);++j<_;)K=x[j],S.resolve(K).then(function(M){O||(O=!0,u.resolve(z,M))},function(M){O||(O=!0,u.reject(z,M))});var K;return z}},{immediate:36}],38:[function(n,o,a){var l={};(0,n("./lib/utils/common").assign)(l,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),o.exports=l},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,o,a){var l=n("./zlib/deflate"),s=n("./utils/common"),u=n("./utils/strings"),d=n("./zlib/messages"),f=n("./zlib/zstream"),m=Object.prototype.toString,v=0,g=-1,h=0,b=8;function y(x){if(!(this instanceof y))return new y(x);this.options=s.assign({level:g,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},x||{});var S=this.options;S.raw&&0<S.windowBits?S.windowBits=-S.windowBits:S.gzip&&0<S.windowBits&&S.windowBits<16&&(S.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var _=l.deflateInit2(this.strm,S.level,S.method,S.windowBits,S.memLevel,S.strategy);if(_!==v)throw new Error(d[_]);if(S.header&&l.deflateSetHeader(this.strm,S.header),S.dictionary){var O;if(O=typeof S.dictionary=="string"?u.string2buf(S.dictionary):m.call(S.dictionary)==="[object ArrayBuffer]"?new Uint8Array(S.dictionary):S.dictionary,(_=l.deflateSetDictionary(this.strm,O))!==v)throw new Error(d[_]);this._dict_set=!0}}function k(x,S){var _=new y(S);if(_.push(x,!0),_.err)throw _.msg||d[_.err];return _.result}y.prototype.push=function(x,S){var _,O,j=this.strm,z=this.options.chunkSize;if(this.ended)return!1;O=S===~~S?S:S===!0?4:0,typeof x=="string"?j.input=u.string2buf(x):m.call(x)==="[object ArrayBuffer]"?j.input=new Uint8Array(x):j.input=x,j.next_in=0,j.avail_in=j.input.length;do{if(j.avail_out===0&&(j.output=new s.Buf8(z),j.next_out=0,j.avail_out=z),(_=l.deflate(j,O))!==1&&_!==v)return this.onEnd(_),!(this.ended=!0);j.avail_out!==0&&(j.avail_in!==0||O!==4&&O!==2)||(this.options.to==="string"?this.onData(u.buf2binstring(s.shrinkBuf(j.output,j.next_out))):this.onData(s.shrinkBuf(j.output,j.next_out)))}while((0<j.avail_in||j.avail_out===0)&&_!==1);return O===4?(_=l.deflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===v):O!==2||(this.onEnd(v),!(j.avail_out=0))},y.prototype.onData=function(x){this.chunks.push(x)},y.prototype.onEnd=function(x){x===v&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=x,this.msg=this.strm.msg},a.Deflate=y,a.deflate=k,a.deflateRaw=function(x,S){return(S=S||{}).raw=!0,k(x,S)},a.gzip=function(x,S){return(S=S||{}).gzip=!0,k(x,S)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,o,a){var l=n("./zlib/inflate"),s=n("./utils/common"),u=n("./utils/strings"),d=n("./zlib/constants"),f=n("./zlib/messages"),m=n("./zlib/zstream"),v=n("./zlib/gzheader"),g=Object.prototype.toString;function h(y){if(!(this instanceof h))return new h(y);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},y||{});var k=this.options;k.raw&&0<=k.windowBits&&k.windowBits<16&&(k.windowBits=-k.windowBits,k.windowBits===0&&(k.windowBits=-15)),!(0<=k.windowBits&&k.windowBits<16)||y&&y.windowBits||(k.windowBits+=32),15<k.windowBits&&k.windowBits<48&&!(15&k.windowBits)&&(k.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var x=l.inflateInit2(this.strm,k.windowBits);if(x!==d.Z_OK)throw new Error(f[x]);this.header=new v,l.inflateGetHeader(this.strm,this.header)}function b(y,k){var x=new h(k);if(x.push(y,!0),x.err)throw x.msg||f[x.err];return x.result}h.prototype.push=function(y,k){var x,S,_,O,j,z,K=this.strm,M=this.options.chunkSize,N=this.options.dictionary,Z=!1;if(this.ended)return!1;S=k===~~k?k:k===!0?d.Z_FINISH:d.Z_NO_FLUSH,typeof y=="string"?K.input=u.binstring2buf(y):g.call(y)==="[object ArrayBuffer]"?K.input=new Uint8Array(y):K.input=y,K.next_in=0,K.avail_in=K.input.length;do{if(K.avail_out===0&&(K.output=new s.Buf8(M),K.next_out=0,K.avail_out=M),(x=l.inflate(K,d.Z_NO_FLUSH))===d.Z_NEED_DICT&&N&&(z=typeof N=="string"?u.string2buf(N):g.call(N)==="[object ArrayBuffer]"?new Uint8Array(N):N,x=l.inflateSetDictionary(this.strm,z)),x===d.Z_BUF_ERROR&&Z===!0&&(x=d.Z_OK,Z=!1),x!==d.Z_STREAM_END&&x!==d.Z_OK)return this.onEnd(x),!(this.ended=!0);K.next_out&&(K.avail_out!==0&&x!==d.Z_STREAM_END&&(K.avail_in!==0||S!==d.Z_FINISH&&S!==d.Z_SYNC_FLUSH)||(this.options.to==="string"?(_=u.utf8border(K.output,K.next_out),O=K.next_out-_,j=u.buf2string(K.output,_),K.next_out=O,K.avail_out=M-O,O&&s.arraySet(K.output,K.output,_,O,0),this.onData(j)):this.onData(s.shrinkBuf(K.output,K.next_out)))),K.avail_in===0&&K.avail_out===0&&(Z=!0)}while((0<K.avail_in||K.avail_out===0)&&x!==d.Z_STREAM_END);return x===d.Z_STREAM_END&&(S=d.Z_FINISH),S===d.Z_FINISH?(x=l.inflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===d.Z_OK):S!==d.Z_SYNC_FLUSH||(this.onEnd(d.Z_OK),!(K.avail_out=0))},h.prototype.onData=function(y){this.chunks.push(y)},h.prototype.onEnd=function(y){y===d.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},a.Inflate=h,a.inflate=b,a.inflateRaw=function(y,k){return(k=k||{}).raw=!0,b(y,k)},a.ungzip=b},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,o,a){var l=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";a.assign=function(d){for(var f=Array.prototype.slice.call(arguments,1);f.length;){var m=f.shift();if(m){if(typeof m!="object")throw new TypeError(m+"must be non-object");for(var v in m)m.hasOwnProperty(v)&&(d[v]=m[v])}}return d},a.shrinkBuf=function(d,f){return d.length===f?d:d.subarray?d.subarray(0,f):(d.length=f,d)};var s={arraySet:function(d,f,m,v,g){if(f.subarray&&d.subarray)d.set(f.subarray(m,m+v),g);else for(var h=0;h<v;h++)d[g+h]=f[m+h]},flattenChunks:function(d){var f,m,v,g,h,b;for(f=v=0,m=d.length;f<m;f++)v+=d[f].length;for(b=new Uint8Array(v),f=g=0,m=d.length;f<m;f++)h=d[f],b.set(h,g),g+=h.length;return b}},u={arraySet:function(d,f,m,v,g){for(var h=0;h<v;h++)d[g+h]=f[m+h]},flattenChunks:function(d){return[].concat.apply([],d)}};a.setTyped=function(d){d?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,s)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,u))},a.setTyped(l)},{}],42:[function(n,o,a){var l=n("./common"),s=!0,u=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{u=!1}for(var d=new l.Buf8(256),f=0;f<256;f++)d[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;function m(v,g){if(g<65537&&(v.subarray&&u||!v.subarray&&s))return String.fromCharCode.apply(null,l.shrinkBuf(v,g));for(var h="",b=0;b<g;b++)h+=String.fromCharCode(v[b]);return h}d[254]=d[254]=1,a.string2buf=function(v){var g,h,b,y,k,x=v.length,S=0;for(y=0;y<x;y++)(64512&(h=v.charCodeAt(y)))==55296&&y+1<x&&(64512&(b=v.charCodeAt(y+1)))==56320&&(h=65536+(h-55296<<10)+(b-56320),y++),S+=h<128?1:h<2048?2:h<65536?3:4;for(g=new l.Buf8(S),y=k=0;k<S;y++)(64512&(h=v.charCodeAt(y)))==55296&&y+1<x&&(64512&(b=v.charCodeAt(y+1)))==56320&&(h=65536+(h-55296<<10)+(b-56320),y++),h<128?g[k++]=h:(h<2048?g[k++]=192|h>>>6:(h<65536?g[k++]=224|h>>>12:(g[k++]=240|h>>>18,g[k++]=128|h>>>12&63),g[k++]=128|h>>>6&63),g[k++]=128|63&h);return g},a.buf2binstring=function(v){return m(v,v.length)},a.binstring2buf=function(v){for(var g=new l.Buf8(v.length),h=0,b=g.length;h<b;h++)g[h]=v.charCodeAt(h);return g},a.buf2string=function(v,g){var h,b,y,k,x=g||v.length,S=new Array(2*x);for(h=b=0;h<x;)if((y=v[h++])<128)S[b++]=y;else if(4<(k=d[y]))S[b++]=65533,h+=k-1;else{for(y&=k===2?31:k===3?15:7;1<k&&h<x;)y=y<<6|63&v[h++],k--;1<k?S[b++]=65533:y<65536?S[b++]=y:(y-=65536,S[b++]=55296|y>>10&1023,S[b++]=56320|1023&y)}return m(S,b)},a.utf8border=function(v,g){var h;for((g=g||v.length)>v.length&&(g=v.length),h=g-1;0<=h&&(192&v[h])==128;)h--;return h<0||h===0?g:h+d[v[h]]>g?h:g}},{"./common":41}],43:[function(n,o,a){o.exports=function(l,s,u,d){for(var f=65535&l|0,m=l>>>16&65535|0,v=0;u!==0;){for(u-=v=2e3<u?2e3:u;m=m+(f=f+s[d++]|0)|0,--v;);f%=65521,m%=65521}return f|m<<16|0}},{}],44:[function(n,o,a){o.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,o,a){var l=function(){for(var s,u=[],d=0;d<256;d++){s=d;for(var f=0;f<8;f++)s=1&s?3988292384^s>>>1:s>>>1;u[d]=s}return u}();o.exports=function(s,u,d,f){var m=l,v=f+d;s^=-1;for(var g=f;g<v;g++)s=s>>>8^m[255&(s^u[g])];return-1^s}},{}],46:[function(n,o,a){var l,s=n("../utils/common"),u=n("./trees"),d=n("./adler32"),f=n("./crc32"),m=n("./messages"),v=0,g=4,h=0,b=-2,y=-1,k=4,x=2,S=8,_=9,O=286,j=30,z=19,K=2*O+1,M=15,N=3,Z=258,le=Z+N+1,D=42,X=113,C=1,Q=2,xe=3,H=4;function q(I,fe){return I.msg=m[fe],fe}function ee(I){return(I<<1)-(4<I?9:0)}function ge(I){for(var fe=I.length;0<=--fe;)I[fe]=0}function A(I){var fe=I.state,ce=fe.pending;ce>I.avail_out&&(ce=I.avail_out),ce!==0&&(s.arraySet(I.output,fe.pending_buf,fe.pending_out,ce,I.next_out),I.next_out+=ce,fe.pending_out+=ce,I.total_out+=ce,I.avail_out-=ce,fe.pending-=ce,fe.pending===0&&(fe.pending_out=0))}function B(I,fe){u._tr_flush_block(I,0<=I.block_start?I.block_start:-1,I.strstart-I.block_start,fe),I.block_start=I.strstart,A(I.strm)}function re(I,fe){I.pending_buf[I.pending++]=fe}function ae(I,fe){I.pending_buf[I.pending++]=fe>>>8&255,I.pending_buf[I.pending++]=255&fe}function ue(I,fe){var ce,V,R=I.max_chain_length,ne=I.strstart,ve=I.prev_length,ke=I.nice_match,oe=I.strstart>I.w_size-le?I.strstart-(I.w_size-le):0,Se=I.window,ye=I.w_mask,we=I.prev,Ue=I.strstart+Z,ot=Se[ne+ve-1],Xe=Se[ne+ve];I.prev_length>=I.good_match&&(R>>=2),ke>I.lookahead&&(ke=I.lookahead);do if(Se[(ce=fe)+ve]===Xe&&Se[ce+ve-1]===ot&&Se[ce]===Se[ne]&&Se[++ce]===Se[ne+1]){ne+=2,ce++;do;while(Se[++ne]===Se[++ce]&&Se[++ne]===Se[++ce]&&Se[++ne]===Se[++ce]&&Se[++ne]===Se[++ce]&&Se[++ne]===Se[++ce]&&Se[++ne]===Se[++ce]&&Se[++ne]===Se[++ce]&&Se[++ne]===Se[++ce]&&ne<Ue);if(V=Z-(Ue-ne),ne=Ue-Z,ve<V){if(I.match_start=fe,ke<=(ve=V))break;ot=Se[ne+ve-1],Xe=Se[ne+ve]}}while((fe=we[fe&ye])>oe&&--R!=0);return ve<=I.lookahead?ve:I.lookahead}function te(I){var fe,ce,V,R,ne,ve,ke,oe,Se,ye,we=I.w_size;do{if(R=I.window_size-I.lookahead-I.strstart,I.strstart>=we+(we-le)){for(s.arraySet(I.window,I.window,we,we,0),I.match_start-=we,I.strstart-=we,I.block_start-=we,fe=ce=I.hash_size;V=I.head[--fe],I.head[fe]=we<=V?V-we:0,--ce;);for(fe=ce=we;V=I.prev[--fe],I.prev[fe]=we<=V?V-we:0,--ce;);R+=we}if(I.strm.avail_in===0)break;if(ve=I.strm,ke=I.window,oe=I.strstart+I.lookahead,Se=R,ye=void 0,ye=ve.avail_in,Se<ye&&(ye=Se),ce=ye===0?0:(ve.avail_in-=ye,s.arraySet(ke,ve.input,ve.next_in,ye,oe),ve.state.wrap===1?ve.adler=d(ve.adler,ke,ye,oe):ve.state.wrap===2&&(ve.adler=f(ve.adler,ke,ye,oe)),ve.next_in+=ye,ve.total_in+=ye,ye),I.lookahead+=ce,I.lookahead+I.insert>=N)for(ne=I.strstart-I.insert,I.ins_h=I.window[ne],I.ins_h=(I.ins_h<<I.hash_shift^I.window[ne+1])&I.hash_mask;I.insert&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[ne+N-1])&I.hash_mask,I.prev[ne&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=ne,ne++,I.insert--,!(I.lookahead+I.insert<N)););}while(I.lookahead<le&&I.strm.avail_in!==0)}function Oe(I,fe){for(var ce,V;;){if(I.lookahead<le){if(te(I),I.lookahead<le&&fe===v)return C;if(I.lookahead===0)break}if(ce=0,I.lookahead>=N&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+N-1])&I.hash_mask,ce=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),ce!==0&&I.strstart-ce<=I.w_size-le&&(I.match_length=ue(I,ce)),I.match_length>=N)if(V=u._tr_tally(I,I.strstart-I.match_start,I.match_length-N),I.lookahead-=I.match_length,I.match_length<=I.max_lazy_match&&I.lookahead>=N){for(I.match_length--;I.strstart++,I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+N-1])&I.hash_mask,ce=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart,--I.match_length!=0;);I.strstart++}else I.strstart+=I.match_length,I.match_length=0,I.ins_h=I.window[I.strstart],I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+1])&I.hash_mask;else V=u._tr_tally(I,0,I.window[I.strstart]),I.lookahead--,I.strstart++;if(V&&(B(I,!1),I.strm.avail_out===0))return C}return I.insert=I.strstart<N-1?I.strstart:N-1,fe===g?(B(I,!0),I.strm.avail_out===0?xe:H):I.last_lit&&(B(I,!1),I.strm.avail_out===0)?C:Q}function me(I,fe){for(var ce,V,R;;){if(I.lookahead<le){if(te(I),I.lookahead<le&&fe===v)return C;if(I.lookahead===0)break}if(ce=0,I.lookahead>=N&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+N-1])&I.hash_mask,ce=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),I.prev_length=I.match_length,I.prev_match=I.match_start,I.match_length=N-1,ce!==0&&I.prev_length<I.max_lazy_match&&I.strstart-ce<=I.w_size-le&&(I.match_length=ue(I,ce),I.match_length<=5&&(I.strategy===1||I.match_length===N&&4096<I.strstart-I.match_start)&&(I.match_length=N-1)),I.prev_length>=N&&I.match_length<=I.prev_length){for(R=I.strstart+I.lookahead-N,V=u._tr_tally(I,I.strstart-1-I.prev_match,I.prev_length-N),I.lookahead-=I.prev_length-1,I.prev_length-=2;++I.strstart<=R&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+N-1])&I.hash_mask,ce=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),--I.prev_length!=0;);if(I.match_available=0,I.match_length=N-1,I.strstart++,V&&(B(I,!1),I.strm.avail_out===0))return C}else if(I.match_available){if((V=u._tr_tally(I,0,I.window[I.strstart-1]))&&B(I,!1),I.strstart++,I.lookahead--,I.strm.avail_out===0)return C}else I.match_available=1,I.strstart++,I.lookahead--}return I.match_available&&(V=u._tr_tally(I,0,I.window[I.strstart-1]),I.match_available=0),I.insert=I.strstart<N-1?I.strstart:N-1,fe===g?(B(I,!0),I.strm.avail_out===0?xe:H):I.last_lit&&(B(I,!1),I.strm.avail_out===0)?C:Q}function Ie(I,fe,ce,V,R){this.good_length=I,this.max_lazy=fe,this.nice_length=ce,this.max_chain=V,this.func=R}function Ae(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=S,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*K),this.dyn_dtree=new s.Buf16(2*(2*j+1)),this.bl_tree=new s.Buf16(2*(2*z+1)),ge(this.dyn_ltree),ge(this.dyn_dtree),ge(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(M+1),this.heap=new s.Buf16(2*O+1),ge(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*O+1),ge(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function He(I){var fe;return I&&I.state?(I.total_in=I.total_out=0,I.data_type=x,(fe=I.state).pending=0,fe.pending_out=0,fe.wrap<0&&(fe.wrap=-fe.wrap),fe.status=fe.wrap?D:X,I.adler=fe.wrap===2?0:1,fe.last_flush=v,u._tr_init(fe),h):q(I,b)}function Ve(I){var fe=He(I);return fe===h&&function(ce){ce.window_size=2*ce.w_size,ge(ce.head),ce.max_lazy_match=l[ce.level].max_lazy,ce.good_match=l[ce.level].good_length,ce.nice_match=l[ce.level].nice_length,ce.max_chain_length=l[ce.level].max_chain,ce.strstart=0,ce.block_start=0,ce.lookahead=0,ce.insert=0,ce.match_length=ce.prev_length=N-1,ce.match_available=0,ce.ins_h=0}(I.state),fe}function at(I,fe,ce,V,R,ne){if(!I)return b;var ve=1;if(fe===y&&(fe=6),V<0?(ve=0,V=-V):15<V&&(ve=2,V-=16),R<1||_<R||ce!==S||V<8||15<V||fe<0||9<fe||ne<0||k<ne)return q(I,b);V===8&&(V=9);var ke=new Ae;return(I.state=ke).strm=I,ke.wrap=ve,ke.gzhead=null,ke.w_bits=V,ke.w_size=1<<ke.w_bits,ke.w_mask=ke.w_size-1,ke.hash_bits=R+7,ke.hash_size=1<<ke.hash_bits,ke.hash_mask=ke.hash_size-1,ke.hash_shift=~~((ke.hash_bits+N-1)/N),ke.window=new s.Buf8(2*ke.w_size),ke.head=new s.Buf16(ke.hash_size),ke.prev=new s.Buf16(ke.w_size),ke.lit_bufsize=1<<R+6,ke.pending_buf_size=4*ke.lit_bufsize,ke.pending_buf=new s.Buf8(ke.pending_buf_size),ke.d_buf=1*ke.lit_bufsize,ke.l_buf=3*ke.lit_bufsize,ke.level=fe,ke.strategy=ne,ke.method=ce,Ve(I)}l=[new Ie(0,0,0,0,function(I,fe){var ce=65535;for(ce>I.pending_buf_size-5&&(ce=I.pending_buf_size-5);;){if(I.lookahead<=1){if(te(I),I.lookahead===0&&fe===v)return C;if(I.lookahead===0)break}I.strstart+=I.lookahead,I.lookahead=0;var V=I.block_start+ce;if((I.strstart===0||I.strstart>=V)&&(I.lookahead=I.strstart-V,I.strstart=V,B(I,!1),I.strm.avail_out===0)||I.strstart-I.block_start>=I.w_size-le&&(B(I,!1),I.strm.avail_out===0))return C}return I.insert=0,fe===g?(B(I,!0),I.strm.avail_out===0?xe:H):(I.strstart>I.block_start&&(B(I,!1),I.strm.avail_out),C)}),new Ie(4,4,8,4,Oe),new Ie(4,5,16,8,Oe),new Ie(4,6,32,32,Oe),new Ie(4,4,16,16,me),new Ie(8,16,32,32,me),new Ie(8,16,128,128,me),new Ie(8,32,128,256,me),new Ie(32,128,258,1024,me),new Ie(32,258,258,4096,me)],a.deflateInit=function(I,fe){return at(I,fe,S,15,8,0)},a.deflateInit2=at,a.deflateReset=Ve,a.deflateResetKeep=He,a.deflateSetHeader=function(I,fe){return I&&I.state?I.state.wrap!==2?b:(I.state.gzhead=fe,h):b},a.deflate=function(I,fe){var ce,V,R,ne;if(!I||!I.state||5<fe||fe<0)return I?q(I,b):b;if(V=I.state,!I.output||!I.input&&I.avail_in!==0||V.status===666&&fe!==g)return q(I,I.avail_out===0?-5:b);if(V.strm=I,ce=V.last_flush,V.last_flush=fe,V.status===D)if(V.wrap===2)I.adler=0,re(V,31),re(V,139),re(V,8),V.gzhead?(re(V,(V.gzhead.text?1:0)+(V.gzhead.hcrc?2:0)+(V.gzhead.extra?4:0)+(V.gzhead.name?8:0)+(V.gzhead.comment?16:0)),re(V,255&V.gzhead.time),re(V,V.gzhead.time>>8&255),re(V,V.gzhead.time>>16&255),re(V,V.gzhead.time>>24&255),re(V,V.level===9?2:2<=V.strategy||V.level<2?4:0),re(V,255&V.gzhead.os),V.gzhead.extra&&V.gzhead.extra.length&&(re(V,255&V.gzhead.extra.length),re(V,V.gzhead.extra.length>>8&255)),V.gzhead.hcrc&&(I.adler=f(I.adler,V.pending_buf,V.pending,0)),V.gzindex=0,V.status=69):(re(V,0),re(V,0),re(V,0),re(V,0),re(V,0),re(V,V.level===9?2:2<=V.strategy||V.level<2?4:0),re(V,3),V.status=X);else{var ve=S+(V.w_bits-8<<4)<<8;ve|=(2<=V.strategy||V.level<2?0:V.level<6?1:V.level===6?2:3)<<6,V.strstart!==0&&(ve|=32),ve+=31-ve%31,V.status=X,ae(V,ve),V.strstart!==0&&(ae(V,I.adler>>>16),ae(V,65535&I.adler)),I.adler=1}if(V.status===69)if(V.gzhead.extra){for(R=V.pending;V.gzindex<(65535&V.gzhead.extra.length)&&(V.pending!==V.pending_buf_size||(V.gzhead.hcrc&&V.pending>R&&(I.adler=f(I.adler,V.pending_buf,V.pending-R,R)),A(I),R=V.pending,V.pending!==V.pending_buf_size));)re(V,255&V.gzhead.extra[V.gzindex]),V.gzindex++;V.gzhead.hcrc&&V.pending>R&&(I.adler=f(I.adler,V.pending_buf,V.pending-R,R)),V.gzindex===V.gzhead.extra.length&&(V.gzindex=0,V.status=73)}else V.status=73;if(V.status===73)if(V.gzhead.name){R=V.pending;do{if(V.pending===V.pending_buf_size&&(V.gzhead.hcrc&&V.pending>R&&(I.adler=f(I.adler,V.pending_buf,V.pending-R,R)),A(I),R=V.pending,V.pending===V.pending_buf_size)){ne=1;break}ne=V.gzindex<V.gzhead.name.length?255&V.gzhead.name.charCodeAt(V.gzindex++):0,re(V,ne)}while(ne!==0);V.gzhead.hcrc&&V.pending>R&&(I.adler=f(I.adler,V.pending_buf,V.pending-R,R)),ne===0&&(V.gzindex=0,V.status=91)}else V.status=91;if(V.status===91)if(V.gzhead.comment){R=V.pending;do{if(V.pending===V.pending_buf_size&&(V.gzhead.hcrc&&V.pending>R&&(I.adler=f(I.adler,V.pending_buf,V.pending-R,R)),A(I),R=V.pending,V.pending===V.pending_buf_size)){ne=1;break}ne=V.gzindex<V.gzhead.comment.length?255&V.gzhead.comment.charCodeAt(V.gzindex++):0,re(V,ne)}while(ne!==0);V.gzhead.hcrc&&V.pending>R&&(I.adler=f(I.adler,V.pending_buf,V.pending-R,R)),ne===0&&(V.status=103)}else V.status=103;if(V.status===103&&(V.gzhead.hcrc?(V.pending+2>V.pending_buf_size&&A(I),V.pending+2<=V.pending_buf_size&&(re(V,255&I.adler),re(V,I.adler>>8&255),I.adler=0,V.status=X)):V.status=X),V.pending!==0){if(A(I),I.avail_out===0)return V.last_flush=-1,h}else if(I.avail_in===0&&ee(fe)<=ee(ce)&&fe!==g)return q(I,-5);if(V.status===666&&I.avail_in!==0)return q(I,-5);if(I.avail_in!==0||V.lookahead!==0||fe!==v&&V.status!==666){var ke=V.strategy===2?function(oe,Se){for(var ye;;){if(oe.lookahead===0&&(te(oe),oe.lookahead===0)){if(Se===v)return C;break}if(oe.match_length=0,ye=u._tr_tally(oe,0,oe.window[oe.strstart]),oe.lookahead--,oe.strstart++,ye&&(B(oe,!1),oe.strm.avail_out===0))return C}return oe.insert=0,Se===g?(B(oe,!0),oe.strm.avail_out===0?xe:H):oe.last_lit&&(B(oe,!1),oe.strm.avail_out===0)?C:Q}(V,fe):V.strategy===3?function(oe,Se){for(var ye,we,Ue,ot,Xe=oe.window;;){if(oe.lookahead<=Z){if(te(oe),oe.lookahead<=Z&&Se===v)return C;if(oe.lookahead===0)break}if(oe.match_length=0,oe.lookahead>=N&&0<oe.strstart&&(we=Xe[Ue=oe.strstart-1])===Xe[++Ue]&&we===Xe[++Ue]&&we===Xe[++Ue]){ot=oe.strstart+Z;do;while(we===Xe[++Ue]&&we===Xe[++Ue]&&we===Xe[++Ue]&&we===Xe[++Ue]&&we===Xe[++Ue]&&we===Xe[++Ue]&&we===Xe[++Ue]&&we===Xe[++Ue]&&Ue<ot);oe.match_length=Z-(ot-Ue),oe.match_length>oe.lookahead&&(oe.match_length=oe.lookahead)}if(oe.match_length>=N?(ye=u._tr_tally(oe,1,oe.match_length-N),oe.lookahead-=oe.match_length,oe.strstart+=oe.match_length,oe.match_length=0):(ye=u._tr_tally(oe,0,oe.window[oe.strstart]),oe.lookahead--,oe.strstart++),ye&&(B(oe,!1),oe.strm.avail_out===0))return C}return oe.insert=0,Se===g?(B(oe,!0),oe.strm.avail_out===0?xe:H):oe.last_lit&&(B(oe,!1),oe.strm.avail_out===0)?C:Q}(V,fe):l[V.level].func(V,fe);if(ke!==xe&&ke!==H||(V.status=666),ke===C||ke===xe)return I.avail_out===0&&(V.last_flush=-1),h;if(ke===Q&&(fe===1?u._tr_align(V):fe!==5&&(u._tr_stored_block(V,0,0,!1),fe===3&&(ge(V.head),V.lookahead===0&&(V.strstart=0,V.block_start=0,V.insert=0))),A(I),I.avail_out===0))return V.last_flush=-1,h}return fe!==g?h:V.wrap<=0?1:(V.wrap===2?(re(V,255&I.adler),re(V,I.adler>>8&255),re(V,I.adler>>16&255),re(V,I.adler>>24&255),re(V,255&I.total_in),re(V,I.total_in>>8&255),re(V,I.total_in>>16&255),re(V,I.total_in>>24&255)):(ae(V,I.adler>>>16),ae(V,65535&I.adler)),A(I),0<V.wrap&&(V.wrap=-V.wrap),V.pending!==0?h:1)},a.deflateEnd=function(I){var fe;return I&&I.state?(fe=I.state.status)!==D&&fe!==69&&fe!==73&&fe!==91&&fe!==103&&fe!==X&&fe!==666?q(I,b):(I.state=null,fe===X?q(I,-3):h):b},a.deflateSetDictionary=function(I,fe){var ce,V,R,ne,ve,ke,oe,Se,ye=fe.length;if(!I||!I.state||(ne=(ce=I.state).wrap)===2||ne===1&&ce.status!==D||ce.lookahead)return b;for(ne===1&&(I.adler=d(I.adler,fe,ye,0)),ce.wrap=0,ye>=ce.w_size&&(ne===0&&(ge(ce.head),ce.strstart=0,ce.block_start=0,ce.insert=0),Se=new s.Buf8(ce.w_size),s.arraySet(Se,fe,ye-ce.w_size,ce.w_size,0),fe=Se,ye=ce.w_size),ve=I.avail_in,ke=I.next_in,oe=I.input,I.avail_in=ye,I.next_in=0,I.input=fe,te(ce);ce.lookahead>=N;){for(V=ce.strstart,R=ce.lookahead-(N-1);ce.ins_h=(ce.ins_h<<ce.hash_shift^ce.window[V+N-1])&ce.hash_mask,ce.prev[V&ce.w_mask]=ce.head[ce.ins_h],ce.head[ce.ins_h]=V,V++,--R;);ce.strstart=V,ce.lookahead=N-1,te(ce)}return ce.strstart+=ce.lookahead,ce.block_start=ce.strstart,ce.insert=ce.lookahead,ce.lookahead=0,ce.match_length=ce.prev_length=N-1,ce.match_available=0,I.next_in=ke,I.input=oe,I.avail_in=ve,ce.wrap=ne,h},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,o,a){o.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,o,a){o.exports=function(l,s){var u,d,f,m,v,g,h,b,y,k,x,S,_,O,j,z,K,M,N,Z,le,D,X,C,Q;u=l.state,d=l.next_in,C=l.input,f=d+(l.avail_in-5),m=l.next_out,Q=l.output,v=m-(s-l.avail_out),g=m+(l.avail_out-257),h=u.dmax,b=u.wsize,y=u.whave,k=u.wnext,x=u.window,S=u.hold,_=u.bits,O=u.lencode,j=u.distcode,z=(1<<u.lenbits)-1,K=(1<<u.distbits)-1;e:do{_<15&&(S+=C[d++]<<_,_+=8,S+=C[d++]<<_,_+=8),M=O[S&z];t:for(;;){if(S>>>=N=M>>>24,_-=N,(N=M>>>16&255)===0)Q[m++]=65535&M;else{if(!(16&N)){if(!(64&N)){M=O[(65535&M)+(S&(1<<N)-1)];continue t}if(32&N){u.mode=12;break e}l.msg="invalid literal/length code",u.mode=30;break e}Z=65535&M,(N&=15)&&(_<N&&(S+=C[d++]<<_,_+=8),Z+=S&(1<<N)-1,S>>>=N,_-=N),_<15&&(S+=C[d++]<<_,_+=8,S+=C[d++]<<_,_+=8),M=j[S&K];n:for(;;){if(S>>>=N=M>>>24,_-=N,!(16&(N=M>>>16&255))){if(!(64&N)){M=j[(65535&M)+(S&(1<<N)-1)];continue n}l.msg="invalid distance code",u.mode=30;break e}if(le=65535&M,_<(N&=15)&&(S+=C[d++]<<_,(_+=8)<N&&(S+=C[d++]<<_,_+=8)),h<(le+=S&(1<<N)-1)){l.msg="invalid distance too far back",u.mode=30;break e}if(S>>>=N,_-=N,(N=m-v)<le){if(y<(N=le-N)&&u.sane){l.msg="invalid distance too far back",u.mode=30;break e}if(X=x,(D=0)===k){if(D+=b-N,N<Z){for(Z-=N;Q[m++]=x[D++],--N;);D=m-le,X=Q}}else if(k<N){if(D+=b+k-N,(N-=k)<Z){for(Z-=N;Q[m++]=x[D++],--N;);if(D=0,k<Z){for(Z-=N=k;Q[m++]=x[D++],--N;);D=m-le,X=Q}}}else if(D+=k-N,N<Z){for(Z-=N;Q[m++]=x[D++],--N;);D=m-le,X=Q}for(;2<Z;)Q[m++]=X[D++],Q[m++]=X[D++],Q[m++]=X[D++],Z-=3;Z&&(Q[m++]=X[D++],1<Z&&(Q[m++]=X[D++]))}else{for(D=m-le;Q[m++]=Q[D++],Q[m++]=Q[D++],Q[m++]=Q[D++],2<(Z-=3););Z&&(Q[m++]=Q[D++],1<Z&&(Q[m++]=Q[D++]))}break}}break}}while(d<f&&m<g);d-=Z=_>>3,S&=(1<<(_-=Z<<3))-1,l.next_in=d,l.next_out=m,l.avail_in=d<f?f-d+5:5-(d-f),l.avail_out=m<g?g-m+257:257-(m-g),u.hold=S,u.bits=_}},{}],49:[function(n,o,a){var l=n("../utils/common"),s=n("./adler32"),u=n("./crc32"),d=n("./inffast"),f=n("./inftrees"),m=1,v=2,g=0,h=-2,b=1,y=852,k=592;function x(D){return(D>>>24&255)+(D>>>8&65280)+((65280&D)<<8)+((255&D)<<24)}function S(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new l.Buf16(320),this.work=new l.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function _(D){var X;return D&&D.state?(X=D.state,D.total_in=D.total_out=X.total=0,D.msg="",X.wrap&&(D.adler=1&X.wrap),X.mode=b,X.last=0,X.havedict=0,X.dmax=32768,X.head=null,X.hold=0,X.bits=0,X.lencode=X.lendyn=new l.Buf32(y),X.distcode=X.distdyn=new l.Buf32(k),X.sane=1,X.back=-1,g):h}function O(D){var X;return D&&D.state?((X=D.state).wsize=0,X.whave=0,X.wnext=0,_(D)):h}function j(D,X){var C,Q;return D&&D.state?(Q=D.state,X<0?(C=0,X=-X):(C=1+(X>>4),X<48&&(X&=15)),X&&(X<8||15<X)?h:(Q.window!==null&&Q.wbits!==X&&(Q.window=null),Q.wrap=C,Q.wbits=X,O(D))):h}function z(D,X){var C,Q;return D?(Q=new S,(D.state=Q).window=null,(C=j(D,X))!==g&&(D.state=null),C):h}var K,M,N=!0;function Z(D){if(N){var X;for(K=new l.Buf32(512),M=new l.Buf32(32),X=0;X<144;)D.lens[X++]=8;for(;X<256;)D.lens[X++]=9;for(;X<280;)D.lens[X++]=7;for(;X<288;)D.lens[X++]=8;for(f(m,D.lens,0,288,K,0,D.work,{bits:9}),X=0;X<32;)D.lens[X++]=5;f(v,D.lens,0,32,M,0,D.work,{bits:5}),N=!1}D.lencode=K,D.lenbits=9,D.distcode=M,D.distbits=5}function le(D,X,C,Q){var xe,H=D.state;return H.window===null&&(H.wsize=1<<H.wbits,H.wnext=0,H.whave=0,H.window=new l.Buf8(H.wsize)),Q>=H.wsize?(l.arraySet(H.window,X,C-H.wsize,H.wsize,0),H.wnext=0,H.whave=H.wsize):(Q<(xe=H.wsize-H.wnext)&&(xe=Q),l.arraySet(H.window,X,C-Q,xe,H.wnext),(Q-=xe)?(l.arraySet(H.window,X,C-Q,Q,0),H.wnext=Q,H.whave=H.wsize):(H.wnext+=xe,H.wnext===H.wsize&&(H.wnext=0),H.whave<H.wsize&&(H.whave+=xe))),0}a.inflateReset=O,a.inflateReset2=j,a.inflateResetKeep=_,a.inflateInit=function(D){return z(D,15)},a.inflateInit2=z,a.inflate=function(D,X){var C,Q,xe,H,q,ee,ge,A,B,re,ae,ue,te,Oe,me,Ie,Ae,He,Ve,at,I,fe,ce,V,R=0,ne=new l.Buf8(4),ve=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!D||!D.state||!D.output||!D.input&&D.avail_in!==0)return h;(C=D.state).mode===12&&(C.mode=13),q=D.next_out,xe=D.output,ge=D.avail_out,H=D.next_in,Q=D.input,ee=D.avail_in,A=C.hold,B=C.bits,re=ee,ae=ge,fe=g;e:for(;;)switch(C.mode){case b:if(C.wrap===0){C.mode=13;break}for(;B<16;){if(ee===0)break e;ee--,A+=Q[H++]<<B,B+=8}if(2&C.wrap&&A===35615){ne[C.check=0]=255&A,ne[1]=A>>>8&255,C.check=u(C.check,ne,2,0),B=A=0,C.mode=2;break}if(C.flags=0,C.head&&(C.head.done=!1),!(1&C.wrap)||(((255&A)<<8)+(A>>8))%31){D.msg="incorrect header check",C.mode=30;break}if((15&A)!=8){D.msg="unknown compression method",C.mode=30;break}if(B-=4,I=8+(15&(A>>>=4)),C.wbits===0)C.wbits=I;else if(I>C.wbits){D.msg="invalid window size",C.mode=30;break}C.dmax=1<<I,D.adler=C.check=1,C.mode=512&A?10:12,B=A=0;break;case 2:for(;B<16;){if(ee===0)break e;ee--,A+=Q[H++]<<B,B+=8}if(C.flags=A,(255&C.flags)!=8){D.msg="unknown compression method",C.mode=30;break}if(57344&C.flags){D.msg="unknown header flags set",C.mode=30;break}C.head&&(C.head.text=A>>8&1),512&C.flags&&(ne[0]=255&A,ne[1]=A>>>8&255,C.check=u(C.check,ne,2,0)),B=A=0,C.mode=3;case 3:for(;B<32;){if(ee===0)break e;ee--,A+=Q[H++]<<B,B+=8}C.head&&(C.head.time=A),512&C.flags&&(ne[0]=255&A,ne[1]=A>>>8&255,ne[2]=A>>>16&255,ne[3]=A>>>24&255,C.check=u(C.check,ne,4,0)),B=A=0,C.mode=4;case 4:for(;B<16;){if(ee===0)break e;ee--,A+=Q[H++]<<B,B+=8}C.head&&(C.head.xflags=255&A,C.head.os=A>>8),512&C.flags&&(ne[0]=255&A,ne[1]=A>>>8&255,C.check=u(C.check,ne,2,0)),B=A=0,C.mode=5;case 5:if(1024&C.flags){for(;B<16;){if(ee===0)break e;ee--,A+=Q[H++]<<B,B+=8}C.length=A,C.head&&(C.head.extra_len=A),512&C.flags&&(ne[0]=255&A,ne[1]=A>>>8&255,C.check=u(C.check,ne,2,0)),B=A=0}else C.head&&(C.head.extra=null);C.mode=6;case 6:if(1024&C.flags&&(ee<(ue=C.length)&&(ue=ee),ue&&(C.head&&(I=C.head.extra_len-C.length,C.head.extra||(C.head.extra=new Array(C.head.extra_len)),l.arraySet(C.head.extra,Q,H,ue,I)),512&C.flags&&(C.check=u(C.check,Q,ue,H)),ee-=ue,H+=ue,C.length-=ue),C.length))break e;C.length=0,C.mode=7;case 7:if(2048&C.flags){if(ee===0)break e;for(ue=0;I=Q[H+ue++],C.head&&I&&C.length<65536&&(C.head.name+=String.fromCharCode(I)),I&&ue<ee;);if(512&C.flags&&(C.check=u(C.check,Q,ue,H)),ee-=ue,H+=ue,I)break e}else C.head&&(C.head.name=null);C.length=0,C.mode=8;case 8:if(4096&C.flags){if(ee===0)break e;for(ue=0;I=Q[H+ue++],C.head&&I&&C.length<65536&&(C.head.comment+=String.fromCharCode(I)),I&&ue<ee;);if(512&C.flags&&(C.check=u(C.check,Q,ue,H)),ee-=ue,H+=ue,I)break e}else C.head&&(C.head.comment=null);C.mode=9;case 9:if(512&C.flags){for(;B<16;){if(ee===0)break e;ee--,A+=Q[H++]<<B,B+=8}if(A!==(65535&C.check)){D.msg="header crc mismatch",C.mode=30;break}B=A=0}C.head&&(C.head.hcrc=C.flags>>9&1,C.head.done=!0),D.adler=C.check=0,C.mode=12;break;case 10:for(;B<32;){if(ee===0)break e;ee--,A+=Q[H++]<<B,B+=8}D.adler=C.check=x(A),B=A=0,C.mode=11;case 11:if(C.havedict===0)return D.next_out=q,D.avail_out=ge,D.next_in=H,D.avail_in=ee,C.hold=A,C.bits=B,2;D.adler=C.check=1,C.mode=12;case 12:if(X===5||X===6)break e;case 13:if(C.last){A>>>=7&B,B-=7&B,C.mode=27;break}for(;B<3;){if(ee===0)break e;ee--,A+=Q[H++]<<B,B+=8}switch(C.last=1&A,B-=1,3&(A>>>=1)){case 0:C.mode=14;break;case 1:if(Z(C),C.mode=20,X!==6)break;A>>>=2,B-=2;break e;case 2:C.mode=17;break;case 3:D.msg="invalid block type",C.mode=30}A>>>=2,B-=2;break;case 14:for(A>>>=7&B,B-=7&B;B<32;){if(ee===0)break e;ee--,A+=Q[H++]<<B,B+=8}if((65535&A)!=(A>>>16^65535)){D.msg="invalid stored block lengths",C.mode=30;break}if(C.length=65535&A,B=A=0,C.mode=15,X===6)break e;case 15:C.mode=16;case 16:if(ue=C.length){if(ee<ue&&(ue=ee),ge<ue&&(ue=ge),ue===0)break e;l.arraySet(xe,Q,H,ue,q),ee-=ue,H+=ue,ge-=ue,q+=ue,C.length-=ue;break}C.mode=12;break;case 17:for(;B<14;){if(ee===0)break e;ee--,A+=Q[H++]<<B,B+=8}if(C.nlen=257+(31&A),A>>>=5,B-=5,C.ndist=1+(31&A),A>>>=5,B-=5,C.ncode=4+(15&A),A>>>=4,B-=4,286<C.nlen||30<C.ndist){D.msg="too many length or distance symbols",C.mode=30;break}C.have=0,C.mode=18;case 18:for(;C.have<C.ncode;){for(;B<3;){if(ee===0)break e;ee--,A+=Q[H++]<<B,B+=8}C.lens[ve[C.have++]]=7&A,A>>>=3,B-=3}for(;C.have<19;)C.lens[ve[C.have++]]=0;if(C.lencode=C.lendyn,C.lenbits=7,ce={bits:C.lenbits},fe=f(0,C.lens,0,19,C.lencode,0,C.work,ce),C.lenbits=ce.bits,fe){D.msg="invalid code lengths set",C.mode=30;break}C.have=0,C.mode=19;case 19:for(;C.have<C.nlen+C.ndist;){for(;Ie=(R=C.lencode[A&(1<<C.lenbits)-1])>>>16&255,Ae=65535&R,!((me=R>>>24)<=B);){if(ee===0)break e;ee--,A+=Q[H++]<<B,B+=8}if(Ae<16)A>>>=me,B-=me,C.lens[C.have++]=Ae;else{if(Ae===16){for(V=me+2;B<V;){if(ee===0)break e;ee--,A+=Q[H++]<<B,B+=8}if(A>>>=me,B-=me,C.have===0){D.msg="invalid bit length repeat",C.mode=30;break}I=C.lens[C.have-1],ue=3+(3&A),A>>>=2,B-=2}else if(Ae===17){for(V=me+3;B<V;){if(ee===0)break e;ee--,A+=Q[H++]<<B,B+=8}B-=me,I=0,ue=3+(7&(A>>>=me)),A>>>=3,B-=3}else{for(V=me+7;B<V;){if(ee===0)break e;ee--,A+=Q[H++]<<B,B+=8}B-=me,I=0,ue=11+(127&(A>>>=me)),A>>>=7,B-=7}if(C.have+ue>C.nlen+C.ndist){D.msg="invalid bit length repeat",C.mode=30;break}for(;ue--;)C.lens[C.have++]=I}}if(C.mode===30)break;if(C.lens[256]===0){D.msg="invalid code -- missing end-of-block",C.mode=30;break}if(C.lenbits=9,ce={bits:C.lenbits},fe=f(m,C.lens,0,C.nlen,C.lencode,0,C.work,ce),C.lenbits=ce.bits,fe){D.msg="invalid literal/lengths set",C.mode=30;break}if(C.distbits=6,C.distcode=C.distdyn,ce={bits:C.distbits},fe=f(v,C.lens,C.nlen,C.ndist,C.distcode,0,C.work,ce),C.distbits=ce.bits,fe){D.msg="invalid distances set",C.mode=30;break}if(C.mode=20,X===6)break e;case 20:C.mode=21;case 21:if(6<=ee&&258<=ge){D.next_out=q,D.avail_out=ge,D.next_in=H,D.avail_in=ee,C.hold=A,C.bits=B,d(D,ae),q=D.next_out,xe=D.output,ge=D.avail_out,H=D.next_in,Q=D.input,ee=D.avail_in,A=C.hold,B=C.bits,C.mode===12&&(C.back=-1);break}for(C.back=0;Ie=(R=C.lencode[A&(1<<C.lenbits)-1])>>>16&255,Ae=65535&R,!((me=R>>>24)<=B);){if(ee===0)break e;ee--,A+=Q[H++]<<B,B+=8}if(Ie&&!(240&Ie)){for(He=me,Ve=Ie,at=Ae;Ie=(R=C.lencode[at+((A&(1<<He+Ve)-1)>>He)])>>>16&255,Ae=65535&R,!(He+(me=R>>>24)<=B);){if(ee===0)break e;ee--,A+=Q[H++]<<B,B+=8}A>>>=He,B-=He,C.back+=He}if(A>>>=me,B-=me,C.back+=me,C.length=Ae,Ie===0){C.mode=26;break}if(32&Ie){C.back=-1,C.mode=12;break}if(64&Ie){D.msg="invalid literal/length code",C.mode=30;break}C.extra=15&Ie,C.mode=22;case 22:if(C.extra){for(V=C.extra;B<V;){if(ee===0)break e;ee--,A+=Q[H++]<<B,B+=8}C.length+=A&(1<<C.extra)-1,A>>>=C.extra,B-=C.extra,C.back+=C.extra}C.was=C.length,C.mode=23;case 23:for(;Ie=(R=C.distcode[A&(1<<C.distbits)-1])>>>16&255,Ae=65535&R,!((me=R>>>24)<=B);){if(ee===0)break e;ee--,A+=Q[H++]<<B,B+=8}if(!(240&Ie)){for(He=me,Ve=Ie,at=Ae;Ie=(R=C.distcode[at+((A&(1<<He+Ve)-1)>>He)])>>>16&255,Ae=65535&R,!(He+(me=R>>>24)<=B);){if(ee===0)break e;ee--,A+=Q[H++]<<B,B+=8}A>>>=He,B-=He,C.back+=He}if(A>>>=me,B-=me,C.back+=me,64&Ie){D.msg="invalid distance code",C.mode=30;break}C.offset=Ae,C.extra=15&Ie,C.mode=24;case 24:if(C.extra){for(V=C.extra;B<V;){if(ee===0)break e;ee--,A+=Q[H++]<<B,B+=8}C.offset+=A&(1<<C.extra)-1,A>>>=C.extra,B-=C.extra,C.back+=C.extra}if(C.offset>C.dmax){D.msg="invalid distance too far back",C.mode=30;break}C.mode=25;case 25:if(ge===0)break e;if(ue=ae-ge,C.offset>ue){if((ue=C.offset-ue)>C.whave&&C.sane){D.msg="invalid distance too far back",C.mode=30;break}te=ue>C.wnext?(ue-=C.wnext,C.wsize-ue):C.wnext-ue,ue>C.length&&(ue=C.length),Oe=C.window}else Oe=xe,te=q-C.offset,ue=C.length;for(ge<ue&&(ue=ge),ge-=ue,C.length-=ue;xe[q++]=Oe[te++],--ue;);C.length===0&&(C.mode=21);break;case 26:if(ge===0)break e;xe[q++]=C.length,ge--,C.mode=21;break;case 27:if(C.wrap){for(;B<32;){if(ee===0)break e;ee--,A|=Q[H++]<<B,B+=8}if(ae-=ge,D.total_out+=ae,C.total+=ae,ae&&(D.adler=C.check=C.flags?u(C.check,xe,ae,q-ae):s(C.check,xe,ae,q-ae)),ae=ge,(C.flags?A:x(A))!==C.check){D.msg="incorrect data check",C.mode=30;break}B=A=0}C.mode=28;case 28:if(C.wrap&&C.flags){for(;B<32;){if(ee===0)break e;ee--,A+=Q[H++]<<B,B+=8}if(A!==(4294967295&C.total)){D.msg="incorrect length check",C.mode=30;break}B=A=0}C.mode=29;case 29:fe=1;break e;case 30:fe=-3;break e;case 31:return-4;case 32:default:return h}return D.next_out=q,D.avail_out=ge,D.next_in=H,D.avail_in=ee,C.hold=A,C.bits=B,(C.wsize||ae!==D.avail_out&&C.mode<30&&(C.mode<27||X!==4))&&le(D,D.output,D.next_out,ae-D.avail_out)?(C.mode=31,-4):(re-=D.avail_in,ae-=D.avail_out,D.total_in+=re,D.total_out+=ae,C.total+=ae,C.wrap&&ae&&(D.adler=C.check=C.flags?u(C.check,xe,ae,D.next_out-ae):s(C.check,xe,ae,D.next_out-ae)),D.data_type=C.bits+(C.last?64:0)+(C.mode===12?128:0)+(C.mode===20||C.mode===15?256:0),(re==0&&ae===0||X===4)&&fe===g&&(fe=-5),fe)},a.inflateEnd=function(D){if(!D||!D.state)return h;var X=D.state;return X.window&&(X.window=null),D.state=null,g},a.inflateGetHeader=function(D,X){var C;return D&&D.state&&2&(C=D.state).wrap?((C.head=X).done=!1,g):h},a.inflateSetDictionary=function(D,X){var C,Q=X.length;return D&&D.state?(C=D.state).wrap!==0&&C.mode!==11?h:C.mode===11&&s(1,X,Q,0)!==C.check?-3:le(D,X,Q,Q)?(C.mode=31,-4):(C.havedict=1,g):h},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,o,a){var l=n("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];o.exports=function(m,v,g,h,b,y,k,x){var S,_,O,j,z,K,M,N,Z,le=x.bits,D=0,X=0,C=0,Q=0,xe=0,H=0,q=0,ee=0,ge=0,A=0,B=null,re=0,ae=new l.Buf16(16),ue=new l.Buf16(16),te=null,Oe=0;for(D=0;D<=15;D++)ae[D]=0;for(X=0;X<h;X++)ae[v[g+X]]++;for(xe=le,Q=15;1<=Q&&ae[Q]===0;Q--);if(Q<xe&&(xe=Q),Q===0)return b[y++]=20971520,b[y++]=20971520,x.bits=1,0;for(C=1;C<Q&&ae[C]===0;C++);for(xe<C&&(xe=C),D=ee=1;D<=15;D++)if(ee<<=1,(ee-=ae[D])<0)return-1;if(0<ee&&(m===0||Q!==1))return-1;for(ue[1]=0,D=1;D<15;D++)ue[D+1]=ue[D]+ae[D];for(X=0;X<h;X++)v[g+X]!==0&&(k[ue[v[g+X]]++]=X);if(K=m===0?(B=te=k,19):m===1?(B=s,re-=257,te=u,Oe-=257,256):(B=d,te=f,-1),D=C,z=y,q=X=A=0,O=-1,j=(ge=1<<(H=xe))-1,m===1&&852<ge||m===2&&592<ge)return 1;for(;;){for(M=D-q,Z=k[X]<K?(N=0,k[X]):k[X]>K?(N=te[Oe+k[X]],B[re+k[X]]):(N=96,0),S=1<<D-q,C=_=1<<H;b[z+(A>>q)+(_-=S)]=M<<24|N<<16|Z|0,_!==0;);for(S=1<<D-1;A&S;)S>>=1;if(S!==0?(A&=S-1,A+=S):A=0,X++,--ae[D]==0){if(D===Q)break;D=v[g+k[X]]}if(xe<D&&(A&j)!==O){for(q===0&&(q=xe),z+=C,ee=1<<(H=D-q);H+q<Q&&!((ee-=ae[H+q])<=0);)H++,ee<<=1;if(ge+=1<<H,m===1&&852<ge||m===2&&592<ge)return 1;b[O=A&j]=xe<<24|H<<16|z-y|0}}return A!==0&&(b[z+A]=D-q<<24|64<<16|0),x.bits=xe,0}},{"../utils/common":41}],51:[function(n,o,a){o.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,o,a){var l=n("../utils/common"),s=0,u=1;function d(R){for(var ne=R.length;0<=--ne;)R[ne]=0}var f=0,m=29,v=256,g=v+1+m,h=30,b=19,y=2*g+1,k=15,x=16,S=7,_=256,O=16,j=17,z=18,K=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],M=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],N=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],le=new Array(2*(g+2));d(le);var D=new Array(2*h);d(D);var X=new Array(512);d(X);var C=new Array(256);d(C);var Q=new Array(m);d(Q);var xe,H,q,ee=new Array(h);function ge(R,ne,ve,ke,oe){this.static_tree=R,this.extra_bits=ne,this.extra_base=ve,this.elems=ke,this.max_length=oe,this.has_stree=R&&R.length}function A(R,ne){this.dyn_tree=R,this.max_code=0,this.stat_desc=ne}function B(R){return R<256?X[R]:X[256+(R>>>7)]}function re(R,ne){R.pending_buf[R.pending++]=255&ne,R.pending_buf[R.pending++]=ne>>>8&255}function ae(R,ne,ve){R.bi_valid>x-ve?(R.bi_buf|=ne<<R.bi_valid&65535,re(R,R.bi_buf),R.bi_buf=ne>>x-R.bi_valid,R.bi_valid+=ve-x):(R.bi_buf|=ne<<R.bi_valid&65535,R.bi_valid+=ve)}function ue(R,ne,ve){ae(R,ve[2*ne],ve[2*ne+1])}function te(R,ne){for(var ve=0;ve|=1&R,R>>>=1,ve<<=1,0<--ne;);return ve>>>1}function Oe(R,ne,ve){var ke,oe,Se=new Array(k+1),ye=0;for(ke=1;ke<=k;ke++)Se[ke]=ye=ye+ve[ke-1]<<1;for(oe=0;oe<=ne;oe++){var we=R[2*oe+1];we!==0&&(R[2*oe]=te(Se[we]++,we))}}function me(R){var ne;for(ne=0;ne<g;ne++)R.dyn_ltree[2*ne]=0;for(ne=0;ne<h;ne++)R.dyn_dtree[2*ne]=0;for(ne=0;ne<b;ne++)R.bl_tree[2*ne]=0;R.dyn_ltree[2*_]=1,R.opt_len=R.static_len=0,R.last_lit=R.matches=0}function Ie(R){8<R.bi_valid?re(R,R.bi_buf):0<R.bi_valid&&(R.pending_buf[R.pending++]=R.bi_buf),R.bi_buf=0,R.bi_valid=0}function Ae(R,ne,ve,ke){var oe=2*ne,Se=2*ve;return R[oe]<R[Se]||R[oe]===R[Se]&&ke[ne]<=ke[ve]}function He(R,ne,ve){for(var ke=R.heap[ve],oe=ve<<1;oe<=R.heap_len&&(oe<R.heap_len&&Ae(ne,R.heap[oe+1],R.heap[oe],R.depth)&&oe++,!Ae(ne,ke,R.heap[oe],R.depth));)R.heap[ve]=R.heap[oe],ve=oe,oe<<=1;R.heap[ve]=ke}function Ve(R,ne,ve){var ke,oe,Se,ye,we=0;if(R.last_lit!==0)for(;ke=R.pending_buf[R.d_buf+2*we]<<8|R.pending_buf[R.d_buf+2*we+1],oe=R.pending_buf[R.l_buf+we],we++,ke===0?ue(R,oe,ne):(ue(R,(Se=C[oe])+v+1,ne),(ye=K[Se])!==0&&ae(R,oe-=Q[Se],ye),ue(R,Se=B(--ke),ve),(ye=M[Se])!==0&&ae(R,ke-=ee[Se],ye)),we<R.last_lit;);ue(R,_,ne)}function at(R,ne){var ve,ke,oe,Se=ne.dyn_tree,ye=ne.stat_desc.static_tree,we=ne.stat_desc.has_stree,Ue=ne.stat_desc.elems,ot=-1;for(R.heap_len=0,R.heap_max=y,ve=0;ve<Ue;ve++)Se[2*ve]!==0?(R.heap[++R.heap_len]=ot=ve,R.depth[ve]=0):Se[2*ve+1]=0;for(;R.heap_len<2;)Se[2*(oe=R.heap[++R.heap_len]=ot<2?++ot:0)]=1,R.depth[oe]=0,R.opt_len--,we&&(R.static_len-=ye[2*oe+1]);for(ne.max_code=ot,ve=R.heap_len>>1;1<=ve;ve--)He(R,Se,ve);for(oe=Ue;ve=R.heap[1],R.heap[1]=R.heap[R.heap_len--],He(R,Se,1),ke=R.heap[1],R.heap[--R.heap_max]=ve,R.heap[--R.heap_max]=ke,Se[2*oe]=Se[2*ve]+Se[2*ke],R.depth[oe]=(R.depth[ve]>=R.depth[ke]?R.depth[ve]:R.depth[ke])+1,Se[2*ve+1]=Se[2*ke+1]=oe,R.heap[1]=oe++,He(R,Se,1),2<=R.heap_len;);R.heap[--R.heap_max]=R.heap[1],function(Xe,an){var Mi,hn,Ar,_t,tl,Cs,Br=an.dyn_tree,Is=an.max_code,Qc=an.stat_desc.static_tree,Jc=an.stat_desc.has_stree,ed=an.stat_desc.extra_bits,js=an.stat_desc.extra_base,ir=an.stat_desc.max_length,Mr=0;for(_t=0;_t<=k;_t++)Xe.bl_count[_t]=0;for(Br[2*Xe.heap[Xe.heap_max]+1]=0,Mi=Xe.heap_max+1;Mi<y;Mi++)ir<(_t=Br[2*Br[2*(hn=Xe.heap[Mi])+1]+1]+1)&&(_t=ir,Mr++),Br[2*hn+1]=_t,Is<hn||(Xe.bl_count[_t]++,tl=0,js<=hn&&(tl=ed[hn-js]),Cs=Br[2*hn],Xe.opt_len+=Cs*(_t+tl),Jc&&(Xe.static_len+=Cs*(Qc[2*hn+1]+tl)));if(Mr!==0){do{for(_t=ir-1;Xe.bl_count[_t]===0;)_t--;Xe.bl_count[_t]--,Xe.bl_count[_t+1]+=2,Xe.bl_count[ir]--,Mr-=2}while(0<Mr);for(_t=ir;_t!==0;_t--)for(hn=Xe.bl_count[_t];hn!==0;)Is<(Ar=Xe.heap[--Mi])||(Br[2*Ar+1]!==_t&&(Xe.opt_len+=(_t-Br[2*Ar+1])*Br[2*Ar],Br[2*Ar+1]=_t),hn--)}}(R,ne),Oe(Se,ot,R.bl_count)}function I(R,ne,ve){var ke,oe,Se=-1,ye=ne[1],we=0,Ue=7,ot=4;for(ye===0&&(Ue=138,ot=3),ne[2*(ve+1)+1]=65535,ke=0;ke<=ve;ke++)oe=ye,ye=ne[2*(ke+1)+1],++we<Ue&&oe===ye||(we<ot?R.bl_tree[2*oe]+=we:oe!==0?(oe!==Se&&R.bl_tree[2*oe]++,R.bl_tree[2*O]++):we<=10?R.bl_tree[2*j]++:R.bl_tree[2*z]++,Se=oe,ot=(we=0)===ye?(Ue=138,3):oe===ye?(Ue=6,3):(Ue=7,4))}function fe(R,ne,ve){var ke,oe,Se=-1,ye=ne[1],we=0,Ue=7,ot=4;for(ye===0&&(Ue=138,ot=3),ke=0;ke<=ve;ke++)if(oe=ye,ye=ne[2*(ke+1)+1],!(++we<Ue&&oe===ye)){if(we<ot)for(;ue(R,oe,R.bl_tree),--we!=0;);else oe!==0?(oe!==Se&&(ue(R,oe,R.bl_tree),we--),ue(R,O,R.bl_tree),ae(R,we-3,2)):we<=10?(ue(R,j,R.bl_tree),ae(R,we-3,3)):(ue(R,z,R.bl_tree),ae(R,we-11,7));Se=oe,ot=(we=0)===ye?(Ue=138,3):oe===ye?(Ue=6,3):(Ue=7,4)}}d(ee);var ce=!1;function V(R,ne,ve,ke){ae(R,(f<<1)+(ke?1:0),3),function(oe,Se,ye,we){Ie(oe),we&&(re(oe,ye),re(oe,~ye)),l.arraySet(oe.pending_buf,oe.window,Se,ye,oe.pending),oe.pending+=ye}(R,ne,ve,!0)}a._tr_init=function(R){ce||(function(){var ne,ve,ke,oe,Se,ye=new Array(k+1);for(oe=ke=0;oe<m-1;oe++)for(Q[oe]=ke,ne=0;ne<1<<K[oe];ne++)C[ke++]=oe;for(C[ke-1]=oe,oe=Se=0;oe<16;oe++)for(ee[oe]=Se,ne=0;ne<1<<M[oe];ne++)X[Se++]=oe;for(Se>>=7;oe<h;oe++)for(ee[oe]=Se<<7,ne=0;ne<1<<M[oe]-7;ne++)X[256+Se++]=oe;for(ve=0;ve<=k;ve++)ye[ve]=0;for(ne=0;ne<=143;)le[2*ne+1]=8,ne++,ye[8]++;for(;ne<=255;)le[2*ne+1]=9,ne++,ye[9]++;for(;ne<=279;)le[2*ne+1]=7,ne++,ye[7]++;for(;ne<=287;)le[2*ne+1]=8,ne++,ye[8]++;for(Oe(le,g+1,ye),ne=0;ne<h;ne++)D[2*ne+1]=5,D[2*ne]=te(ne,5);xe=new ge(le,K,v+1,g,k),H=new ge(D,M,0,h,k),q=new ge(new Array(0),N,0,b,S)}(),ce=!0),R.l_desc=new A(R.dyn_ltree,xe),R.d_desc=new A(R.dyn_dtree,H),R.bl_desc=new A(R.bl_tree,q),R.bi_buf=0,R.bi_valid=0,me(R)},a._tr_stored_block=V,a._tr_flush_block=function(R,ne,ve,ke){var oe,Se,ye=0;0<R.level?(R.strm.data_type===2&&(R.strm.data_type=function(we){var Ue,ot=4093624447;for(Ue=0;Ue<=31;Ue++,ot>>>=1)if(1&ot&&we.dyn_ltree[2*Ue]!==0)return s;if(we.dyn_ltree[18]!==0||we.dyn_ltree[20]!==0||we.dyn_ltree[26]!==0)return u;for(Ue=32;Ue<v;Ue++)if(we.dyn_ltree[2*Ue]!==0)return u;return s}(R)),at(R,R.l_desc),at(R,R.d_desc),ye=function(we){var Ue;for(I(we,we.dyn_ltree,we.l_desc.max_code),I(we,we.dyn_dtree,we.d_desc.max_code),at(we,we.bl_desc),Ue=b-1;3<=Ue&&we.bl_tree[2*Z[Ue]+1]===0;Ue--);return we.opt_len+=3*(Ue+1)+5+5+4,Ue}(R),oe=R.opt_len+3+7>>>3,(Se=R.static_len+3+7>>>3)<=oe&&(oe=Se)):oe=Se=ve+5,ve+4<=oe&&ne!==-1?V(R,ne,ve,ke):R.strategy===4||Se===oe?(ae(R,2+(ke?1:0),3),Ve(R,le,D)):(ae(R,4+(ke?1:0),3),function(we,Ue,ot,Xe){var an;for(ae(we,Ue-257,5),ae(we,ot-1,5),ae(we,Xe-4,4),an=0;an<Xe;an++)ae(we,we.bl_tree[2*Z[an]+1],3);fe(we,we.dyn_ltree,Ue-1),fe(we,we.dyn_dtree,ot-1)}(R,R.l_desc.max_code+1,R.d_desc.max_code+1,ye+1),Ve(R,R.dyn_ltree,R.dyn_dtree)),me(R),ke&&Ie(R)},a._tr_tally=function(R,ne,ve){return R.pending_buf[R.d_buf+2*R.last_lit]=ne>>>8&255,R.pending_buf[R.d_buf+2*R.last_lit+1]=255&ne,R.pending_buf[R.l_buf+R.last_lit]=255&ve,R.last_lit++,ne===0?R.dyn_ltree[2*ve]++:(R.matches++,ne--,R.dyn_ltree[2*(C[ve]+v+1)]++,R.dyn_dtree[2*B(ne)]++),R.last_lit===R.lit_bufsize-1},a._tr_align=function(R){ae(R,2,3),ue(R,_,le),function(ne){ne.bi_valid===16?(re(ne,ne.bi_buf),ne.bi_buf=0,ne.bi_valid=0):8<=ne.bi_valid&&(ne.pending_buf[ne.pending++]=255&ne.bi_buf,ne.bi_buf>>=8,ne.bi_valid-=8)}(R)}},{"../utils/common":41}],53:[function(n,o,a){o.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,o,a){(function(l){(function(s,u){if(!s.setImmediate){var d,f,m,v,g=1,h={},b=!1,y=s.document,k=Object.getPrototypeOf&&Object.getPrototypeOf(s);k=k&&k.setTimeout?k:s,d={}.toString.call(s.process)==="[object process]"?function(O){process.nextTick(function(){S(O)})}:function(){if(s.postMessage&&!s.importScripts){var O=!0,j=s.onmessage;return s.onmessage=function(){O=!1},s.postMessage("","*"),s.onmessage=j,O}}()?(v="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",_,!1):s.attachEvent("onmessage",_),function(O){s.postMessage(v+O,"*")}):s.MessageChannel?((m=new MessageChannel).port1.onmessage=function(O){S(O.data)},function(O){m.port2.postMessage(O)}):y&&"onreadystatechange"in y.createElement("script")?(f=y.documentElement,function(O){var j=y.createElement("script");j.onreadystatechange=function(){S(O),j.onreadystatechange=null,f.removeChild(j),j=null},f.appendChild(j)}):function(O){setTimeout(S,0,O)},k.setImmediate=function(O){typeof O!="function"&&(O=new Function(""+O));for(var j=new Array(arguments.length-1),z=0;z<j.length;z++)j[z]=arguments[z+1];var K={callback:O,args:j};return h[g]=K,d(g),g++},k.clearImmediate=x}function x(O){delete h[O]}function S(O){if(b)setTimeout(S,0,O);else{var j=h[O];if(j){b=!0;try{(function(z){var K=z.callback,M=z.args;switch(M.length){case 0:K();break;case 1:K(M[0]);break;case 2:K(M[0],M[1]);break;case 3:K(M[0],M[1],M[2]);break;default:K.apply(u,M)}})(j)}finally{x(O),b=!1}}}}function _(O){O.source===s&&typeof O.data=="string"&&O.data.indexOf(v)===0&&S(+O.data.slice(v.length))}})(typeof self>"u"?l===void 0?this:l:self)}).call(this,typeof Zn<"u"?Zn:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}),C1,Wp,$T,I1,LT,XT,dc,ZT,j1,GT,Hp,fc,pc,bi,YT,QT,JT,os,In,ez,tz,O1,qp,mee=P(()=>{C1=$(G(),1),Wp=$(G(),1),$T=e=>typeof e=="function",I1=(e,t)=>$T(e)?e(t):e,LT=(()=>{let e=0;return()=>(++e).toString()})(),XT=20,dc=new Map,ZT=1e3,j1=e=>{if(dc.has(e))return;let t=setTimeout(()=>{dc.delete(e),bi({type:4,toastId:e})},ZT);dc.set(e,t)},GT=e=>{let t=dc.get(e);t&&clearTimeout(t)},Hp=(e,t)=>{switch(t.type){case 0:return he(L({},e),{toasts:[t.toast,...e.toasts].slice(0,XT)});case 1:return t.toast.id&&GT(t.toast.id),he(L({},e),{toasts:e.toasts.map(l=>l.id===t.toast.id?L(L({},l),t.toast):l)});case 2:let{toast:n}=t;return e.toasts.find(l=>l.id===n.id)?Hp(e,{type:1,toast:n}):Hp(e,{type:0,toast:n});case 3:let{toastId:o}=t;return o?j1(o):e.toasts.forEach(l=>{j1(l.id)}),he(L({},e),{toasts:e.toasts.map(l=>l.id===o||o===void 0?he(L({},l),{visible:!1}):l)});case 4:return t.toastId===void 0?he(L({},e),{toasts:[]}):he(L({},e),{toasts:e.toasts.filter(l=>l.id!==t.toastId)});case 5:return he(L({},e),{pausedAt:t.time});case 6:let a=t.time-(e.pausedAt||0);return he(L({},e),{pausedAt:void 0,toasts:e.toasts.map(l=>he(L({},l),{pauseDuration:l.pauseDuration+a}))})}},fc=[],pc={toasts:[],pausedAt:void 0},bi=e=>{pc=Hp(pc,e),fc.forEach(t=>{t(pc)})},YT={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},QT=(e={})=>{let[t,n]=(0,C1.useState)(pc);(0,C1.useEffect)(()=>(fc.push(n),()=>{let a=fc.indexOf(n);a>-1&&fc.splice(a,1)}),[t]);let o=t.toasts.map(a=>{var l,s;return he(L(L(L({},e),e[a.type]),a),{duration:a.duration||((l=e[a.type])==null?void 0:l.duration)||(e==null?void 0:e.duration)||YT[a.type],style:L(L(L({},e.style),(s=e[a.type])==null?void 0:s.style),a.style)})});return he(L({},t),{toasts:o})},JT=(e,t="blank",n)=>he(L({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},n),{id:(n==null?void 0:n.id)||LT()}),os=e=>(t,n)=>{let o=JT(t,e,n);return bi({type:2,toast:o}),o.id},In=(e,t)=>os("blank")(e,t),In.error=os("error"),In.success=os("success"),In.loading=os("loading"),In.custom=os("custom"),In.dismiss=e=>{bi({type:3,toastId:e})},In.remove=e=>bi({type:4,toastId:e}),In.promise=(e,t,n)=>{let o=In.loading(t.loading,L(L({},n),n==null?void 0:n.loading));return e.then(a=>(In.success(I1(t.success,a),L(L({id:o},n),n==null?void 0:n.success)),a)).catch(a=>{In.error(I1(t.error,a),L(L({id:o},n),n==null?void 0:n.error))}),e},ez=(e,t)=>{bi({type:1,toast:{id:e,height:t}})},tz=()=>{bi({type:5,time:Date.now()})},O1=e=>{let{toasts:t,pausedAt:n}=QT(e);(0,Wp.useEffect)(()=>{if(n)return;let l=Date.now(),s=t.map(u=>{if(u.duration===1/0)return;let d=(u.duration||0)+u.pauseDuration-(l-u.createdAt);if(d<0){u.visible&&In.dismiss(u.id);return}return setTimeout(()=>In.dismiss(u.id),d)});return()=>{s.forEach(u=>u&&clearTimeout(u))}},[t,n]);let o=(0,Wp.useCallback)(()=>{n&&bi({type:6,time:Date.now()})},[n]),a=(0,Wp.useCallback)((l,s)=>{let{reverseOrder:u=!1,gutter:d=8,defaultPosition:f}=s||{},m=t.filter(h=>(h.position||f)===(l.position||f)&&h.height),v=m.findIndex(h=>h.id===l.id),g=m.filter((h,b)=>b<v&&h.visible).length;return m.filter(h=>h.visible).slice(...u?[g+1]:[0,g]).reduce((h,b)=>h+(b.height||0)+d,0)},[t]);return{toasts:t,handlers:{updateHeight:ez,startPause:tz,endPause:o,calculateOffset:a}}},qp=In});function nz(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function gee(e){Ea=e}function $t(e,t){if(t){if(cz.test(e))return e.replace(dz,T1)}else if(fz.test(e))return e.replace(pz,T1);return e}function rz(e){return e.replace(mz,(t,n)=>(n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""))}function ct(e,t){e=typeof e=="string"?e:e.source,t=t||"";let n={replace:(o,a)=>(a=a.source||a,a=a.replace(gz,"$1"),e=e.replace(o,a),n),getRegex:()=>new RegExp(e,t)};return n}function oz(e,t,n){if(e){let o;try{o=decodeURIComponent(rz(n)).replace(vz,"").toLowerCase()}catch{return null}if(o.indexOf("javascript:")===0||o.indexOf("vbscript:")===0||o.indexOf("data:")===0)return null}t&&!yz.test(n)&&(n=vee(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}function vee(e,t){hc[" "+e]||(bz.test(e)?hc[" "+e]=e+"/":hc[" "+e]=$p(e,"/",!0)),e=hc[" "+e];let n=e.indexOf(":")===-1;return t.substring(0,2)==="//"?n?t:e.replace(kz,"$1")+t:t.charAt(0)==="/"?n?t:e.replace(wz,"$1")+t:e+t}function Pr(e){let t=1,n,o;for(;t<arguments.length;t++){n=arguments[t];for(o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}function iz(e,t){let n=e.replace(/\|/g,(l,s,u)=>{let d=!1,f=s;for(;--f>=0&&u[f]==="\\";)d=!d;return d?"|":" |"}),o=n.split(/ \|/),a=0;if(o[0].trim()||o.shift(),o.length>0&&!o[o.length-1].trim()&&o.pop(),o.length>t)o.splice(t);else for(;o.length<t;)o.push("");for(;a<o.length;a++)o[a]=o[a].trim().replace(/\\\|/g,"|");return o}function $p(e,t,n){let o=e.length;if(o===0)return"";let a=0;for(;a<o;){let l=e.charAt(o-a-1);if(l===t&&!n)a++;else if(l!==t&&n)a++;else break}return e.slice(0,o-a)}function yee(e,t){if(e.indexOf(t[1])===-1)return-1;let n=e.length,o=0,a=0;for(;a<n;a++)if(e[a]==="\\")a++;else if(e[a]===t[0])o++;else if(e[a]===t[1]&&(o--,o<0))return a;return-1}function az(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function lz(e,t){if(t<1)return"";let n="";for(;t>1;)t&1&&(n+=e),t>>=1,e+=e;return n+e}function sz(e,t,n,o){let a=t.href,l=t.title?$t(t.title):null,s=e[1].replace(/\\([\[\]])/g,"$1");if(e[0].charAt(0)!=="!"){o.state.inLink=!0;let u={type:"link",raw:n,href:a,title:l,text:s,tokens:o.inlineTokens(s)};return o.state.inLink=!1,u}return{type:"image",raw:n,href:a,title:l,text:$t(s)}}function bee(e,t){let n=e.match(/^(\s+)(?:```)/);if(n===null)return t;let o=n[1];return t.split(`
`).map(a=>{let l=a.match(/^\s+/);if(l===null)return a;let[s]=l;return s.length>=o.length?a.slice(o.length):a}).join(`
`)}function kee(e){return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function uz(e){let t="",n,o,a=e.length;for(n=0;n<a;n++)o=e.charCodeAt(n),Math.random()>.5&&(o="x"+o.toString(16)),t+="&#"+o+";";return t}function Le(e,t,n){if(typeof e>"u"||e===null)throw new Error("marked(): input parameter is undefined or null");if(typeof e!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(typeof t=="function"&&(n=t,t=null),t=Pr({},Le.defaults,t||{}),az(t),n){let a=t.highlight,l;try{l=_a.lex(e,t)}catch(d){return n(d)}let s=function(d){let f;if(!d)try{t.walkTokens&&Le.walkTokens(l,t.walkTokens),f=ki.parse(l,t)}catch(m){d=m}return t.highlight=a,d?n(d):n(null,f)};if(!a||a.length<3||(delete t.highlight,!l.length))return s();let u=0;Le.walkTokens(l,function(d){d.type==="code"&&(u++,setTimeout(()=>{a(d.text,d.lang,function(f,m){if(f)return s(f);m!=null&&m!==d.text&&(d.text=m,d.escaped=!0),u--,u===0&&s()})},0))}),u===0&&s();return}function o(a){if(a.message+=`
Please report this to https://github.com/markedjs/marked.`,t.silent)return"<p>An error occurred:</p><pre>"+$t(a.message+"",!0)+"</pre>";throw a}try{let a=_a.lex(e,t);if(t.walkTokens){if(t.async)return Promise.all(Le.walkTokens(a,t.walkTokens)).then(()=>ki.parse(a,t)).catch(o);Le.walkTokens(a,t.walkTokens)}return ki.parse(a,t)}catch(a){o(a)}}var Ea,cz,dz,fz,pz,hz,T1,mz,gz,vz,yz,hc,bz,kz,wz,mc,Lp,We,ze,_a,Xp,z1,D1,ki,wee=P(()=>{Ea=nz(),cz=/[&<>"']/,dz=/[&<>"']/g,fz=/[<>"']|&(?!#?\w+;)/,pz=/[<>"']|&(?!#?\w+;)/g,hz={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},T1=e=>hz[e],mz=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,gz=/(^|[^\[])\^/g,vz=/[^\w:]/g,yz=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i,hc={},bz=/^[^:]+:\/*[^/]*$/,kz=/^([^:]+:)[\s\S]*$/,wz=/^([^:]+:\/*[^/]*)[\s\S]*$/,mc={exec:function(){}},Lp=class{constructor(e){this.options=e||Ea}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let n=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:$p(n,`
`)}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let n=t[0],o=bee(n,t[3]||"");return{type:"code",raw:n,lang:t[2]?t[2].trim():t[2],text:o}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(/#$/.test(n)){let o=$p(n,"#");(this.options.pedantic||!o||/ $/.test(o))&&(n=o.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let n=t[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:t[0],tokens:this.lexer.blockTokens(n,[]),text:n}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n,o,a,l,s,u,d,f,m,v,g,h,b=t[1].trim(),y=b.length>1,k={type:"list",raw:"",ordered:y,start:y?+b.slice(0,-1):"",loose:!1,items:[]};b=y?"\\d{1,9}\\".concat(b.slice(-1)):"\\".concat(b),this.options.pedantic&&(b=y?b:"[*+-]");let x=new RegExp("^( {0,3}".concat(b,")((?:[	 ][^\\n]*)?(?:\\n|$))"));for(;e&&(h=!1,!(!(t=x.exec(e))||this.rules.block.hr.test(e)));){if(n=t[0],e=e.substring(n.length),f=t[2].split(`
`,1)[0],m=e.split(`
`,1)[0],this.options.pedantic?(l=2,g=f.trimLeft()):(l=t[2].search(/[^ ]/),l=l>4?1:l,g=f.slice(l),l+=t[1].length),u=!1,!f&&/^ *$/.test(m)&&(n+=m+`
`,e=e.substring(m.length+1),h=!0),!h){let _=new RegExp("^ {0,".concat(Math.min(3,l-1),"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))")),O=new RegExp("^ {0,".concat(Math.min(3,l-1),"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)")),j=new RegExp("^ {0,".concat(Math.min(3,l-1),"}(?:```|~~~)")),z=new RegExp("^ {0,".concat(Math.min(3,l-1),"}#"));for(;e&&(v=e.split(`
`,1)[0],f=v,this.options.pedantic&&(f=f.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(j.test(f)||z.test(f)||_.test(f)||O.test(e)));){if(f.search(/[^ ]/)>=l||!f.trim())g+=`
`+f.slice(l);else if(!u)g+=`
`+f;else break;!u&&!f.trim()&&(u=!0),n+=v+`
`,e=e.substring(v.length+1)}}k.loose||(d?k.loose=!0:/\n *\n *$/.test(n)&&(d=!0)),this.options.gfm&&(o=/^\[[ xX]\] /.exec(g),o&&(a=o[0]!=="[ ] ",g=g.replace(/^\[[ xX]\] +/,""))),k.items.push({type:"list_item",raw:n,task:!!o,checked:a,loose:!1,text:g}),k.raw+=n}k.items[k.items.length-1].raw=n.trimRight(),k.items[k.items.length-1].text=g.trimRight(),k.raw=k.raw.trimRight();let S=k.items.length;for(s=0;s<S;s++){this.lexer.state.top=!1,k.items[s].tokens=this.lexer.blockTokens(k.items[s].text,[]);let _=k.items[s].tokens.filter(j=>j.type==="space"),O=_.every(j=>{let z=j.raw.split(""),K=0;for(let M of z)if(M===`
`&&(K+=1),K>1)return!0;return!1});!k.loose&&_.length&&O&&(k.loose=!0,k.items[s].loose=!0)}return k}}html(e){let t=this.rules.block.html.exec(e);if(t){let n={type:"html",raw:t[0],pre:!this.options.sanitizer&&(t[1]==="pre"||t[1]==="script"||t[1]==="style"),text:t[0]};if(this.options.sanitize){let o=this.options.sanitizer?this.options.sanitizer(t[0]):$t(t[0]);n.type="paragraph",n.text=o,n.tokens=this.lexer.inline(o)}return n}}def(e){let t=this.rules.block.def.exec(e);if(t)return t[3]&&(t[3]=t[3].substring(1,t[3].length-1)),{type:"def",tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}}table(e){let t=this.rules.block.table.exec(e);if(t){let n={type:"table",header:iz(t[1]).map(o=>({text:o})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(n.header.length===n.align.length){n.raw=t[0];let o=n.align.length,a,l,s,u;for(a=0;a<o;a++)/^ *-+: *$/.test(n.align[a])?n.align[a]="right":/^ *:-+: *$/.test(n.align[a])?n.align[a]="center":/^ *:-+ *$/.test(n.align[a])?n.align[a]="left":n.align[a]=null;for(o=n.rows.length,a=0;a<o;a++)n.rows[a]=iz(n.rows[a],n.header.length).map(d=>({text:d}));for(o=n.header.length,l=0;l<o;l++)n.header[l].tokens=this.lexer.inline(n.header[l].text);for(o=n.rows.length,l=0;l<o;l++)for(u=n.rows[l],s=0;s<u.length;s++)u[s].tokens=this.lexer.inline(u[s].text);return n}}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let n=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:$t(t[1])}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):$t(t[0]):t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let n=t[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;let l=$p(n.slice(0,-1),"\\");if((n.length-l.length)%2===0)return}else{let l=yee(t[2],"()");if(l>-1){let s=(t[0].indexOf("!")===0?5:4)+t[1].length+l;t[2]=t[2].substring(0,l),t[0]=t[0].substring(0,s).trim(),t[3]=""}}let o=t[2],a="";if(this.options.pedantic){let l=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);l&&(o=l[1],a=l[3])}else a=t[3]?t[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(this.options.pedantic&&!/>$/.test(n)?o=o.slice(1):o=o.slice(1,-1)),sz(t,{href:o&&o.replace(this.rules.inline._escapes,"$1"),title:a&&a.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let o=(n[2]||n[1]).replace(/\s+/g," ");if(o=t[o.toLowerCase()],!o||!o.href){let a=n[0].charAt(0);return{type:"text",raw:a,text:a}}return sz(n,o,n[0],this.lexer)}}emStrong(e,t,n=""){let o=this.rules.inline.emStrong.lDelim.exec(e);if(!o||o[3]&&n.match(/[\p{L}\p{N}]/u))return;let a=o[1]||o[2]||"";if(!a||a&&(n===""||this.rules.inline.punctuation.exec(n))){let l=o[0].length-1,s,u,d=l,f=0,m=o[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(m.lastIndex=0,t=t.slice(-1*e.length+l);(o=m.exec(t))!=null;){if(s=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!s)continue;if(u=s.length,o[3]||o[4]){d+=u;continue}else if((o[5]||o[6])&&l%3&&!((l+u)%3)){f+=u;continue}if(d-=u,d>0)continue;if(u=Math.min(u,u+d+f),Math.min(l,u)%2){let g=e.slice(1,l+o.index+u);return{type:"em",raw:e.slice(0,l+o.index+u+1),text:g,tokens:this.lexer.inlineTokens(g)}}let v=e.slice(2,l+o.index+u-1);return{type:"strong",raw:e.slice(0,l+o.index+u+1),text:v,tokens:this.lexer.inlineTokens(v)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(/\n/g," "),o=/[^ ]/.test(n),a=/^ /.test(n)&&/ $/.test(n);return o&&a&&(n=n.substring(1,n.length-1)),n=$t(n,!0),{type:"codespan",raw:t[0],text:n}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){let n=this.rules.inline.autolink.exec(e);if(n){let o,a;return n[2]==="@"?(o=$t(this.options.mangle?t(n[1]):n[1]),a="mailto:"+o):(o=$t(n[1]),a=o),{type:"link",raw:n[0],text:o,href:a,tokens:[{type:"text",raw:o,text:o}]}}}url(e,t){let n;if(n=this.rules.inline.url.exec(e)){let o,a;if(n[2]==="@")o=$t(this.options.mangle?t(n[0]):n[0]),a="mailto:"+o;else{let l;do l=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0];while(l!==n[0]);o=$t(n[0]),n[1]==="www."?a="http://"+o:a=o}return{type:"link",raw:n[0],text:o,href:a,tokens:[{type:"text",raw:o,text:o}]}}}inlineText(e,t){let n=this.rules.inline.text.exec(e);if(n){let o;return this.lexer.state.inRawBlock?o=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):$t(n[0]):n[0]:o=$t(this.options.smartypants?t(n[0]):n[0]),{type:"text",raw:n[0],text:o}}}},We={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:mc,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/},We._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,We._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,We.def=ct(We.def).replace("label",We._label).replace("title",We._title).getRegex(),We.bullet=/(?:[*+-]|\d{1,9}[.)])/,We.listItemStart=ct(/^( *)(bull) */).replace("bull",We.bullet).getRegex(),We.list=ct(We.list).replace(/bull/g,We.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+We.def.source+")").getRegex(),We._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",We._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,We.html=ct(We.html,"i").replace("comment",We._comment).replace("tag",We._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),We.paragraph=ct(We._paragraph).replace("hr",We.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",We._tag).getRegex(),We.blockquote=ct(We.blockquote).replace("paragraph",We.paragraph).getRegex(),We.normal=Pr({},We),We.gfm=Pr({},We.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),We.gfm.table=ct(We.gfm.table).replace("hr",We.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",We._tag).getRegex(),We.gfm.paragraph=ct(We._paragraph).replace("hr",We.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",We.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",We._tag).getRegex(),We.pedantic=Pr({},We.normal,{html:ct(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",We._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:mc,paragraph:ct(We.normal._paragraph).replace("hr",We.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",We.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()}),ze={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:mc,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:mc,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/},ze._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",ze.punctuation=ct(ze.punctuation).replace(/punctuation/g,ze._punctuation).getRegex(),ze.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,ze.escapedEmSt=/\\\*|\\_/g,ze._comment=ct(We._comment).replace("(?:-->|$)","-->").getRegex(),ze.emStrong.lDelim=ct(ze.emStrong.lDelim).replace(/punct/g,ze._punctuation).getRegex(),ze.emStrong.rDelimAst=ct(ze.emStrong.rDelimAst,"g").replace(/punct/g,ze._punctuation).getRegex(),ze.emStrong.rDelimUnd=ct(ze.emStrong.rDelimUnd,"g").replace(/punct/g,ze._punctuation).getRegex(),ze._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,ze._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,ze._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,ze.autolink=ct(ze.autolink).replace("scheme",ze._scheme).replace("email",ze._email).getRegex(),ze._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,ze.tag=ct(ze.tag).replace("comment",ze._comment).replace("attribute",ze._attribute).getRegex(),ze._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,ze._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,ze._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,ze.link=ct(ze.link).replace("label",ze._label).replace("href",ze._href).replace("title",ze._title).getRegex(),ze.reflink=ct(ze.reflink).replace("label",ze._label).replace("ref",We._label).getRegex(),ze.nolink=ct(ze.nolink).replace("ref",We._label).getRegex(),ze.reflinkSearch=ct(ze.reflinkSearch,"g").replace("reflink",ze.reflink).replace("nolink",ze.nolink).getRegex(),ze.normal=Pr({},ze),ze.pedantic=Pr({},ze.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:ct(/^!?\[(label)\]\((.*?)\)/).replace("label",ze._label).getRegex(),reflink:ct(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ze._label).getRegex()}),ze.gfm=Pr({},ze.normal,{escape:ct(ze.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),ze.gfm.url=ct(ze.gfm.url,"i").replace("email",ze.gfm._extended_email).getRegex(),ze.breaks=Pr({},ze.gfm,{br:ct(ze.br).replace("{2,}","*").getRegex(),text:ct(ze.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),_a=class c2{constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Ea,this.options.tokenizer=this.options.tokenizer||new Lp,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={block:We.normal,inline:ze.normal};this.options.pedantic?(n.block=We.pedantic,n.inline=ze.pedantic):this.options.gfm&&(n.block=We.gfm,this.options.breaks?n.inline=ze.breaks:n.inline=ze.gfm),this.tokenizer.rules=n}static get rules(){return{block:We,inline:ze}}static lex(t,n){return new c2(n).lex(t)}static lexInline(t,n){return new c2(n).inlineTokens(t)}lex(t){t=t.replace(/\r\n|\r/g,`
`),this.blockTokens(t,this.tokens);let n;for(;n=this.inlineQueue.shift();)this.inlineTokens(n.src,n.tokens);return this.tokens}blockTokens(t,n=[]){this.options.pedantic?t=t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t=t.replace(/^( *)(\t+)/gm,(u,d,f)=>d+"    ".repeat(f.length));let o,a,l,s;for(;t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(u=>(o=u.call({lexer:this},t,n))?(t=t.substring(o.raw.length),n.push(o),!0):!1))){if(o=this.tokenizer.space(t)){t=t.substring(o.raw.length),o.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(o);continue}if(o=this.tokenizer.code(t)){t=t.substring(o.raw.length),a=n[n.length-1],a&&(a.type==="paragraph"||a.type==="text")?(a.raw+=`
`+o.raw,a.text+=`
`+o.text,this.inlineQueue[this.inlineQueue.length-1].src=a.text):n.push(o);continue}if(o=this.tokenizer.fences(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.heading(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.hr(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.blockquote(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.list(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.html(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.def(t)){t=t.substring(o.raw.length),a=n[n.length-1],a&&(a.type==="paragraph"||a.type==="text")?(a.raw+=`
`+o.raw,a.text+=`
`+o.raw,this.inlineQueue[this.inlineQueue.length-1].src=a.text):this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title});continue}if(o=this.tokenizer.table(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.lheading(t)){t=t.substring(o.raw.length),n.push(o);continue}if(l=t,this.options.extensions&&this.options.extensions.startBlock){let u=1/0,d=t.slice(1),f;this.options.extensions.startBlock.forEach(function(m){f=m.call({lexer:this},d),typeof f=="number"&&f>=0&&(u=Math.min(u,f))}),u<1/0&&u>=0&&(l=t.substring(0,u+1))}if(this.state.top&&(o=this.tokenizer.paragraph(l))){a=n[n.length-1],s&&a.type==="paragraph"?(a.raw+=`
`+o.raw,a.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=a.text):n.push(o),s=l.length!==t.length,t=t.substring(o.raw.length);continue}if(o=this.tokenizer.text(t)){t=t.substring(o.raw.length),a=n[n.length-1],a&&a.type==="text"?(a.raw+=`
`+o.raw,a.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=a.text):n.push(o);continue}if(t){let u="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return this.state.top=!0,n}inline(t,n=[]){return this.inlineQueue.push({src:t,tokens:n}),n}inlineTokens(t,n=[]){let o,a,l,s=t,u,d,f;if(this.tokens.links){let m=Object.keys(this.tokens.links);if(m.length>0)for(;(u=this.tokenizer.rules.inline.reflinkSearch.exec(s))!=null;)m.includes(u[0].slice(u[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,u.index)+"["+lz("a",u[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(u=this.tokenizer.rules.inline.blockSkip.exec(s))!=null;)s=s.slice(0,u.index)+"["+lz("a",u[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(u=this.tokenizer.rules.inline.escapedEmSt.exec(s))!=null;)s=s.slice(0,u.index)+"++"+s.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;t;)if(d||(f=""),d=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(m=>(o=m.call({lexer:this},t,n))?(t=t.substring(o.raw.length),n.push(o),!0):!1))){if(o=this.tokenizer.escape(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.tag(t)){t=t.substring(o.raw.length),a=n[n.length-1],a&&o.type==="text"&&a.type==="text"?(a.raw+=o.raw,a.text+=o.text):n.push(o);continue}if(o=this.tokenizer.link(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(o.raw.length),a=n[n.length-1],a&&o.type==="text"&&a.type==="text"?(a.raw+=o.raw,a.text+=o.text):n.push(o);continue}if(o=this.tokenizer.emStrong(t,s,f)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.codespan(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.br(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.del(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.autolink(t,uz)){t=t.substring(o.raw.length),n.push(o);continue}if(!this.state.inLink&&(o=this.tokenizer.url(t,uz))){t=t.substring(o.raw.length),n.push(o);continue}if(l=t,this.options.extensions&&this.options.extensions.startInline){let m=1/0,v=t.slice(1),g;this.options.extensions.startInline.forEach(function(h){g=h.call({lexer:this},v),typeof g=="number"&&g>=0&&(m=Math.min(m,g))}),m<1/0&&m>=0&&(l=t.substring(0,m+1))}if(o=this.tokenizer.inlineText(l,kee)){t=t.substring(o.raw.length),o.raw.slice(-1)!=="_"&&(f=o.raw.slice(-1)),d=!0,a=n[n.length-1],a&&a.type==="text"?(a.raw+=o.raw,a.text+=o.text):n.push(o);continue}if(t){let m="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(m);break}else throw new Error(m)}}return n}},Xp=class{constructor(e){this.options=e||Ea}code(e,t,n){let o=(t||"").match(/\S*/)[0];if(this.options.highlight){let a=this.options.highlight(e,o);a!=null&&a!==e&&(n=!0,e=a)}return e=e.replace(/\n$/,"")+`
`,o?'<pre><code class="'+this.options.langPrefix+$t(o,!0)+'">'+(n?e:$t(e,!0))+`</code></pre>
`:"<pre><code>"+(n?e:$t(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
`.concat(e,`</blockquote>
`)}html(e){return e}heading(e,t,n,o){if(this.options.headerIds){let a=this.options.headerPrefix+o.slug(n);return"<h".concat(t,' id="').concat(a,'">').concat(e,"</h").concat(t,`>
`)}return"<h".concat(t,">").concat(e,"</h").concat(t,`>
`)}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,t,n){let o=t?"ol":"ul",a=t&&n!==1?' start="'+n+'"':"";return"<"+o+a+`>
`+e+"</"+o+`>
`}listitem(e){return"<li>".concat(e,`</li>
`)}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return"<p>".concat(e,`</p>
`)}table(e,t){return t&&(t="<tbody>".concat(t,"</tbody>")),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow(e){return`<tr>
`.concat(e,`</tr>
`)}tablecell(e,t){let n=t.header?"th":"td";return(t.align?"<".concat(n,' align="').concat(t.align,'">'):"<".concat(n,">"))+e+"</".concat(n,`>
`)}strong(e){return"<strong>".concat(e,"</strong>")}em(e){return"<em>".concat(e,"</em>")}codespan(e){return"<code>".concat(e,"</code>")}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return"<del>".concat(e,"</del>")}link(e,t,n){if(e=oz(this.options.sanitize,this.options.baseUrl,e),e===null)return n;let o='<a href="'+$t(e)+'"';return t&&(o+=' title="'+t+'"'),o+=">"+n+"</a>",o}image(e,t,n){if(e=oz(this.options.sanitize,this.options.baseUrl,e),e===null)return n;let o='<img src="'.concat(e,'" alt="').concat(n,'"');return t&&(o+=' title="'.concat(t,'"')),o+=this.options.xhtml?"/>":">",o}text(e){return e}},z1=class{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}},D1=class{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let n=e,o=0;if(this.seen.hasOwnProperty(n)){o=this.seen[e];do o++,n=e+"-"+o;while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=o,this.seen[n]=0),n}slug(e,t={}){let n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)}},ki=class d2{constructor(t){this.options=t||Ea,this.options.renderer=this.options.renderer||new Xp,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new z1,this.slugger=new D1}static parse(t,n){return new d2(n).parse(t)}static parseInline(t,n){return new d2(n).parseInline(t)}parse(t,n=!0){let o="",a,l,s,u,d,f,m,v,g,h,b,y,k,x,S,_,O,j,z,K=t.length;for(a=0;a<K;a++){if(h=t[a],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[h.type]&&(z=this.options.extensions.renderers[h.type].call({parser:this},h),z!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(h.type))){o+=z||"";continue}switch(h.type){case"space":continue;case"hr":{o+=this.renderer.hr();continue}case"heading":{o+=this.renderer.heading(this.parseInline(h.tokens),h.depth,rz(this.parseInline(h.tokens,this.textRenderer)),this.slugger);continue}case"code":{o+=this.renderer.code(h.text,h.lang,h.escaped);continue}case"table":{for(v="",m="",u=h.header.length,l=0;l<u;l++)m+=this.renderer.tablecell(this.parseInline(h.header[l].tokens),{header:!0,align:h.align[l]});for(v+=this.renderer.tablerow(m),g="",u=h.rows.length,l=0;l<u;l++){for(f=h.rows[l],m="",d=f.length,s=0;s<d;s++)m+=this.renderer.tablecell(this.parseInline(f[s].tokens),{header:!1,align:h.align[s]});g+=this.renderer.tablerow(m)}o+=this.renderer.table(v,g);continue}case"blockquote":{g=this.parse(h.tokens),o+=this.renderer.blockquote(g);continue}case"list":{for(b=h.ordered,y=h.start,k=h.loose,u=h.items.length,g="",l=0;l<u;l++)S=h.items[l],_=S.checked,O=S.task,x="",S.task&&(j=this.renderer.checkbox(_),k?S.tokens.length>0&&S.tokens[0].type==="paragraph"?(S.tokens[0].text=j+" "+S.tokens[0].text,S.tokens[0].tokens&&S.tokens[0].tokens.length>0&&S.tokens[0].tokens[0].type==="text"&&(S.tokens[0].tokens[0].text=j+" "+S.tokens[0].tokens[0].text)):S.tokens.unshift({type:"text",text:j}):x+=j),x+=this.parse(S.tokens,k),g+=this.renderer.listitem(x,O,_);o+=this.renderer.list(g,b,y);continue}case"html":{o+=this.renderer.html(h.text);continue}case"paragraph":{o+=this.renderer.paragraph(this.parseInline(h.tokens));continue}case"text":{for(g=h.tokens?this.parseInline(h.tokens):h.text;a+1<K&&t[a+1].type==="text";)h=t[++a],g+=`
`+(h.tokens?this.parseInline(h.tokens):h.text);o+=n?this.renderer.paragraph(g):g;continue}default:{let M='Token with "'+h.type+'" type was not found.';if(this.options.silent){console.error(M);return}else throw new Error(M)}}}return o}parseInline(t,n){n=n||this.renderer;let o="",a,l,s,u=t.length;for(a=0;a<u;a++){if(l=t[a],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[l.type]&&(s=this.options.extensions.renderers[l.type].call({parser:this},l),s!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(l.type))){o+=s||"";continue}switch(l.type){case"escape":{o+=n.text(l.text);break}case"html":{o+=n.html(l.text);break}case"link":{o+=n.link(l.href,l.title,this.parseInline(l.tokens,n));break}case"image":{o+=n.image(l.href,l.title,l.text);break}case"strong":{o+=n.strong(this.parseInline(l.tokens,n));break}case"em":{o+=n.em(this.parseInline(l.tokens,n));break}case"codespan":{o+=n.codespan(l.text);break}case"br":{o+=n.br();break}case"del":{o+=n.del(this.parseInline(l.tokens,n));break}case"text":{o+=n.text(l.text);break}default:{let d='Token with "'+l.type+'" type was not found.';if(this.options.silent){console.error(d);return}else throw new Error(d)}}}return o}},Le.options=Le.setOptions=function(e){return Pr(Le.defaults,e),gee(Le.defaults),Le},Le.getDefaults=nz,Le.defaults=Ea,Le.use=function(...e){let t=Pr({},...e),n=Le.defaults.extensions||{renderers:{},childTokens:{}},o;e.forEach(a=>{if(a.extensions&&(o=!0,a.extensions.forEach(l=>{if(!l.name)throw new Error("extension name required");if(l.renderer){let s=n.renderers?n.renderers[l.name]:null;s?n.renderers[l.name]=function(...u){let d=l.renderer.apply(this,u);return d===!1&&(d=s.apply(this,u)),d}:n.renderers[l.name]=l.renderer}if(l.tokenizer){if(!l.level||l.level!=="block"&&l.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");n[l.level]?n[l.level].unshift(l.tokenizer):n[l.level]=[l.tokenizer],l.start&&(l.level==="block"?n.startBlock?n.startBlock.push(l.start):n.startBlock=[l.start]:l.level==="inline"&&(n.startInline?n.startInline.push(l.start):n.startInline=[l.start]))}l.childTokens&&(n.childTokens[l.name]=l.childTokens)})),a.renderer){let l=Le.defaults.renderer||new Xp;for(let s in a.renderer){let u=l[s];l[s]=(...d)=>{let f=a.renderer[s].apply(l,d);return f===!1&&(f=u.apply(l,d)),f}}t.renderer=l}if(a.tokenizer){let l=Le.defaults.tokenizer||new Lp;for(let s in a.tokenizer){let u=l[s];l[s]=(...d)=>{let f=a.tokenizer[s].apply(l,d);return f===!1&&(f=u.apply(l,d)),f}}t.tokenizer=l}if(a.walkTokens){let l=Le.defaults.walkTokens;t.walkTokens=function(s){let u=[];return u.push(a.walkTokens.call(this,s)),l&&(u=u.concat(l.call(this,s))),u}}o&&(t.extensions=n),Le.setOptions(t)})},Le.walkTokens=function(e,t){let n=[];for(let o of e)switch(n=n.concat(t.call(Le,o)),o.type){case"table":{for(let a of o.header)n=n.concat(Le.walkTokens(a.tokens,t));for(let a of o.rows)for(let l of a)n=n.concat(Le.walkTokens(l.tokens,t));break}case"list":{n=n.concat(Le.walkTokens(o.items,t));break}default:Le.defaults.extensions&&Le.defaults.extensions.childTokens&&Le.defaults.extensions.childTokens[o.type]?Le.defaults.extensions.childTokens[o.type].forEach(function(a){n=n.concat(Le.walkTokens(o[a],t))}):o.tokens&&(n=n.concat(Le.walkTokens(o.tokens,t)))}return n},Le.parseInline=function(e,t){if(typeof e>"u"||e===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof e!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");t=Pr({},Le.defaults,t||{}),az(t);try{let n=_a.lexInline(e,t);return t.walkTokens&&Le.walkTokens(n,t.walkTokens),ki.parseInline(n,t)}catch(n){if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,t.silent)return"<p>An error occurred:</p><pre>"+$t(n.message+"",!0)+"</pre>";throw n}},Le.Parser=ki,Le.parser=ki.parse,Le.Renderer=Xp,Le.TextRenderer=z1,Le.Lexer=_a,Le.lexer=_a.lex,Le.Tokenizer=Lp,Le.Slugger=D1,Le.parse=Le,Le.options,Le.setOptions,Le.use,Le.walkTokens,Le.parseInline,ki.parse,_a.lex}),xz,Sz,A1,Ez=P(()=>{be(),Kp(),Sz=U(rs)(xz||(xz=F([`
  padding: 6px;
`]))),A1=Sz}),Tt,Zp,gc,Gp,_z,Pz,Cz,B1,Iz,jz,Oz,M1,Tz,zz,Dz,Az,Bz,vc,yc,Mz,Nz,Fz,Rz,Uz,Vz,Kz,Wz,Hz,qz,$z,Lz,N1,bc=P(()=>{Tt=$(G()),mee(),be(),rt(),Fe(),Me(),wee(),cc(),Ez(),Zp=({title:e,message:t})=>"".concat(e," ").concat(t),gc=(()=>{let e=new Map;return{add:t=>{let n=Zp(t);e.has(n)?e.set(n,e.get(n)+1):e.set(n,1)},delete:t=>{let n=Zp(t);e.has(n)&&e.get(n)>1?e.set(n,e.get(n)-1):e.delete(n)},clear:()=>{e.clear()},check:t=>e.has(Zp(t))}})(),Gp=(()=>{let e=new Map;return{add:t=>{e.has(t)?e.set(t,e.get(t)+1):e.set(t,1)},delete:t=>{e.has(t)&&e.get(t)>1?e.set(t,e.get(t)-1):e.delete(t)},clear:()=>{e.clear()},check:t=>e.has(t),get types(){return Array.of(...e.keys())}}})(),Pz=U.div(_z||(_z=F([`
  width: 100%;
  border-radius: 4px;
  display: flex;
  gap: 12px;
  `,`;
  background-color: rgba(40, 43, 47, 0.8);
  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25), 0 2px 6px rgba(0, 0, 0, 0.15);
  backdrop-filter: blur(14px);

  @supports not (backdrop-filter: blur()) {
    background: rgba(40, 43, 47, 0.95);
  }
`])),tt),B1=U.div(Cz||(Cz=F([`
  font-size: 14px;
  font-weight: bold;
  color: #fff;
`]))),jz=U.div(Iz||(Iz=F([`
  flex: 1;
  flex-direction: column;
  width: 0;
  display: flex;
  padding: 16px 0;
  gap: 12px;
`]))),M1=U.div(Oz||(Oz=F([`
  color: #b4b4b4;
  font-size: 12px;
  line-height: 1.4;

  a {
    color: rgba(255, 255, 255, 0.9);
  }

  em {
    font-style: italic;
  }

  strong {
    font-weight: bold;
    color: #d5d5d5;
  }

  p {
    margin-bottom: 8px;
  }

  code {
    font-family: monospace;
    background: rgba(0, 0, 0, 0.3);
    padding: 1px 1px 2px;
    border-radius: 4px;
    border: 1px solid rgba(255, 255, 255, 0.08);
    white-space: pre-wrap;
  }

  pre > code {
    white-space: pre;
    display: block;
    overflow: auto;
    padding: 4px;
  }

  pre {
    white-space: pre-wrap;
    margin-bottom: 8px;
  }
`]))),zz=U.button(Tz||(Tz=F([`
  color: rgba(255, 255, 255, 0.9);
  font-weight: 500;
  display: flex;
  align-items: center;
  justify-content: center;
  background: none;
  border: none;
  padding-left: 12px;
  padding-right: 12px;
  border-left: 1px solid rgba(255, 255, 255, 0.05);

  &:hover {
    background: rgba(255, 255, 255, 0.05);
  }
`]))),Dz={info:"#3b82f6",success:"#10b981",warning:"#f59e0b",error:"#ef4444"},Bz=U.div(Az||(Az=F([`
  display: flex;
  justify-content: center;
  margin-left: 12px;
  padding-top: 21px;

  ::before {
    content: '';
    width: 8px;
    height: 8px;
    border-radius: 999999px;
    background-color: `,`;
  }
`])),({type:e})=>Dz[e]),vc=e=>(t,n,o=[],a=!1)=>{(a||!gc.check({title:t,message:n}))&&(gc.add({title:t,message:n}),Gp.add(e),qp.custom(l=>Tt.default.createElement(Pz,null,Tt.default.createElement(Bz,{type:e}),Tt.default.createElement(jz,null,Tt.default.createElement(B1,null,t),Tt.default.createElement(M1,{dangerouslySetInnerHTML:{__html:Le.parse(n)}}),o.length>0&&Tt.default.createElement(M1,null,Tt.default.createElement("span",null,"Docs:"," ",o.map((s,u)=>Tt.default.createElement(Tt.Fragment,{key:u},u>0&&", ",Tt.default.createElement("a",{target:"_blank",href:s.url},s.title)))))),Tt.default.createElement(zz,{onClick:()=>{qp.remove(l.id),gc.delete({title:t,message:n}),Gp.delete(e)}},"Close")),{duration:1/0}))},yc={warning:vc("warning"),success:vc("success"),info:vc("info"),error:vc("error")},Nz=U.div(Mz||(Mz=F([`
  display: flex;
  justify-content: `,`;
  gap: 12px;
`])),({align:e})=>e==="center"?"center":"flex-end"),Rz=U.button(Fz||(Fz=F([`
  position: relative;
  border-radius: 4px;
  display: flex;
  align-items: center;
  gap: 12px;
  `,`;
  background-color: rgba(40, 43, 47, 0.8);
  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25), 0 2px 6px rgba(0, 0, 0, 0.15);
  backdrop-filter: blur(14px);
  border: none;
  padding: 12px;
  color: #fff;
  overflow: hidden;

  ::before {
    content: '';
    position: absolute;
    inset: 0;
  }

  :hover::before {
    background: `,`;
  }

  @supports not (backdrop-filter: blur()) {
    background: rgba(40, 43, 47, 0.95);
  }
`])),tt,({danger:e})=>e?"rgba(255, 0, 0, 0.1)":"rgba(255, 255, 255, 0.1)"),Vz=U.div(Uz||(Uz=F([`
  z-index: 10;
  display: flex;
  flex-direction: column;
  gap: 8px;
  position: fixed;
  right: 92px;
  top: 50px;
  width: 500px;
  height: 85vh;
  min-height: 400px;
`]))),Wz=U.div(Kz||(Kz=F([`
  overflow: hidden;
  pointer-events: auto;
  border-radius: 4px;

  & > div {
    display: flex;
    flex-direction: column-reverse;
    gap: 8px;
    overflow: scroll;
    height: 100%;
  }
`]))),qz=U.div(Hz||(Hz=F([`
  width: fit-content;
  padding: 8px;
  border-radius: 4px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  color: #b4b4b4;
  font-size: 12px;
  line-height: 1.4;
`]))),$z=()=>{let{hasNotifications:e}=N1();return ns({enabled:!e},()=>Tt.default.createElement(A1,null,Tt.default.createElement(qz,null,Tt.default.createElement(B1,null,"No notifications"),"Notifications will appear here when you get them.")))},Lz=()=>{var e;let{toasts:t,handlers:n}=O1(),{startPause:o,endPause:a}=n,l=(e=Ye(de().atomP.ahistoric.pinNotifications))!=null?e:!1;return Tt.default.createElement(Vz,null,l?t.length>0&&Tt.default.createElement(Wz,{onMouseEnter:o,onMouseLeave:a},Tt.default.createElement("div",null,t.map(s=>Tt.default.createElement("div",{key:s.id},s.message(s))))):null,Tt.default.createElement(Nz,{align:"side"},l&&t.length>0&&Tt.default.createElement(Rz,{onClick:()=>{Gp.clear(),gc.clear(),qp.remove()},danger:!0},"Clear")))},N1=()=>{let{toasts:e}=O1();return{hasNotifications:e.length>0}}});function F1(e,t){var n;let o=Object.values((n=(0,Xz.val)(e.pointers.historic.sheetsById))!=null?n:{}),a=o.flatMap(s=>{var u;return Object.values((u=s==null?void 0:s.staticOverrides.byObject)!=null?u:{})}).flatMap(s=>Object.values(s??{})),l=[...o.flatMap(s=>{var u,d;return Object.values((d=(u=s==null?void 0:s.sequence)==null?void 0:u.tracksByObject)!=null?d:{})}).flatMap(s=>{var u;return Object.values((u=s==null?void 0:s.trackData)!=null?u:{})}).flatMap(s=>s==null?void 0:s.keyframes).map(s=>s==null?void 0:s.value)];return a.forEach(s=>{Rd(s,u=>{l.push(u)},[])}),l.filter(s=>(s==null?void 0:s.type)&&(t?(s==null?void 0:s.type)==t:typeof(s==null?void 0:s.type)=="string")).map(s=>s.id).filter((s,u,d)=>s!==null&&s!==""&&d.indexOf(s)===u)}var Xz,Zz=P(()=>{Xz=je,V0()});function Gz(e,t){let n=new File([e],t),o=URL.createObjectURL(n),a=Object.assign(document.createElement("a"),{href:o,target:"_blank",rel:"noopener"});a.setAttribute("download",t),a.click(),setTimeout(()=>{URL.revokeObjectURL(o)},4e4)}var Vn,Yz,Qz,Jz,eD,tD,nD,rD,oD,iD,xee=P(()=>{Me(),Qr(),Gr(),Vn=$(G()),be(),xT(),pee(),Yz=$(hee()),bc(),Zz(),Jz=U.div(Qz||(Qz=F([""]))),tD=U.div(eD||(eD=F([`
  padding: 8px 10px;
  display: flex;
  flex-direction: column;
  align-items: stretch;
`]))),rD=U(Yr)(nD||(nD=F([`
  display flex;
  flex-direction: column;
  gap: 1em;
  width: 280px;
  padding: 1em;
`]))),oD=({projects:e})=>{let t=e[0],n=t.address.projectId,o=n.replace(/[^\w\d'_\-]+/g," ").trim(),a="".concat(o,".theatre-project-state.json"),[l,s]=(0,Vn.useState)(!1),u=(0,Vn.useCallback)(()=>qt(void 0,null,function*(){var f,m;let v=F1(t),g=new Map;try{yield Promise.all(v.map(b=>qt(void 0,null,function*(){let y=t.assetStorage.getAssetUrl(b),k=yield fetch(y);k.ok&&g.set(b,yield k.blob())})))}catch{yc.error("Failed to access assets","Export aborted. Failed to access assets at ".concat((m=(f=t.config.assets)==null?void 0:f.baseUrl)!=null?m:"/",". This is likely due to a CORS issue."));return}if(g.size>0){let b=new Yz.default;for(let[k,x]of g)b.file(k,x);let y=yield b.generateAsync({type:"blob"});Gz(y,"".concat(o,".assets.zip"))}let h=JSON.stringify(de().createContentOfSaveFile(t.address.projectId),null,2);Gz(h,a),s(!0),setTimeout(()=>{s(!1)},2e3)}),[t,a]),d=Zr({debugName:"ProjectDetails",pointerDistanceThreshold:50},()=>Vn.default.createElement(rD,null,Vn.default.createElement("p",null,"This will create a JSON file with the state of your project. You can commit this file to your git repo and include it in your production bundle."),Vn.default.createElement("p",null,"If your project uses assets, this will also create a zip file with all the assets that you can unpack in your public folder."),Vn.default.createElement("a",{href:"https://www.theatrejs.com/docs/latest/manual/projects#state",target:"_blank"},"Here is a quick guide on how to export to production.")));return Vn.default.createElement(Vn.default.Fragment,null,d.node,Vn.default.createElement(Jz,null,Vn.default.createElement(qT,{projectId:n}),Vn.default.createElement(tD,null,Vn.default.createElement(Up,{onMouseEnter:f=>d.open(f,f.target),onClick:l?void 0:u,disabled:l},l?"(Exported)":"Export ".concat(n," to JSON")))))},iD=oD}),wi,aD,lD,sD,uD,cD,dD,fD,pD,hD,mD,See=P(()=>{wi=$(G()),be(),Au(),lD=U.div(aD||(aD=F([`
  padding: 16px;
  display: flex;
  flex-direction: column;
  gap: 24px;
`]))),uD=U.div(sD||(sD=F([`
  display: flex;
  flex-direction: column;
  gap: 11px;
  color: rgba(255, 255, 255, 0.9);
`]))),dD=U.div(cD||(cD=F([`
  color: rgba(145, 145, 145, 0.8);
`]))),pD=U.a(fD||(fD=F([`
  color: #919191;
  font-size: 10px;
  text-decoration-color: #40434a;
  text-underline-offset: 3px;
`]))),hD=()=>wi.default.createElement(lD,null,wi.default.createElement(uD,null,wi.default.createElement(dD,null,wi.default.createElement(ny,null)),wi.default.createElement("div",null,"Please select an object from the ",wi.default.createElement("u",null,"Outline Menu")," to see its properties.")),wi.default.createElement(pD,{href:"https://www.theatrejs.com/docs/latest/manual/objects",target:"_blank"},"Learn more about Objects")),mD=hD});function gD(){let[e,t]=(0,R1.useState)(!1),n=(0,R1.useMemo)(()=>{let o=new Set;return()=>{let a=()=>{o.delete(a),t(o.size>0)};return o.add(a),t(!0),a}},[]);return[e,n]}var R1,vD=P(()=>{R1=$(G())}),ft,is,yD,bD,Yp,kD,U1,wD,V1,xD,K1,kc,SD,ED,Qp,Pa,W1=P(()=>{di(),Fe(),ft=$(G()),be(),ra(),Co(),rt(),cee(),xee(),Me(),sj(),is=je,See(),vD(),xa(),yD="32px",Yp=U.div(bD||(bD=F([`
  `,`;
  background-color: rgba(40, 43, 47, 0.8);
  position: fixed;
  right: 8px;
  top: 50px;
  // Temporary, see comment about CSS grid in SingleRowPropEditor.
  width: 280px;
  height: fit-content;
  z-index: `,`;

  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25), 0 2px 6px rgba(0, 0, 0, 0.15);
  backdrop-filter: blur(14px);
  border-radius: 2px;

  display: `,`;

  &:hover {
    display: block;
  }

  @supports not (backdrop-filter: blur()) {
    background: rgba(40, 43, 47, 0.95);
  }
`])),tt,Ul.propsPanel,({pin:e})=>e?"block":"none"),U1=U.div(kD||(kD=F([`
  margin: 0 10px;
  color: #919191;
  font-weight: 500;
  font-size: 10px;
  user-select: none;
  `,`;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
`])),tt),V1=U.div(wD||(wD=F([`
  height: `,`;
  display: flex;
  align-items: center;
`])),yD),K1=U.div(xD||(xD=F([`
  `,`;
  max-height: calc(100vh - 100px);
  overflow-y: scroll;
  &::-webkit-scrollbar {
    display: none;
  }

  scrollbar-width: none;
  padding: 0;
  user-select: none;

  /* Set the font-size for input values in the detail panel */
  font-size: 12px;
`])),tt),kc=(0,ft.createContext)([!1,()=>()=>{}]),SD=e=>{let t=Ye(de().atomP.ahistoric.pinDetails)!==!1,n=lj("right");(0,ft.useLayoutEffect)(()=>{Qp.set(n)},[n]),(0,ft.useEffect)(()=>()=>{Pa.set(!1),Qp.set(!1)},[]);let[o]=(0,ft.useContext)(kc),a=t||n||o,[l,s]=(0,ft.useState)(null);return qO(l),Ge(()=>{let u=ci(),d=u.find(pr);if(d)return ft.default.createElement(Yp,{"data-testid":"DetailPanel-Object",pin:a,ref:s,onMouseEnter:()=>{Pa.set(!0)},onMouseLeave:()=>{Pa.set(!1)}},ft.default.createElement(V1,null,ft.default.createElement(U1,{title:"".concat(d.sheet.address.sheetId,": ").concat(d.sheet.address.sheetInstanceId," > ").concat(d.address.objectKey)},ft.default.createElement(ui,null,d.sheet.address.sheetId," "),ft.default.createElement(Du,null,":"," "),ft.default.createElement(ui,null,d.sheet.address.sheetInstanceId," "),ft.default.createElement(Du,null," → "),ft.default.createElement(ui,null,d.address.objectKey))),ft.default.createElement(K1,null,ft.default.createElement(bT,{objects:[d]})));let f=u.find(K0);return f?ft.default.createElement(Yp,{pin:a},ft.default.createElement(V1,null,ft.default.createElement(U1,{title:"".concat(f.address.projectId)},ft.default.createElement(ui,null,f.address.projectId," "))),ft.default.createElement(K1,null,ft.default.createElement(iD,{projects:[f]}))):ft.default.createElement(Yp,{pin:a,onMouseEnter:()=>{Pa.set(!0)},onMouseLeave:()=>{Pa.set(!1)}},ft.default.createElement(mD,null))},[a])},ED=()=>{let e=gD();return ft.default.createElement(kc.Provider,{value:e},ft.default.createElement(SD,null))},Qp=new is.Atom(!1),Pa=new is.Atom(!1),(0,is.prism)(()=>{let e=(0,is.val)(Pa.prism),t=(0,is.val)(Qp.prism);return e||t})}),H1,Jp,eh,q1,as,_D,$1,ls=P(()=>{H1=je,Fe(),Me(),vD(),Jp=$(G()),Xy(),eh=(e,t)=>{let n=e.left/t.width,o=(e.left+e.width)/t.width,a=e.top/t.height,l=(e.height+e.top)/t.height;return{edges:{left:n<=.5?{from:"screenLeft",distance:n}:{from:"screenRight",distance:1-n},right:o<=.5?{from:"screenLeft",distance:o}:{from:"screenRight",distance:1-o},top:a<=.5?{from:"screenTop",distance:a}:{from:"screenBottom",distance:1-a},bottom:l<=.5?{from:"screenTop",distance:l}:{from:"screenBottom",distance:1-l}}}},q1=Jp.default.createContext(null),as=()=>(0,Jp.useContext)(q1),_D=({panelId:e,children:t,defaultPosition:n,minDims:o})=>{let a=bp(800,200),[l,s]=gD(),{stuff:u}=Ge(()=>{var d;let{edges:f}=(d=(0,H1.val)(de().atomP.historic.panelPositions[e]))!=null?d:n,m=Math.floor(a.width*(f.left.from==="screenLeft"?f.left.distance:1-f.left.distance)),v=Math.floor(a.width*(f.right.from==="screenLeft"?f.right.distance:1-f.right.distance)),g=Math.floor(a.height*(f.top.from==="screenTop"?f.top.distance:1-f.top.distance)),h=Math.floor(a.height*(f.bottom.from==="screenTop"?f.bottom.distance:1-f.bottom.distance)),b=Math.max(v-m,o.width),y=Math.max(h-g,o.height);return{stuff:{dims:H1.prism.memo("dims",()=>({width:b,left:m,top:g,height:y}),[b,m,g,y]),panelId:e,minDims:o,boundsHighlighted:l,addBoundsHighlightLock:s}}},[e,a,l,s]);return Jp.default.createElement(q1.Provider,{value:u},t)},$1=_D}),wc,PD,CD,ID,L1,jD=P(()=>{nt(),Me(),At(),wc=$(G()),be(),ls(),Un(),Rt(),Co(),CD=U.div(PD||(PD=F([`
  cursor: move;
`]))),ID=e=>{let t=as(),n=(0,wc.useRef)(t);n.current=t;let[o,a]=Qe(null),l=(0,wc.useMemo)(()=>({debugName:"PanelDragZone",lockCursorTo:"move",onDragStart(){let f=n.current,m,v=t.addBoundsHighlightLock();return{onDrag(g,h){let b=he(L({},f.dims),{top:xt(f.dims.top+h,0,window.innerHeight-qr),left:xt(f.dims.left+g,-f.dims.width+qr,window.innerWidth-qr)}),y=eh(b,{width:window.innerWidth,height:window.innerHeight});m==null||m.discard(),m=de().tempTransaction(({stateEditors:k})=>{k.studio.historic.panelPositions.setPanelPosition({position:y,panelId:f.panelId})})},onDragEnd(g){v(),g?m==null||m.commit():m==null||m.discard()}}}}),[]),[s]=St(a,l);Yn(s,"dragging","move");let[u,d]=(0,wc.useMemo)(()=>{let f;return[function(){if(f){let m=f;f=void 0,m()}f=t.addBoundsHighlightLock()},function(){if(f){let m=f;f=void 0,m()}}]},[]);return wc.default.createElement(CD,he(L({},e),{ref:o,onMouseEnter:u,onMouseLeave:d}))},L1=ID}),th,OD,X1,TD,Z1,zD,G1,DD,AD,BD,MD,ND,Y1,FD,RD,UD,VD,KD,xc,WD,HD,qD,$D,LD,XD,ZD,GD,YD,Q1,QD,Mo,Eee=P(()=>{nt(),Me(),At(),Rn(),th=$(G()),be(),ls(),rt(),Rt(),Co(),X1=U.div(OD||(OD=F([`
  position: absolute;
  `,`;
  &:after {
    position: absolute;
    inset: -5px;
    display: block;
    content: ' ';
  }

  opacity: 0;
  background-color: #478698;

  &.isHighlighted {
    opacity: 0.7;
  }

  &.isDragging {
    opacity: 1;
    /* background-color: `,`; */
  }

  &:hover {
    opacity: 1;
  }
`])),tt,zl(.2,"#478698")),Z1=U(X1)(TD||(TD=F([`
  /**
  The horizintal/vertical resize handles have z-index:-1 and are offset 1px outside of the panel
  to make sure they don't occlude any element that pops out of the panel (like the Playhead in SequenceEditorPanel).

  This means that panels will always need an extra 1px margin for their resize handles to be visible, but that's not a problem
  that we have to deal with right now (if it is at all a problem).
  
   */
  z-index: -1;
`]))),G1=U(Z1)(zD||(zD=F([`
  left: 0px;
  right: 0px;
  height: 1px;
`]))),AD=U(G1)(DD||(DD=F([`
  top: -1px;
`]))),MD=U(G1)(BD||(BD=F([`
  bottom: -1px;
`]))),Y1=U(Z1)(ND||(ND=F([`
  z-index: -1;
  top: -1px;
  bottom: -1px;
  width: 1px;
`]))),RD=U(Y1)(FD||(FD=F([`
  left: -1px;
`]))),VD=U(Y1)(UD||(UD=F([`
  right: -1px;
`]))),xc=U(X1)(KD||(KD=F([`
  // The angles have z-index: 10 to make sure they _do_ occlude other elements in the panel.
  z-index: 10;
  width: 8px;
  height: 8px;
`]))),HD=U(xc)(WD||(WD=F([`
  top: 0;
  left: 0;
`]))),$D=U(xc)(qD||(qD=F([`
  top: 0;
  right: 0;
`]))),XD=U(xc)(LD||(LD=F([`
  bottom: 0;
  left: 0;
`]))),GD=U(xc)(ZD||(ZD=F([`
  bottom: 0;
  right: 0;
`]))),YD={Top:AD,TopLeft:HD,TopRight:$D,Bottom:MD,BottomLeft:XD,BottomRight:GD,Left:RD,Right:VD},Q1={Top:"ns-resize",Bottom:"ns-resize",Left:"ew-resize",Right:"ew-resize",TopLeft:"nw-resize",TopRight:"ne-resize",BottomLeft:"sw-resize",BottomRight:"se-resize"},QD=({which:e})=>{let t=as(),n=(0,th.useRef)(t);n.current=t;let[o,a]=Qe(null),l=(0,th.useMemo)(()=>({debugName:"PanelResizeHandle",lockCursorTo:Q1[e],onDragStart(){let f,m=n.current,v=t.addBoundsHighlightLock();return{onDrag(g,h){let b=L({},m.dims);if(e.startsWith("Bottom"))b.height=Math.max(b.height+h,m.minDims.height);else if(e.startsWith("Top")){let k=b.top+b.height,x=xt(b.top+h,0,Math.min(k-m.minDims.height,window.innerHeight-qr)),S=k-x;b.height=S,b.top=x}if(e.endsWith("Left")){let k=b.left+b.width,x=Math.min(b.left+g,Math.min(k-m.minDims.width,window.innerWidth-qr)),S=k-x;b.width=S,b.left=x}else e.endsWith("Right")&&(b.width=Math.max(b.width+g,Math.max(m.minDims.width,qr-m.dims.left)));let y=eh(b,{width:window.innerWidth,height:window.innerHeight});f==null||f.discard(),f=de().tempTransaction(({stateEditors:k})=>{k.studio.historic.panelPositions.setPanelPosition({position:y,panelId:m.panelId})})},onDragEnd(g){v(),g?f==null||f.commit():f==null||f.discard()}}}}),[e]),[s]=St(a,l),u=YD[e],d=e.length<=6;return th.default.createElement(u,{ref:o,className:[s?"isDragging":"",t.boundsHighlighted&&d?"isHighlighted":""].join(" "),style:{cursor:Q1[e]}})},Mo=QD}),Cr,JD,eA,_ee=P(()=>{Cr=$(G()),Eee(),JD=e=>Cr.default.createElement(Cr.default.Fragment,null,Cr.default.createElement(Mo,{which:"Bottom"}),Cr.default.createElement(Mo,{which:"Top"}),Cr.default.createElement(Mo,{which:"Left"}),Cr.default.createElement(Mo,{which:"Right"}),Cr.default.createElement(Mo,{which:"TopLeft"}),Cr.default.createElement(Mo,{which:"TopRight"}),Cr.default.createElement(Mo,{which:"BottomLeft"}),Cr.default.createElement(Mo,{which:"BottomRight"})),eA=JD}),nh,tA,nA,rA,J1,oA=P(()=>{rt(),nh=$(G()),be(),ls(),_ee(),nA=U.div(tA||(tA=F([`
  position: absolute;
  user-select: none;
  box-sizing: border-box;
  `,`;
  /* box-shadow: 1px 2px 10px -5px black; */

  z-index: 1000;
`])),tt),rA=nh.default.forwardRef((e,t)=>{let n=as(),o=e,{style:a,children:l}=o,s=Js(o,["style","children"]);return nh.default.createElement(nA,he(L({ref:t},s),{style:L({width:n.dims.width+"px",height:n.dims.height+"px",top:n.dims.top+"px",left:n.dims.left+"px"},a??{})}),nh.default.createElement(eA,null),l)}),J1=rA}),Pee=Ke((e,t)=>{(function(n,o){typeof e=="object"&&typeof t<"u"?o(e,G()):(n=typeof globalThis<"u"?globalThis:n||self,o(n.ReactErrorBoundary={},n.React))})(e,function(n,o){function a(h){if(h&&h.__esModule)return h;var b=Object.create(null);return h&&Object.keys(h).forEach(function(y){if(y!=="default"){var k=Object.getOwnPropertyDescriptor(h,y);Object.defineProperty(b,y,k.get?k:{enumerable:!0,get:function(){return h[y]}})}}),b.default=h,Object.freeze(b)}var l=a(o);function s(h,b){return s=Object.setPrototypeOf||function(y,k){return y.__proto__=k,y},s(h,b)}function u(h,b){h.prototype=Object.create(b.prototype),h.prototype.constructor=h,s(h,b)}var d=function(h,b){return h===void 0&&(h=[]),b===void 0&&(b=[]),h.length!==b.length||h.some(function(y,k){return!Object.is(y,b[k])})},f={error:null},m=function(h){u(b,h);function b(){for(var k,x=arguments.length,S=new Array(x),_=0;_<x;_++)S[_]=arguments[_];return k=h.call.apply(h,[this].concat(S))||this,k.state=f,k.updatedWithError=!1,k.resetErrorBoundary=function(){for(var O,j=arguments.length,z=new Array(j),K=0;K<j;K++)z[K]=arguments[K];k.props.onReset==null||(O=k.props).onReset.apply(O,z),k.reset()},k}b.getDerivedStateFromError=function(k){return{error:k}};var y=b.prototype;return y.reset=function(){this.updatedWithError=!1,this.setState(f)},y.componentDidCatch=function(k,x){var S,_;(S=(_=this.props).onError)==null||S.call(_,k,x)},y.componentDidMount=function(){var k=this.state.error;k!==null&&(this.updatedWithError=!0)},y.componentDidUpdate=function(k){var x=this.state.error,S=this.props.resetKeys;if(x!==null&&!this.updatedWithError){this.updatedWithError=!0;return}if(x!==null&&d(k.resetKeys,S)){var _,O;(_=(O=this.props).onResetKeysChange)==null||_.call(O,k.resetKeys,S),this.reset()}},y.render=function(){var k=this.state.error,x=this.props,S=x.fallbackRender,_=x.FallbackComponent,O=x.fallback;if(k!==null){var j={error:k,resetErrorBoundary:this.resetErrorBoundary};if(l.isValidElement(O))return O;if(typeof S=="function")return S(j);if(_)return l.createElement(_,j);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},b}(l.Component);function v(h,b){var y=function(x){return l.createElement(m,b,l.createElement(h,x))},k=h.displayName||h.name||"Unknown";return y.displayName="withErrorBoundary("+k+")",y}function g(h){var b=l.useState(null),y=b[0],k=b[1];if(h!=null)throw h;if(y!=null)throw y;return k}n.ErrorBoundary=m,n.useErrorHandler=g,n.withErrorBoundary=v,Object.defineProperty(n,"__esModule",{value:!0})})}),Qt,iA,aA,lA,sA,uA,cA,dA,fA,pA,hA,mA,gA,vA,yA,bA,kA,wA,xA,SA,Cee=P(()=>{Qt=$(G()),be(),Co(),ls(),jD(),oA(),iA=$(Pee()),Xl(),Me(),Co(),aA={edges:{left:{from:"screenLeft",distance:.3},right:{from:"screenRight",distance:.3},top:{from:"screenTop",distance:.3},bottom:{from:"screenBottom",distance:.3}}},lA={width:300,height:300},sA=({paneInstance:e})=>Qt.default.createElement($1,{panelId:"pane-".concat(e.instanceId),defaultPosition:aA,minDims:lA},Qt.default.createElement(xA,{paneInstance:e})),cA=U(J1)(uA||(uA=F([`
  display: flex;
  flex-direction: column;

  box-shadow: 0px 5px 12px -4px rgb(0 0 0 / 22%);
  z-index: `,`;
`])),Ul.pluginPanes),fA=U.div(dA||(dA=F([`
  width: 100%;
`]))),hA=U.div(pA||(pA=F([`
  display: flex;
  align-items: center;
  opacity: 1;
  position: absolute;
  right: 4px;
  top: 0;
  bottom: 0;
`]))),gA=U.button(mA||(mA=F([`
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 2px;
  font-size: 11px;
  height: 10px;
  width: 18px;
  color: #adadadb3;
  background: transparent;
  border: none;
  cursor: pointer;
  &:hover {
    color: white;
  }
`]))),yA=U(a3)(vA||(vA=F([`
  position: relative;
  overflow: hidden;

  &:after {
    z-index: 10;
    position: absolute;
    inset: 0;
    display: block;
    content: ' ';
    pointer-events: none;

    #pointer-root:not(.normal) & {
      pointer-events: auto;
    }
  }
`]))),kA=U.div(bA||(bA=F([`
  padding: 12px;

  & > pre {
    border: 1px solid #ff62624f;
    background-color: rgb(255 0 0 / 5%);
    margin: 8px 0;
    padding: 8px;
    font-family: monospace;
    overflow: scroll;
    color: #ff9896;
  }
`]))),wA=e=>Qt.default.createElement(kA,null,"An Error occurred rendering this pane. Open the console for more info.",Qt.default.createElement("pre",null,JSON.stringify({message:e.error.message,stack:e.error.stack},null,2))),xA=({paneInstance:e})=>{let[t,n]=(0,Qt.useState)(null),o=e.definition.mount;(0,Qt.useLayoutEffect)(()=>{if(!t)return;let l=o({paneId:e.instanceId,node:t});if(typeof l=="function")return l},[t,o,e.instanceId]);let a=(0,Qt.useCallback)(()=>{de().paneManager.destroyPane(e.instanceId)},[e]);return Qt.default.createElement(cA,{"data-testid":"theatre-pane-wrapper-".concat(e.instanceId)},Qt.default.createElement(L1,null,Qt.default.createElement(ey,null,Qt.default.createElement(hA,null,Qt.default.createElement(gA,{onClick:a,title:"Close Pane"},Qt.default.createElement(OQ,null))),Qt.default.createElement(fA,null,e.instanceId))),Qt.default.createElement(iA.ErrorBoundary,{FallbackComponent:wA},Qt.default.createElement(yA,{"data-testid":"theatre-pane-content-".concat(e.instanceId),ref:n})))},SA=sA}),eb,tb,EA=P(()=>{eb=je,tb=(e,t)=>{let n=eb.prism.memo(e,()=>new eb.Atom(t),[]);return n.set(t),n}});function _A(e,t){(0,PA.useLayoutEffect)(()=>{if(!e||t.type!=="propWithChildren"&&t.type!=="primitiveProp"&&t.type!=="sheetObject")return;let n=null,o=he(L({},t.sheetObject.address),{pathToProp:t.type==="sheetObject"?[]:t.pathToProp});function a(){n=Bp.replaceLock(o,()=>{})}function l(){n==null||n()}return e.addEventListener("mouseenter",a),e.addEventListener("mouseleave",l),()=>{n==null||n(),e.removeEventListener("mouseenter",a),e.removeEventListener("mouseleave",l)}},[e])}var PA,CA=P(()=>{PA=$(G()),b1()}),xi,IA,nb,jA,rb,OA,ob,TA,zA,DA,AA,BA,MA,NA,rh,oh=P(()=>{rt(),xi=$(G()),Xl(),be(),ka(),CA(),nb=U.li(IA||(IA=F([`
  --depth: `,`;
  margin: 0;
  padding: 0;
  list-style: none;
`])),e=>e.depth),rb=U.div(jA||(jA=F([`
  border-bottom: 1px solid #7695b705;
`]))),ob=U(rb)(OA||(OA=F([`
  padding-left: calc(8px + var(--depth) * 20px);

  display: flex;
  align-items: stretch;
  color: `,`;

  box-sizing: border-box;

  `,`;
`])),Rl.panel.body.compoudThing.label.color,e=>e.isSelected&&"background: blue"),zA=U.span(TA||(TA=F([`
  `,`;
  overflow-x: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  padding-right: 4px;
  line-height: 26px;
  flex-wrap: nowrap;

  `,`:hover & {
    color: #ccc;
  }
`])),gi,ob),AA=U.span(DA||(DA=F([`
  width: 12px;
  padding: 8px;
  font-size: 9px;
  display: flex;
  align-items: center;

  transition: transform 0.05s ease-out, color 0.1s ease-out;
  transform: rotateZ(`,`deg);
  color: #66686a;

  &:hover {
    transform: rotateZ(`,`deg);
    color: #c0c4c9;
  }
`])),e=>e.isCollapsed?0:90,e=>e.isCollapsed?15:75),MA=U.ul(BA||(BA=F([`
  margin: 0;
  padding: 0;
  list-style: none;
`]))),NA=({leaf:e,label:t,children:n,isSelectable:o,isSelected:a,toggleSelect:l,toggleCollapsed:s,isCollapsed:u})=>{let d=Array.isArray(n)&&n.length>0,f=(0,xi.useRef)(null);return _A(f.current,e),e.shouldRender?xi.default.createElement(nb,{depth:e.depth},xi.default.createElement(ob,{ref:f,style:{height:e.nodeHeight+"px"},isSelectable:o===!0,isSelected:a===!0,onClick:l,isEven:e.n%2===0},xi.default.createElement(AA,{isCollapsed:u,onClick:s},xi.default.createElement(Jj,null)),xi.default.createElement(zA,null,t)),d&&xi.default.createElement(MA,null,n)):null},rh=NA});function Iee(e,t){return t.every((n,o)=>n===e[o])}function jee(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function ih(e){var t;let n=[];for(;;){let o=n.length,a=(t=e[0])==null?void 0:t[o];if(a===void 0)return n;for(let l of e)if(a!==l[o])return n;n.push(a)}}var no,ah,ro=P(()=>{xp(),no=Lu(e=>JSON.stringify(e)),ah=e=>JSON.parse(e)});function Oee(e,t){let n=(0,ib.useRef)({combo:e,listener:t});n.current={combo:e,listener:t},(0,ib.useEffect)(()=>{function o(s){s.key===n.current.combo&&n.current.listener({down:!0,event:s})}function a(s){s.key===n.current.combo&&n.current.listener({down:!1,event:s})}function l(s){n.current.listener({down:!1,event:void 0})}return document.addEventListener("keydown",o),document.addEventListener("keyup",a),window.addEventListener("blur",l),()=>{document.removeEventListener("keydown",o),document.removeEventListener("keyup",a),window.removeEventListener("blur",l)}},[])}var ib,Tee=P(()=>{ib=$(G())});function FA(e){let[t,n]=(0,RA.useState)(!1);return Oee(e,({down:o})=>{n(o)}),t}var RA,UA=P(()=>{RA=$(G()),Tee()});function zee(e){let t=(0,ab.useMemo)(()=>new VA.Atom(e),[]);return(0,ab.useLayoutEffect)(()=>{t.set(e)},[e]),t}var VA,ab,Dee=P(()=>{VA=je,ab=$(G())});function KA(e,t,n){let o=(0,lb.pointer)({root:{},path:[]}),a=t(o);Il(e,(0,lb.getPointerParts)(a).path,n)}var lb,Aee=P(()=>{lb=je,ov()}),lh,WA,wn,Ir=P(()=>{lh="data-pos",WA={checkIfMouseEventSnapToPos(e,t){let n=e.composedPath().find(o=>o instanceof Element&&o!==(t==null?void 0:t.ignore)&&o.hasAttribute(lh));if(n){let o=parseFloat(n.getAttribute(lh));if(isFinite(o))return o}return null},includePositionSnapAttrs(e){return{[lh]:e}}},wn=WA});function sh(e){let t=e.type==="sheet"?Mee(e):sb(e);return{byPosition:Bee(t),tracks:t}}function Bee(e){let t=new Map;for(let n of e)for(let o of n.data.keyframes){let a=t.get(o.position);a||(a=[],t.set(o.position,a)),a.push({kf:o,track:n,itemKey:Ut.forTrackKeyframe(n.sheetObject,n.id,o.id)})}return t}function Mee(e){return e.children.flatMap(sb)}function sb(e){return e.children.flatMap(t=>t.type==="propWithChildren"?sb(t):Nee(t))}function Nee(e){let t=e.sheetObject,n=t.address.projectId,o=de().atomP.historic.coreByProject[n].sheetsById[t.address.sheetId].sequence.tracksByObject[t.address.objectKey],a=(0,uh.val)(o.trackIdByPropPath[no(e.pathToProp)]);if(!a)return[];let l=(0,uh.val)(o.trackData[a]);return l?[{id:a,data:l,sheetObject:t}]:[]}function Fee(e,t){return li(e.children.flatMap(n=>ub(n,t)))}function ub(e,t){return li(e.children.flatMap(n=>n.type==="propWithChildren"?ub(n,t):Ree(n,t)))}function Ree(e,t){var n,o;let a=e.sheetObject,l=a.address.projectId,s=de().atomP.historic.coreByProject[l].sheetsById[a.address.sheetId].sequence.tracksByObject[a.address.objectKey],u=(0,uh.val)(s.trackIdByPropPath[no(e.pathToProp)]);return u?(o=(n=t[a.address.objectKey])==null?void 0:n[u])!=null?o:[]:[]}var uh,ss=P(()=>{Me(),uh=je,Ao(),ro(),Rt()});function Uee(e,t){let[n,o]=Qe(null),a=fi("useCaptureSelection");return St(t,(0,us.useMemo)(()=>({debugName:"DopeSheetSelectionView/useCaptureSelection",dontBlockMouseDown:!0,lockCSSCursorTo:"cell",onDragStart(l){if(!l.shiftKey||l.target instanceof HTMLInputElement)return!1;let s=t.getBoundingClientRect(),u=l.clientX-s.left-(0,Jn.val)(e.scaledSpace.leftPadding),d=(0,Jn.val)(e.scaledSpace.toUnitSpace)(u);return n.current={h:[d,d],v:[l.clientY-s.top,l.clientY-s.top]},(0,Jn.val)(e.selectionAtom).set({current:void 0}),{onDrag(f,m,v){let g=t.getBoundingClientRect(),h=v.clientX-g.left-(0,Jn.val)(e.scaledSpace.leftPadding),b=(0,Jn.val)(e.scaledSpace.toUnitSpace)(h);n.current={h:[n.current.h[0],b],v:[n.current.v[0],v.clientY-g.top]};let y=cb.boundsToSelection(a,(0,Jn.val)(e),n.current);(0,Jn.val)(e.selectionAtom).set({current:y})},onDragEnd(f){n.current=null}}}}),[e,t,n])),o}var Jn,us,Si,HA,qA,$A,cb,LA,XA,db,ZA,GA,Vee=P(()=>{Me(),At(),UA(),Dee(),Aee(),nt(),Fe(),Jn=je,us=$(G()),be(),Ir(),ss(),pi(),Si=5,qA=U.div(HA||(HA=F([`
  cursor: `,`;
`])),e=>e.isShiftDown?"cell":"default"),$A=({layoutP:e,children:t,height:n})=>{let[o,a]=Qe(null),l=FA("Shift"),s=Uee(e,a),u=(0,us.useRef)(s);return u.current=s,us.default.createElement(qA,{style:{height:n+"px"},ref:o,isShiftDown:l,className:"selectionview"},s&&us.default.createElement(ZA,{state:s,layoutP:e}),t)},(e=>{let t=(s,u,d,f,m)=>{let v=sh(d);if(d.top+d.nodeHeight/2+Si>f.v[0]&&d.top+d.nodeHeight/2-Si<f.v[1])for(let[g,h]of v.byPosition){let b=u.scaledSpace.toUnitSpace(Si);if(!(g+b<=f.h[0]||g-b>=f.h[1]))for(let y of h)KA(m,k=>k[y.track.sheetObject.address.objectKey].byTrackId[y.track.id].byKeyframeId[y.kf.id],!0)}o(s,u,d,f,m)},n={sheet(s,u,d,f,m){t(s,u,d,f,m)},propWithChildren(s,u,d,f,m){t(s,u,d,f,m)},sheetObject(s,u,d,f,m){t(s,u,d,f,m)},primitiveProp(s,u,d,f,m){let{sheetObject:v,trackId:g}=d,h=(0,Jn.val)(de().atomP.historic.coreByProject[v.address.projectId].sheetsById[v.address.sheetId].sequence.tracksByObject[v.address.objectKey].trackData[g]);if(!(f.v[0]>d.top+d.heightIncludingChildren/2+Si||d.top+d.heightIncludingChildren/2-Si>f.v[1])){for(let b of h.keyframes)if(!(b.position+u.scaledSpace.toUnitSpace(Si)<=f.h[0])){if(b.position-u.scaledSpace.toUnitSpace(Si)>=f.h[1])break;KA(m,y=>y[v.address.objectKey].byTrackId[g].byKeyframeId[b.id],!0)}}}},o=(s,u,d,f,m)=>{if("children"in d)for(let v of d.children)a(s,u,v,f,m)};function a(s,u,d,f,m){if(!d.shouldRender||f.v[0]>d.top+d.heightIncludingChildren||d.top>f.v[1])return;let v=n[d.type];v?v(s,u,d,f,m):o(s,u,d,f,m)}function l(s,u,d){let f={};d=db(d);let m=u.tree;a(s.utilFor.internal(),u,m,d,f);let v=u.tree.sheet;return{type:"DopeSheetSelection",byObjectKey:f,getDragHandlers(g){return{debugName:"DopeSheetSelectionView/boundsToSelection",onDragStart(){let h,b=u.scaledSpace.toUnitSpace;return{onDrag(y,k,x){h&&(h.discard(),h=void 0);let S=wn.checkIfMouseEventSnapToPos(x,{ignore:g.domNode}),_=S!=null?S-g.positionAtStartOfDrag:b(y);h=de().tempTransaction(({stateEditors:O})=>{let j=O.coreByProject.historic.sheetsById.sequence.transformKeyframes;for(let z of Object.keys(f)){let{byTrackId:K}=f[z];for(let M of Object.keys(K)){let{byKeyframeId:N}=K[M];j({trackId:M,keyframeIds:Object.keys(N),translate:_,scale:1,origin:0,snappingFunction:v.getSequence().closestGridPosition,objectKey:z,projectId:g.projectId,sheetId:g.sheetId})}}})},onDragEnd(y){y?h==null||h.commit():h==null||h.discard()}}}}},delete(){de().transaction(({stateEditors:g})=>{let h=g.coreByProject.historic.sheetsById.sequence.deleteKeyframes;for(let b of Object.keys(f)){let{byTrackId:y}=f[b];for(let k of Object.keys(y)){let{byKeyframeId:x}=y[k];h(he(L({},v.address),{objectKey:b,trackId:k,keyframeIds:Object.keys(x)}))}}})}}}e.boundsToSelection=l})(cb||(cb={})),XA=U.div(LA||(LA=F([`
  position: absolute;
  background: rgba(255, 255, 255, 0.1);
  border: 1px dashed rgba(255, 255, 255, 0.4);
  box-sizing: border-box;
`]))),db=e=>({h:[...e.h].sort((t,n)=>t-n),v:[...e.v].sort((t,n)=>t-n)}),ZA=({state:e,layoutP:t})=>{let n=zee(e);return Ge(()=>{let o=(0,Jn.val)(n.pointer),a=db(o),l=(0,Jn.val)(t.scaledSpace.fromUnitSpace),s=(0,Jn.val)(t.scaledSpace.leftPadding),u=a.h.map(l).map(g=>g+s),d=a.v[0],f=a.v[1]-a.v[0],m=u[0],v=u[1]-u[0];return us.default.createElement(XA,{style:{top:d+"px",height:f+"px",left:m+"px",width:v+"px"}})},[t,n])},GA=$A}),Ca,YA,QA,fb,JA,eB,tB,nB=P(()=>{Vl(),Ca=$(G()),be(),Ho(),QA=U.div(YA||(YA=F([`
  position: absolute;
  top: 0;
  right: 0;
  left: 0;
  bottom: 0;
  overflow-x: hidden;
  overflow-y: scroll;
  z-index: `,`;

  &::-webkit-scrollbar {
    display: none;
  }

  scrollbar-width: none;
`])),()=>ho.scrollableArea),fb=(0,Ca.createContext)(wr),JA=()=>(0,Ca.useContext)(fb),eB=e=>{let t=(0,Ca.useRef)(null),n=(0,Ca.useCallback)(o=>{t.current.scrollBy(0,o.deltaY)},[]);return Ca.default.createElement(fb.Provider,{value:n},Ca.default.createElement(QA,{ref:t},e.children))},tB=eB}),rB,Kee=P(()=>{rB='data:image/svg+xml,<svg width="34" height="34" viewBox="0 0 34 34" fill="none" xmlns="http://www.w3.org/2000/svg">%0A  <path d="M1 7V1H7" stroke="%2374FFDE" stroke-width="0.25" />%0A  <path d="M7 33H1L1 27" stroke="%2374FFDE" stroke-width="0.25" />%0A  <path d="M33 27V33H27" stroke="%2374FFDE" stroke-width="0.25" />%0A  <path d="M27 1L33 1V7" stroke="%2374FFDE" stroke-width="0.25" />%0A</svg>'}),er,ch=P(()=>{er=(e,t=e)=>`
  left: `.concat(e*-.5,`px;
  top: `).concat(t*-.5,`px;
  width: `).concat(e,`px;
  height: `).concat(t,`px;
`)}),dh,oB,iB,Wee=P(()=>{dh=je,oB=(0,dh.prism)(()=>{let[e,t]=dh.prism.state("pos",null);return dh.prism.effect("setupListeners",()=>{let n=o=>{t(o)};return document.addEventListener("mousemove",n),()=>{document.removeEventListener("mousemove",n)}},[]),e}),iB=oB}),No,xn,Sc,aB,lB,sB,uB,Fo,oo,fh,cB,dB,Jt=P(()=>{No=je,Wee(),Rt(),xn=$(G()),Sc=(0,xn.createContext)(null),aB=0,lB=({children:e,layoutP:t})=>{let n=(0,xn.useMemo)(()=>new No.Atom([]),[]),o=(0,xn.useMemo)(()=>(0,No.prism)(()=>{let s=No.prism.memo("p",()=>cB(t),[t]).getValue(),u=(0,No.val)(n.pointer);return u.length>0?ua(u).position:s}),[t]),a=(0,xn.useCallback)(()=>{let s=aB++;return n.reduce(u=>[...u,{id:s,position:[-1,0]}]),{set:u=>{n.reduce(d=>{let f=d.findIndex(v=>v.id===s);if(f===-1)return console.warn("Lock is already freed. This is a bug."),d;let m=[...d];return m.splice(f,1,{id:s,position:[u,u===-1?0:1]}),m})},unlock:()=>{n.reduce(u=>u.filter(d=>d.id!==s))}}},[]),l={currentD:o,getLock:a};return xn.default.createElement(Sc.Provider,{value:l},e)},sB=()=>(0,xn.useContext)(Sc).currentD,uB=()=>{let{getLock:e}=(0,xn.useContext)(Sc),t=(0,xn.useRef)();return(0,xn.useLayoutEffect)(()=>()=>{var n;(n=t.current)==null||n.unlock()},[]),(0,xn.useMemo)(()=>{let n;return(o,a)=>{var l,s;(n==null?void 0:n.shouldLock)!==o&&(o?t.current=e():(l=t.current)==null||l.unlock()),(n==null?void 0:n.pos)!==a&&o&&((s=t.current)==null||s.set(a)),n={shouldLock:o,pos:a}}},[e])},Fo=(e,t)=>{let{getLock:n}=(0,xn.useContext)(Sc),o=(0,xn.useRef)();(0,xn.useLayoutEffect)(()=>{if(e)return o.current=n(),()=>{o.current.unlock()}},[e,n]),(0,xn.useLayoutEffect)(()=>{e&&o.current.set(t)},[t,e])},oo=e=>({[fh]:e==="hide"?e:e.toFixed(3)}),fh="data-theatre-lock-framestamp-to",cB=e=>(0,No.prism)(()=>{let t=(0,No.val)(e.rightDims),n=(0,No.val)(e.clippedSpace.toUnitSpace),o=(0,No.val)(iB);if(!o)return[-1,0];for(let m of o.composedPath()){if(!(m instanceof HTMLElement||m instanceof SVGElement))break;if(m.hasAttribute(fh)){let v=m.getAttribute(fh);if(typeof v!="string")continue;if(v==="hide")return[-1,0];let g=parseFloat(v);if(isFinite(g)&&g>=0)return[g,2]}}let{clientX:a,clientY:l}=o,{screenX:s,screenY:u,width:d,height:f}=t;if(nv(a,s,s+d)&&nv(l,u+16,u+f)){let m=a-s;return[n(m),3]}else return[-1,0]}),dB=lB}),fB,Ec,pb,pB,hB,io,mB=P(()=>{rt(),Un(),be(),Kee(),ch(),Ir(),Jt(),fB=12,Ec=34,pb="beingDragged",io={BEING_DRAGGED_CLASS:pb,CSS:Fn(pB||(pB=F([`
    position: absolute;
    `,`;
    `,`;

    &.`,` {
      pointer-events: none !important;
    }
  `])),er(fB),tt,pb),CSS_WHEN_SOMETHING_DRAGGING:Fn(hB||(hB=F([`
    pointer-events: auto;
    cursor: var(`,`);

    // ⸢⸤⸣⸥ thing
    // This box extends the hitzone so the user does not
    // accidentally leave the hitzone
    &:hover:after {
      position: absolute;
      top: calc(50% - `,`px);
      left: calc(50% - `,`px);
      width: `,`px;
      height: `,`px;
      display: block;
      content: ' ';
      background: url(`,`) no-repeat 100% 100%;
      // This icon might also fit: GiConvergenceTarget
    }
  `])),jo,Ec/2,Ec/2,Ec,Ec,rB),reactProps(e){return he(L(L({},oo(e.position)),wn.includePositionSnapAttrs(e.position)),{className:e.isDragging?io.BEING_DRAGGED_CLASS:""})}}});function hb(){Pc.set({mode:"snapToAll"})}function Ia(){Pc.set({mode:"snapToNone"})}function gB(e){Pc.set({mode:"snapToSome",positions:e})}function vB(e,t){return Object.fromEntries(Object.entries(e).map(([n,o])=>[n,Object.fromEntries(Object.entries(o.trackData).map(([a,l])=>[a,l.keyframes.filter(s=>t(s,{trackId:a,trackData:l,objectKey:n})).map(s=>s.position)]))]))}var yB,bB,mb,kB,wB,xB,SB,EB,_c,Pc,gb,ja=P(()=>{yB=je,bB=je,mb=$(G()),be(),mB(),wB=U.div(kB||(kB=F([`
  z-index: 1;
  cursor: ew-resize;

  `,`

  #pointer-root.draggingPositionInSequenceEditor & {
    `,`
  }
`])),io.CSS,io.CSS_WHEN_SOMETHING_DRAGGING),SB=U.div(xB||(xB=F([`
  position: absolute;
`]))),EB=e=>mb.default.createElement(SB,{style:{top:"".concat(e.leaf.nodeHeight/2,"px"),left:"calc(".concat((0,bB.val)(e.layoutP.scaledSpace.leftPadding),"px + calc(var(--unitSpaceToScaledSpaceMultiplier) * ").concat(e.position,"px))")}},mb.default.createElement(wB,L({},io.reactProps({isDragging:!1,position:e.position})))),_c=EB,Pc=new yB.Atom({mode:"snapToNone"}),gb=Pc.prism});function Hee(e,t){let n=(0,Oa.useMemo)(()=>({debugName:"HorizontallyScrollableArea",onDragStart(a){if(a.target instanceof HTMLInputElement||a.shiftKey||a.altKey||a.ctrlKey||a.metaKey||a.composedPath().some(v=>v instanceof HTMLElement&&v.draggable===!0))return!1;let l=a.clientX-t.getBoundingClientRect().left,s=xt((0,Et.val)(e.clippedSpace.toUnitSpace)(l),0,1/0),u=(0,Et.val)(e.seeker.setIsSeeking),d=(0,Et.val)(e.sheet).getSequence();d.position=s;let f=s,m=(0,Et.val)(e.scaledSpace.toUnitSpace);return u(!0),hb(),{onDrag(v,g,h){let b=m(v),y=xt(f+b,0,d.length),k=wn.checkIfMouseEventSnapToPos(h,{});k!=null&&(y=k),d.position=y},onDragEnd(){u(!1),Ia()}}}}),[e,t]),[o]=St(t,n);Yn(o,"draggingPositionInSequenceEditor","ew-resize")}function qee(e,t){let n=JA();(0,Oa.useLayoutEffect)(()=>{if(!t)return;let o=l=>{if(l.ctrlKey){l.preventDefault(),l.stopPropagation();let s=l.clientX-t.getBoundingClientRect().left,u=(0,Et.val)(e.clippedSpace.toUnitSpace)(s),d=(0,Et.val)(e.clippedSpace.range),f=1+vb(l.deltaY,[-50,50])*.03,m=ca(d,h=>(h-u)*f+u),v=(0,Et.val)(e.sheet).getSequence().length,g=v+v*.25;(0,Et.val)(e.clippedSpace.setRange)($ee(m,[0,g]));return}else if(l.shiftKey){l.preventDefault(),l.stopPropagation();let s=(0,Et.val)(e.sheet).getSequence().length,u=(0,Et.val)(e.clippedSpace.range),d=(u.end-u.start)/s,f=vb(l.deltaY||l.deltaX,[-50,50])*.05*d,m=ca(u,v=>v+f);(0,Et.val)(e.clippedSpace.setRange)(m);return}else{n(l),l.preventDefault(),l.stopPropagation();let s=(0,Et.val)(e.scaledSpace.toUnitSpace)(l.deltaX*1),u=(0,Et.val)(e.clippedSpace.range),d=ca(u,f=>f+s);(0,Et.val)(e.clippedSpace.setRange)(d);return}},a={capture:!0,passive:!1};return t.addEventListener("wheel",o,a),()=>{t.removeEventListener("wheel",o,a)}},[t,e]),St(t,(0,Oa.useMemo)(()=>({onDragStart(o){let a=(0,Et.val)(e.clippedSpace.range),l=(0,Et.val)(e.clippedSpace.setRange),s=(0,Et.val)(e.scaledSpace.toUnitSpace);return o.preventDefault(),o.stopPropagation(),{onDrag(u,d,f,m,v){n({deltaY:-v});let g=-s(u),h=ca(a,b=>b+g);l(h)}}},debugName:"HorizontallyScrollableArea Middle Button Drag",buttons:[1],lockCSSCursorTo:"grabbing"}),[e]))}function vb(e,[t,n]){return Math.max(Math.min(e,n),t)}function $ee(e,t){return ca(e,n=>vb(n,t))}function Lee(e,t){(0,Oa.useLayoutEffect)(()=>{if(!t)return;let n=(0,Et.prism)(()=>{let s=(0,Et.val)(e.clippedSpace.range);return(0,Et.val)(e.scaledSpace.fromUnitSpace)(s.start)}),o=()=>{let s=n.getValue();t.scrollLeft=s},a=n.onStale(o);o();let l=setTimeout(o,100);return()=>{clearTimeout(l),a()}},[e,t])}var Et,Oa,_B,PB,CB,yb,IB=P(()=>{At(),nt(),Fe(),Et=je,Rt(),Oa=$(G()),be(),nB(),rt(),Un(),Ir(),ja(),PB=U.div(_B||(_B=F([`
  position: absolute;

  right: 0;
  overflow-x: scroll;
  overflow-y: hidden;
  `,`;

  // hide the scrollbar on Gecko
  scrollbar-width: none;

  // hide the scrollbar on Webkit/Blink
  &::-webkit-scrollbar {
    display: none;
  }
`])),tt),CB=Oa.default.memo(({layoutP:e,children:t,height:n})=>{let{width:o,unitSpaceToScaledSpaceMultiplier:a}=Ge(()=>({width:(0,Et.val)(e.rightDims.width),unitSpaceToScaledSpaceMultiplier:(0,Et.val)(e.scaledSpace.fromUnitSpace)(1)}),[e]),[l,s]=Qe(null);return qee(e,s),Hee(e,s),Lee(e,s),Oa.default.createElement(PB,{ref:l,style:{width:o+"px",height:n+"px","--unitSpaceToScaledSpaceMultiplier":a}},t)}),yb=CB}),ph,jB,OB,TB,zB,DB,AB,BB,cs,hh=P(()=>{ph=$(G()),be(),OB=U.li(jB||(jB=F([`
  margin: 0;
  padding: 0;
  list-style: none;
  box-sizing: border-box;
  position: relative;
`]))),zB=U.div(TB||(TB=F([`
  box-sizing: border-box;
  width: 100%;
  position: relative;

  &:before {
    position: absolute;
    display: block;
    content: ' ';
    left: -40px;
    top: 0;
    bottom: 0;
    right: 0;
    box-sizing: border-box;
    border-bottom: 1px solid #252b3869;
    background: `,`;
  }
`])),e=>e.isEven?"transparent":"#6b8fb505"),AB=U.ul(DB||(DB=F([`
  margin: 0;
  padding: 0;
  list-style: none;
`]))),BB=({leaf:e,children:t,node:n,isCollapsed:o})=>{let a=Array.isArray(t)&&t.length>0;return e.shouldRender?ph.default.createElement(OB,null,ph.default.createElement(zB,{style:{height:e.nodeHeight+"px"},isEven:e.n%2===0},n),a&&ph.default.createElement(AB,null,t)):null},cs=BB}),Xee=Ke((e,t)=>{(function(){var n=this,o={};typeof e<"u"?t.exports=o:n.fuzzy=o,o.simpleFilter=function(a,l){return l.filter(function(s){return o.test(a,s)})},o.test=function(a,l){return o.match(a,l)!==null},o.match=function(a,l,s){s=s||{};var u=0,d=[],f=l.length,m=0,v=0,g=s.pre||"",h=s.post||"",b=s.caseSensitive&&l||l.toLowerCase(),y;a=s.caseSensitive&&a||a.toLowerCase();for(var k=0;k<f;k++)y=l[k],b[k]===a[u]?(y=g+y+h,u+=1,v+=1+v):v=0,m+=v,d[d.length]=y;return u===a.length?(m=b===a?1/0:m,{rendered:d.join(""),score:m}):null},o.filter=function(a,l,s){return!l||l.length===0?[]:typeof a!="string"?l:(s=s||{},l.reduce(function(u,d,f,m){var v=d;s.extract&&(v=s.extract(d));var g=o.match(a,v,s);return g!=null&&(u[u.length]={string:g.rendered,score:g.score,index:f,original:d}),u},[]).sort(function(u,d){var f=d.score-u.score;return f||u.index-d.index}))}})()});function Zee(e,t){let[n,o]=(0,mh.useState)(!1),a=(0,mh.useRef)(t);return n||(a.current=t),(0,mh.useMemo)(()=>e(o),a.current)}var mh,Gee=P(()=>{mh=$(G())}),bb,Ei,gh=P(()=>{bb="rgba(26, 28, 30, 0.97);",Ei="#272B2F"});function MB(e,t,n,o){let a=Zee(l=>({debugName:"CurveSegmentEditor/useKeyframeDrag",lockCSSCursorTo:"move",onDragStart(){return l(!0),{onDrag(s,u){e&&n.onCurveChange(o(s,u))},onDragEnd(s){l(!1),n.onCancelCurveChange()}}}}),[e,n.onCurveChange,n.onCancelCurveChange]);St(t,a)}var Je,vh,Cc,ds,NB,Ic,FB,yh,RB,UB,VB,fs,KB,Ta,WB,HB,kb,qB,bh,$B,wb,LB,XB,Yee=P(()=>{Je=$(G()),At(),nt(),pf(),be(),rt(),Gee(),gh(),vh=.12,Cc=1+vh*2,ds=.01,NB=8,Ic=(1-ds)/(NB-1),FB="#3EAAA4",yh="#3EAAA4",RB="#3EAAA4",UB="#3EAAA4",VB="#3EAAA4",fs="#3EAAA4",KB="#3EAAA4",Ta="#B3B3B3",WB="#3eaaa4",HB="#67dfd8",kb=["goldenrod","cornflowerblue","dodgerblue","lawngreen"],bh=U.circle(qB||(qB=F([`
  stroke-width: 0.1px;
  vector-effect: non-scaling-stroke;
  r: 0.04px;
  pointer-events: none;
  transition: r 0.15s;
  fill: `,`;
`])),WB),wb=U.circle($B||($B=F([`
  stroke-width: 0.1px;
  vector-effect: non-scaling-stroke;
  r: 0.09px;
  cursor: move;
  `,`;
  &:hover {
    opacity: 0.4;
  }
  &:hover + `,` {
    fill: `,`;
  }
`])),tt,bh,HB),LB=e=>{let{curveConnection:{left:t,right:n},backgroundConnections:o}=e,a=Math.min(0,1-n.handles[1],1-t.handles[3]),l=Math.max(1,1-n.handles[1],1-t.handles[3]),s=Math.max(1,l-a),u=x=>(x-a)/s,[d,f]=Qe(null),m=Cc/((f==null?void 0:f.clientWidth)||1),v=Cc/((f==null?void 0:f.clientHeight)||1),[g,h]=Qe(null);MB(f,h,e,(x,S)=>{let _=xt(t.handles[2]+x*m,0,1),O=t.handles[3]-S*v;return[_,O,n.handles[0],n.handles[1]]});let[b,y]=Qe(null);MB(f,y,e,(x,S)=>{let _=xt(n.handles[0]+x*m,0,1),O=n.handles[1]-S*v;return[t.handles[2],t.handles[3],_,O]});let k=x=>"M0 ".concat(u(1)," C").concat(x.left.handles[2]," ").concat(u(1-x.left.handles[3])," ").concat(x.right.handles[0]," ").concat(u(1-x.right.handles[1])," 1 ").concat(u(0));return Je.default.createElement("svg",{height:"100%",width:"100%",ref:d,viewBox:"".concat(-vh," ").concat(-vh," ").concat(Cc," ").concat(Cc),xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",fill:"none"},Je.default.createElement("linearGradient",{id:"myGradient",gradientTransform:"rotate(90)"},Je.default.createElement("stop",{offset:u(-1),stopColor:KB}),Je.default.createElement("stop",{offset:u(0),stopColor:fs}),Je.default.createElement("stop",{offset:u(.3),stopColor:VB}),Je.default.createElement("stop",{offset:u(.5),stopColor:UB}),Je.default.createElement("stop",{offset:u(.7),stopColor:RB}),Je.default.createElement("stop",{offset:u(1),stopColor:yh}),Je.default.createElement("stop",{offset:u(2),stopColor:FB})),Je.default.createElement("pattern",{id:"dot-background-pattern-1",width:Ic,height:Ic/s,y:-a/s},Je.default.createElement("rect",{width:ds,height:ds,fill:Ta,opacity:.3})),Je.default.createElement("rect",{x:0,y:0,width:"1",height:1,fill:"url(#dot-background-pattern-1)"}),Je.default.createElement("pattern",{id:"dot-background-pattern-2",width:Ic,height:Ic},Je.default.createElement("rect",{width:ds,height:ds,fill:Ta})),Je.default.createElement("rect",{x:0,y:u(0),width:"1",height:u(1)-u(0),fill:"url(#dot-background-pattern-2)"}),!t.type||t.type==="bezier"?Je.default.createElement(Je.default.Fragment,null,Je.default.createElement("line",{x1:0,y1:u(1),x2:t.handles[2],y2:u(1-t.handles[3]),stroke:Ta,strokeWidth:"0.01"}),Je.default.createElement("line",{x1:1,y1:u(0),x2:n.handles[0],y2:u(1-n.handles[1]),stroke:Ta,strokeWidth:"0.01"}),Je.default.createElement("path",{d:k(e.curveConnection),stroke:"none",fill:"url('#myGradient')",opacity:"0.1"}),o.map((x,S)=>Je.default.createElement("path",{key:x.objectKey+"/"+x.left.id,d:k(x),stroke:kb[S%kb.length],opacity:.6,strokeWidth:"0.01"})),Je.default.createElement("path",{d:k(e.curveConnection),stroke:"url('#myGradient')",strokeWidth:"0.02"}),Je.default.createElement("circle",{cx:0,cy:u(1),r:"0.025",stroke:yh,strokeWidth:"0.02",fill:Ei}),Je.default.createElement("circle",{cx:1,cy:u(0),r:"0.025",stroke:fs,strokeWidth:"0.02",fill:Ei}),Je.default.createElement(wb,{ref:g,cx:t.handles[2],cy:u(1-t.handles[3]),fill:yh,opacity:.2}),Je.default.createElement(bh,{cx:t.handles[2],cy:u(1-t.handles[3])}),Je.default.createElement(wb,{ref:b,cx:n.handles[0],cy:u(1-n.handles[1]),fill:fs,opacity:.2}),Je.default.createElement(bh,{cx:n.handles[0],cy:u(1-n.handles[1])})):Je.default.createElement(Je.default.Fragment,null,Je.default.createElement("line",{x1:0,y1:u(1),x2:1,y2:u(1),stroke:Ta,strokeWidth:"0.01"}),Je.default.createElement("line",{x1:1,y1:u(1),x2:1,y2:0,stroke:Ta,strokeWidth:"0.01"}),Je.default.createElement("circle",{cx:0,cy:1,r:"0.025",stroke:fs,strokeWidth:"0.02",fill:Ei}),Je.default.createElement("circle",{cx:1,cy:0,r:"0.025",stroke:fs,strokeWidth:"0.02",fill:Ei})))},XB=LB});function kh(e){return e.map(t=>t.toFixed(3)).join(", ")}function wh(e){if(!e||(e==null?void 0:e.length)>ZB)return null;let t=e.split(",");if(t.length!==4)return null;let n=t.map(o=>Number(o.trim()));return!n.every(o=>isFinite(o))||n[0]<0||n[0]>1||n[2]<0||n[2]>1?null:n}function Qee(e,t,n={threshold:.02}){if(!e||!t)return!1;let o=0;for(let a=0;a<4;a++)o+=Math.abs(e[a]-t[a]);return o<n.threshold}var ZB,xh,GB=P(()=>{ZB=128,xh=[{label:"Quad Out",value:"0.250, 0.460, 0.450, 0.940"},{label:"Quad In Out",value:"0.455, 0.030, 0.515, 0.955"},{label:"Quad In",value:"0.550, 0.085, 0.680, 0.530"},{label:"Cubic Out",value:"0.215, 0.610, 0.355, 1.000"},{label:"Cubic In Out",value:"0.645, 0.045, 0.355, 1.000"},{label:"Cubic In",value:"0.550, 0.055, 0.675, 0.190"},{label:"Quart Out",value:"0.165, 0.840, 0.440, 1.000"},{label:"Quart In Out",value:"0.770, 0.000, 0.175, 1.000"},{label:"Quart In",value:"0.895, 0.030, 0.685, 0.220"},{label:"Quint Out",value:"0.230, 1.000, 0.320, 1.000"},{label:"Quint In Out",value:"0.860, 0.000, 0.070, 1.000"},{label:"Quint In",value:"0.755, 0.050, 0.855, 0.060"},{label:"Sine Out",value:"0.390, 0.575, 0.565, 1.000"},{label:"Sine In Out",value:"0.445, 0.050, 0.550, 0.950"},{label:"Sine In",value:"0.470, 0.000, 0.745, 0.715"},{label:"Expo Out",value:"0.190, 1.000, 0.220, 1.000"},{label:"Expo In Out",value:"1.000, 0.000, 0.000, 1.000"},{label:"Expo In",value:"0.780, 0.000, 0.810, 0.00"},{label:"Circ Out",value:"0.075, 0.820, 0.165, 1.000"},{label:"Circ In Out",value:"0.785, 0.135, 0.150, 0.860"},{label:"Circ In",value:"0.600, 0.040, 0.980, 0.335"},{label:"Back Out",value:"0.175, 0.885, 0.320, 1.275"},{label:"Back In Out",value:"0.680, -0.550, 0.265, 1.550"},{label:"Back In",value:"0.600, -0.280, 0.735, 0.045"},{label:"linear",value:"0.5, 0.5, 0.5, 0.5"},{label:"In Out",value:"0.42,0,0.58,1"},{label:"Hold",value:"0, 0, Infinity, Infinity"}]}),pn,Sh,za,xb,YB,QB,jc,Sb,Eb,JB,e9,Jee=P(()=>{pn=$(G()),Sh=.75,za=.1,xb=1+Sh*2,YB="#F5F5F5",QB="#888888",jc="#4f4f4f",Sb="rgba(255, 255, 255, 0.1)",Eb=e=>1-e,JB=e=>{let{easing:t,isSelected:n}=e,o=n?YB:QB,a="".concat(-Sh," ").concat(-Sh," ").concat(xb," ").concat(xb);if(t){let l=[t[0],Eb(t[1])],s=[t[2],Eb(t[3])];return pn.default.createElement("svg",{height:"100%",width:"100%",viewBox:a,fill:"none",xmlns:"http://www.w3.org/2000/svg"},pn.default.createElement("line",{x1:"0",y1:"1",x2:l[0],y2:l[1],stroke:jc,strokeWidth:"0.1"}),pn.default.createElement("line",{x1:"1",y1:"0",x2:s[0],y2:s[1],stroke:jc,strokeWidth:"0.1"}),pn.default.createElement("circle",{cx:l[0],cy:l[1],r:.1,fill:Sb}),pn.default.createElement("circle",{cx:s[0],cy:s[1],r:.1,fill:Sb}),pn.default.createElement("circle",{cx:l[0],cy:l[1],r:za,fill:jc}),pn.default.createElement("circle",{cx:s[0],cy:s[1],r:za,fill:jc}),pn.default.createElement("path",{d:"M0 1 C".concat(l[0]," ").concat(l[1]," ").concat(s[0],` 
        `).concat(s[1]," 1 0"),stroke:o,strokeWidth:"0.08"}),pn.default.createElement("circle",{cx:0,cy:1,r:za,fill:o}),pn.default.createElement("circle",{cx:1,cy:0,r:za,fill:o}))}return pn.default.createElement("svg",{height:"100%",width:"100%",viewBox:a,fill:"none",xmlns:"http://www.w3.org/2000/svg"},pn.default.createElement("line",{x1:"0",y1:"1",x2:1,y2:1,stroke:o,strokeWidth:"0.08"}),pn.default.createElement("line",{x1:"1",y1:"0",x2:1,y2:1,stroke:o,strokeWidth:"0.08"}),pn.default.createElement("circle",{cx:0,cy:1,r:za,fill:o}),pn.default.createElement("circle",{cx:1,cy:0,r:za,fill:o}))},e9=JB}),Oc,t9,n9,r9,o9,i9,a9,l9,ete=P(()=>{cc(),Oc=$(G()),be(),GB(),Jee(),np(),gh(),Qr(),r9=U.div(n9||(n9=F([`
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  aspect-ratio: 1;

  transition: background-color 0.15s;
  background-color: `,`;
  border-radius: 2px;
  cursor: pointer;
  outline: none;

  `,`

  &:hover {
    background-color: #31353a;
  }

  &:focus {
    background-color: #383d42;
  }
`])),Ei,({isSelected:e})=>e&&Fn(t9||(t9=F([`
      background-color: #383d42;
    `])))),i9=U(Yr)(o9||(o9=F([`
  padding: 0.5em;
  color: white;
  max-width: 240px;
  pointer-events: none !important;
  --popover-bg: black;
  --popover-outer-stroke: transparent;
  --popover-inner-stroke: transparent;
  box-shadow: none;
`]))),a9=Oc.default.forwardRef((e,t)=>{let[n,o]=ns({enabled:!0,verticalPlacement:e.tooltipPlacement,verticalGap:0},()=>Oc.default.createElement(i9,{showPopoverEdgeTriangle:!1},e.easing.label));return Oc.default.createElement(r9,L({ref:tp([o,t])},e),n,Oc.default.createElement(e9,{easing:wh(e.easing.value),isSelected:e.isSelected}))}),l9=a9});function tte(e){var t;let[n,o]=(0,s9.useState)(null),a=s=>{if(n===null){e.items.length>0&&o(0);return}let u=n+s*e.uiColumns,d=u<0,f=u>e.items.length-1;if(d||f){if(e.canVerticleExit&&e.canVerticleExit(d?"top":"bottom")){o(null);return}return}o(u)},l=s=>{n===null?o(ite(s,e.items.length)):n+s<0?o(null):o(Math.min(n+s,e.items.length-1))};return{focusFirstItem(){o(0)},onParentEltKeyDown:s=>{if(s.key==="ArrowRight")l(1);else if(s.key==="ArrowLeft")l(-1);else if(s.key==="ArrowUp")a(-1);else if(s.key==="ArrowDown")a(1);else return 0;return 1},gridItems:e.items.map((s,u)=>e.renderItem({isSelected:u===n,item:s,select(d){o(u),e.onSelectItem(s)===1&&(d==null||d.preventDefault(),d==null||d.stopPropagation())}})),currentSelection:(t=e.items[n??-1])!=null?t:null}}var s9,nte=P(()=>{s9=$(G()),_h()});function u9(e,t,n){var o;(o=e.current)==null||o.discard(),e.current=null;let a=wh(n);a===null?e.current=ote(t):e.current=rte(t,a)}function c9(e){var t;(t=e.current)==null||t.discard(),e.current=null}function rte(e,t){return de().tempTransaction(({stateEditors:n})=>{let{setHandlesForKeyframe:o,setKeyframeType:a}=n.coreByProject.historic.sheetsById.sequence;for(let{projectId:l,sheetId:s,objectKey:u,trackId:d,left:f,right:m}of e)o({projectId:l,sheetId:s,objectKey:u,trackId:d,keyframeId:f.id,start:[t[0],t[1]]}),o({projectId:l,sheetId:s,objectKey:u,trackId:d,keyframeId:m.id,end:[t[2],t[3]]}),a({projectId:l,sheetId:s,objectKey:u,trackId:d,keyframeId:f.id,keyframeType:"bezier"})})}function ote(e){return de().tempTransaction(({stateEditors:t})=>{let{setKeyframeType:n}=t.coreByProject.historic.sheetsById.sequence;for(let{projectId:o,sheetId:a,objectKey:l,trackId:s,left:u}of e)n({projectId:o,sheetId:a,objectKey:l,trackId:s,keyframeId:u.id,keyframeType:"hold"})})}function ite(e,t){return(e%t+t)%t}function ate(e,t){return()=>setTimeout(e,t)}function lte({left:e,right:t}){return({left:n,right:o})=>e.handles[2]!==n.handles[2]||e.handles[3]!==n.handles[3]||t.handles[0]!==o.handles[0]||t.handles[1]!==o.handles[1]}var Eh,gt,d9,_b,Pb,f9,p9,h9,m9,g9,v9,y9,b9,k9,w9,x9,S9,Cb,ste,Ib,E9,_h=P(()=>{Eh=je,gt=$(G()),be(),d9=$(Xee()),Me(),Yee(),ete(),GB(),gh(),nt(),nte(),_b=3,Pb=53,f9=25,h9=U.div(p9||(p9=F([`
  background: `,`;
  display: grid;
  grid-template-areas:
    'search  tween'
    'presets tween';
  grid-template-rows: 32px 1fr;
  grid-template-columns: `,`px 120px;
  gap: 1px;
  height: 120px;
`])),bb,_b*Pb),g9=U.div(m9||(m9=F([`
  overflow: auto;
  grid-area: presets;

  display: grid;
  grid-template-columns: repeat(`,`, 1fr);
  grid-auto-rows: min-content;
  gap: 1px;

  overflow-y: scroll;
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* Internet Explorer 10+ */
  &::-webkit-scrollbar {
    /* WebKit */
    width: 0;
    height: 0;
  }
`])),_b),y9=U.input.attrs({type:"text"})(v9||(v9=F([`
  background-color: `,`;
  border: none;
  border-radius: 2px;
  color: rgba(255, 255, 255, 0.8);
  padding: 6px;
  font-size: 12px;
  outline: none;
  cursor: text;
  text-align: left;
  width: 100%;
  height: 100%;
  box-sizing: border-box;

  grid-area: search;

  &:hover {
    background-color: #212121;
  }

  &:focus {
    background-color: rgba(16, 16, 16, 0.26);
    outline: 1px solid rgba(0, 0, 0, 0.35);
  }
`])),Ei),k9=U.div(b9||(b9=F([`
  grid-area: tween;
  background: `,`;
`])),Ei),x9=U.div(w9||(w9=F([`
  grid-column: 1 / 4;
  padding: 6px;
  color: #888888;
`]))),S9=e=>{let t=(0,gt.useMemo)(()=>[e.curveConnection,...e.additionalConnections],[e.curveConnection,...e.additionalConnections]),n=(0,gt.useRef)(null);(0,gt.useEffect)(()=>{let D=E9(t);return()=>{var X;D(),(X=n.current)==null||X.commit()}},[n]);let o=[e.curveConnection.left.handles[2],e.curveConnection.left.handles[3],e.curveConnection.right.handles[0],e.curveConnection.right.handles[1]],a=(0,gt.useRef)(null);(0,gt.useLayoutEffect)(()=>{var D,X;(D=a.current)==null||D.select(),(X=a.current)==null||X.focus()},[a.current]);let[l,s]=(0,gt.useState)(kh(o)),u=D=>{D!==void 0&&(m(1),s(D.target.value),wh(D.target.value)&&g(D.target.value))},d=D=>{var X,C;m(1),(D.key==="ArrowDown"||D.key==="ArrowUp")&&D.preventDefault(),D.key==="ArrowDown"?(le.focusFirstItem(),(C=(X=z.current[x[0].label])==null?void 0:X.current)==null||C.focus()):D.key==="Escape"?(c9(n),e.onRequestClose("key Escape")):D.key==="Enter"&&e.onRequestClose("key Enter")},[f,m]=(0,gt.useState)(0);(0,gt.useEffect)(()=>{f===2?s(kh(o)):f===3&&l!==""&&s("")},t);let[v,g]=(0,gt.useState)(kh(o)),[h,b]=(0,gt.useState)(null);(0,gt.useEffect)(()=>{var D;f!==0&&f!==3&&u9(n,t,(D=h??v)!=null?D:"")},[h,v,f]),t.some(lte(e.curveConnection))&&f===0&&m(3);let y=D=>{var X,C;m(2);let Q=kh(D);s(Q),g(Q),(X=a.current)==null||X.select(),(C=a.current)==null||C.focus()},k=()=>{},x=(0,gt.useMemo)(()=>/^[A-Za-z]/.test(l)?d9.default.filter(l,xh,{extract:D=>D.label}).map(D=>D.original):xh,[l]);(0,gt.useEffect)(()=>{f===1&&x[0]&&g(x[0].value)},[x]);let S=D=>{D.key==="Escape"?(c9(n),e.onRequestClose("key Escape"),D.stopPropagation()):D.key==="Enter"&&(e.onRequestClose("key Enter"),D.stopPropagation())},_=D=>{f===0&&m(2),b(D.value)},O=()=>b(null),j=D=>(u9(n,t,D.value),e.onRequestClose("selected easing option"),1),z=(0,gt.useRef)(xh.reduce((D,X)=>(D[X.label]={current:null},D),{})),[K,M]=Qe(null),[N,Z]=(0,gt.useState)(0);(0,gt.useEffect)(()=>{let D=()=>{var X;Z((X=M==null?void 0:M.scrollTop)!=null?X:0)};return M==null||M.addEventListener("scroll",D),()=>M==null?void 0:M.removeEventListener("scroll",D)},[M]);let le=tte({items:x,uiColumns:3,onSelectItem:j,canVerticleExit(D){var X,C;return D==="top"?((X=a.current)==null||X.select(),(C=a.current)==null||C.focus(),1):0},renderItem:({item:D,select:X})=>{var C,Q;return gt.default.createElement(l9,{key:D.label,easing:D,tabIndex:0,onKeyDown:S,ref:z.current[D.label],onMouseOver:()=>_(D),onMouseOut:O,onClick:X,tooltipPlacement:((Q=(C=z.current[D.label].current)==null?void 0:C.offsetTop)!=null?Q:0)-(N??0)<Pb+f9?"bottom":"top",isSelected:Qee(o,wh(D.value))})}});return(0,gt.useLayoutEffect)(()=>{var D,X;if(le.currentSelection!==null&&document.activeElement!==a.current){let C=(X=(D=z.current)==null?void 0:D[le.currentSelection.label])==null?void 0:X.current;C==null||C.focus(),g(le.currentSelection.value),/^[A-Za-z]/.test(l)||s(le.currentSelection.value)}},[le.currentSelection]),gt.default.createElement(h9,null,gt.default.createElement(y9,{value:l,placeholder:f===3?"Multiple easings selected":"Search presets...",onPaste:ate(u),onChange:u,ref:a,onKeyDown:d}),gt.default.createElement(g9,{ref:K,onKeyDown:D=>le.onParentEltKeyDown(D)},le.gridItems,le.gridItems.length===0?gt.default.createElement(x9,null,"No results found"):void 0),gt.default.createElement(k9,{onClick:()=>{var D;return(D=a.current)==null?void 0:D.focus()}},gt.default.createElement(XB,{curveConnection:e.curveConnection,backgroundConnections:e.additionalConnections,onCurveChange:y,onCancelCurveChange:k})))},Cb=S9,{isCurveEditorOpenD:ste,isConnectionEditingInCurvePopover:Ib,getLock:E9}=(()=>{let e=new Eh.Atom([]);return{getLock(t){return e.set(t),function(){e.set([])}},isCurveEditorOpenD:(0,Eh.prism)(()=>e.prism.getValue().length>0),isConnectionEditingInCurvePopover(t){return Eh.prism.ensurePrism(),e.prism.getValue().some(({left:n,right:o})=>t.left.id===n.id&&t.right.id===o.id)}}})()});function ute(e,t){for(let{keyframeId:n}of fte(t))if(e.left.id===n)return!0;return!1}function _9(e,t,n){return(0,Ch.prism)(()=>{if(n===void 0)return[];let o=[];for(let{objectKey:a,trackId:l}of P9(n)){let s=(0,Ch.val)(de().atomP.historic.coreByProject[e].sheetsById[t].sequence.tracksByObject[a].trackData[l]);s&&(o=o.concat(dte(s.keyframes).filter(u=>ute(u,n)).map(({left:u,right:d})=>({left:u,right:d,trackId:l,objectKey:a,sheetId:t,projectId:e}))))}return o})}function Ph(e,t,n){var o;if(n===void 0)return[];let a=[];for(let{objectKey:s,trackId:u,keyframeIds:d}of P9(n))a=a.concat((o=jb({projectId:e,sheetId:t,objectKey:s,trackId:u,keyframeIds:d}))!=null?o:[]);let l=ih(a.map(s=>s.pathToProp));return a.map(({keyframe:s,pathToProp:u})=>({keyframe:s,pathToProp:u.slice(l.length)}))}function jb({projectId:e,sheetId:t,objectKey:n,trackId:o,keyframeIds:a}){let l=(0,Ch.val)(de().atomP.historic.coreByProject[e].sheetsById[t].sequence.tracksByObject[n]),s=l==null?void 0:l.trackData[o];if(!s)return null;let u=cte((l==null?void 0:l.trackIdByPropPath)||{})[o];if(!u)return null;let d=[n,...ah(u)];return a.map(f=>({keyframe:s.keyframes.find(m=>m.id===f),pathToProp:d})).filter(({keyframe:f})=>f!==void 0)}function cte(e){let t={};for(let[n,o]of Object.entries(e))t[o]=n;return t}function dte(e){return e.map((t,n)=>({left:t,right:e[n+1]})).slice(0,-1)}function fte(e){var t,n,o;let a=[];for(let[l,s]of Object.entries((t=e==null?void 0:e.byObjectKey)!=null?t:{}))for(let[u,d]of Object.entries((n=s==null?void 0:s.byTrackId)!=null?n:{}))for(let f of Object.keys((o=d==null?void 0:d.byKeyframeId)!=null?o:{}))a.push({objectKey:l,trackId:u,keyframeId:f});return a}function P9(e){var t,n,o;let a=[];for(let[l,s]of Object.entries((t=e==null?void 0:e.byObjectKey)!=null?t:{}))for(let[u,d]of Object.entries((n=s==null?void 0:s.byTrackId)!=null?n:{}))a.push({objectKey:l,trackId:u,keyframeIds:Object.keys((o=d==null?void 0:d.byKeyframeId)!=null?o:{})});return a}var Ch,ps=P(()=>{Ch=je,Me(),ro()});function pte(e,t){return(0,C9.useMemo)(()=>hte(e,t),[])}function hte(e,t){let n=null,o=s=>de().tempTransaction(u=>e(u,s));function a(){n==null||n.discard(),n=null}let l={createAsset:t.sheet.project.assetStorage.createAsset,getAssetUrl:s=>s.id?t.sheet.project.assetStorage.getAssetUrl(s.id):void 0};return L({temporarilySetValue(s){a(),n=o(s)},discardTemporaryValue:a,permanentlySetValue(s){a(),o(s).commit()}},l)}var C9,mte=P(()=>{Me(),C9=$(G())});function Ob(e){var t;if(e.type==="sheetObject")return en.default.createElement(en.default.Fragment,null,en.default.createElement(Ih,{style:{paddingLeft:"".concat(e.indent*jh,"px")}},e.sheetObject.address.objectKey),e.children.map((n,o)=>en.default.createElement(Ob,he(L({key:o},n),{autoFocusInput:e.autoFocusInput&&o===0,indent:e.indent+1}))));if(e.type==="propWithChildren"){let n=(t=e.propConfig.label)!=null?t:ua(e.pathToProp);return en.default.createElement(en.default.Fragment,null,en.default.createElement(Ih,{style:{paddingLeft:"".concat(e.indent*jh,"px")}},n),e.children.map((o,a)=>en.default.createElement(Ob,he(L({key:a},o),{autoFocusInput:e.autoFocusInput&&a===0,indent:e.indent+1}))))}else return en.default.createElement(gte,he(L({},e),{autoFocusInput:e.autoFocusInput,indent:e.indent}))}function gte(e){var t;let n=(t=e.propConfig.label)!=null?t:ua(e.pathToProp),o=vte(e);if(e.propConfig.type==="enum")return en.default.createElement(en.default.Fragment,null);{let a=i1[e.propConfig.type];return en.default.createElement(j9,null,en.default.createElement(Ih,null,en.default.createElement("span",{style:{paddingLeft:"".concat(e.indent*jh,"px")}},n)),en.default.createElement(z9,null,en.default.createElement(a,{editingTools:o,propConfig:e.propConfig,value:Ep(e.keyframe.value,e.propConfig),autoFocus:e.autoFocusInput})))}}function vte(e){let t=e.sheetObject;return pte(({stateEditors:n},o)=>{let a=he(L({},e.keyframe),{value:o});n.coreByProject.historic.sheetsById.sequence.replaceKeyframes(he(L({},t.address),{trackId:e.trackId,keyframes:[a],snappingFunction:t.sheet.getSequence().closestGridPosition}))},t)}var en,I9,j9,O9,Ih,jh,T9,z9,yte=P(()=>{en=$(G()),be(),yO(),kf(),mte(),mi(),j9=U.div(I9||(I9=F([`
  display: flex;
  align-items: stretch;
  min-width: 200px;

  select {
    min-width: 100px;
  }
`]))),Ih=U.div(O9||(O9=F([`
  font-style: normal;
  font-weight: 400;
  font-size: 11px;
  line-height: 13px;
  letter-spacing: 0.01em;
  padding: 6px 6px 6px 0;

  width: 40%;

  color: #919191;

  overflow: hidden;
`]))),jh=10,z9=U.div(T9||(T9=F([`
  display: flex;
  align-items: center;
  width: 60%;
`])))});function Oh(e){return Zr({debugName:"useKeyframeInlineEditorPopover"},()=>Th.default.createElement(Yr,{showPopoverEdgeTriangle:!0},Th.default.createElement("div",{style:{margin:"1px 2px 1px 10px"}},Array.isArray(e)?e.map((t,n)=>Th.default.createElement(Ob,he(L({key:n},t),{autoFocusInput:n===0,indent:0}))):void 0)))}var Th,zh=P(()=>{Th=$(G()),Gr(),Qr(),yte()});function bte(e,t,n){return bn(e,{displayName:"Keyframe",menuItems:()=>{let o=Ph(n.leaf.sheetObject.address.projectId,n.leaf.sheetObject.address.sheetId,n.selection);return[{label:o.length>0?"Copy (selection)":"Copy",callback:()=>{o.length>0?de().transaction(a=>{a.stateEditors.studio.ahistoric.setClipboardKeyframes(o)}):de().transaction(a=>{a.stateEditors.studio.ahistoric.setClipboardKeyframes([{keyframe:n.keyframe,pathToProp:n.leaf.pathToProp}])})}},{label:n.selection!==void 0?"Delete (selection)":"Delete",callback:()=>{n.selection?n.selection.delete():de().transaction(({stateEditors:a})=>{a.coreByProject.historic.sheetsById.sequence.deleteKeyframes(he(L({},n.leaf.sheetObject.address),{keyframeIds:[n.keyframe.id],trackId:n.leaf.trackId}))})}}]},onOpen(){t._debug("Show keyframe",n)}})}function kte(e,t,n){let o=(0,_i.useRef)(t);o.current=t;let{onClickFromDrag:a}=n,l=(0,_i.useMemo)(()=>({debugName:"KeyframeDot/useDragKeyframe",onDragStart(u){let d=o.current,f=(0,Dh.val)(de().atomP.historic.coreByProject[d.leaf.sheetObject.address.projectId].sheetsById[d.leaf.sheetObject.address.sheetId].sequence.tracksByObject),m=vB(f,function(b,{trackId:y,objectKey:k}){var x,S;return b.id!==d.keyframe.id&&!(d.selection&&(S=(x=d.selection.byObjectKey[k])==null?void 0:x.byTrackId[y])!=null&&S.byKeyframeId[b.id])});if(gB(m),d.selection){let{selection:b,leaf:y}=d,{sheetObject:k}=y,x=b.getDragHandlers(he(L({},k.address),{domNode:e,positionAtStartOfDrag:d.track.data.keyframes[d.index].position})).onDragStart(u);return x&&he(L({},x),{onClick:a,onDragEnd:(...S)=>{var _;(_=x.onDragEnd)==null||_.call(x,...S),Ia()}})}let v=d,g=(0,Dh.val)(v.layoutP.scaledSpace.toUnitSpace),h;return{onDrag(b,y,k){var x;let S=v.track.data.keyframes[v.index],_=Math.max((x=wn.checkIfMouseEventSnapToPos(k,{ignore:e}))!=null?x:S.position+g(b),0);h==null||h.discard(),h=void 0,h=de().tempTransaction(({stateEditors:O})=>{O.coreByProject.historic.sheetsById.sequence.replaceKeyframes(he(L({},v.leaf.sheetObject.address),{trackId:v.leaf.trackId,keyframes:[he(L({},S),{position:_})],snappingFunction:(0,Dh.val)(v.layoutP.sheet).getSequence().closestGridPosition}))})},onDragEnd(b){b?h==null||h.commit():h==null||h.discard(),Ia()},onClick(b){a(b)}}}}),[a]),[s]=St(e,l);return Fo(s,t.keyframe.position),Yn(s,"draggingPositionInSequenceEditor","ew-resize"),[s]}var _i,Dh,Tc,Tb,zc,zb,D9,Ah,A9,B9,M9,N9,F9,R9,U9=P(()=>{_i=$(G()),be(),Me(),kn(),At(),nt(),Dh=je,Jt(),Un(),Ir(),ch(),pi(),ps(),rt(),ja(),zh(),xa(),Tc=6,Tb=Tc+2,zc={normalColor:"#40AAA4",selectedColor:"#F2C95C",inlineEditorOpenColor:"#FCF3DC",selectedAndInlineEditorOpenColor:"#CBEBEA"},zb=({isSelected:e,isInlineEditorPopoverOpen:t})=>e&&t?zc.inlineEditorOpenColor:e?zc.selectedColor:t?zc.selectedAndInlineEditorOpenColor:zc.normalColor,Ah=U.div(D9||(D9=F([`
  position: absolute;
  `,`

  background: `,`;
  transform: rotateZ(45deg);

  `,`;

  z-index: 1;
  pointer-events: none;
`])),er(Tc),e=>zb(e),e=>e.flag===2?"outline: 2px solid white;":""),B9=U.div(A9||(A9=F([`
  position: absolute;
  `,`

  background: `,`;

  `,`;

  z-index: 1;
  pointer-events: none;
`])),er(Tc*1.5),e=>zb(e),e=>e.flag===2?"outline: 2px solid white;":""),N9=U.div(M9||(M9=F([`
  z-index: 1;
  cursor: ew-resize;

  position: absolute;
  `,`;
  `,`;

  & + `,` {
    `,`
  }

  &:hover + `,` {
    `,`
  }
`])),er(12),tt,Ah,e=>e.isInlineEditorPopoverOpen?er(Tb):"",Ah,er(Tb)),F9=e=>{let t=fi("SingleKeyframeDot",e.keyframe.id),n=wa(e.itemKey),[o,a]=Qe(null),[l]=bte(a,t,e),{node:s,toggle:u,isOpen:d}=Oh([{type:"primitiveProp",keyframe:e.keyframe,pathToProp:e.leaf.pathToProp,propConfig:e.leaf.propConf,sheetObject:e.leaf.sheetObject,trackId:e.leaf.trackId}]);kte(a,e,{onClickFromDrag(m){u(m,o.current)}});let f=!e.keyframe.type||e.keyframe.type==="bezier";return _i.default.createElement(_i.default.Fragment,null,_i.default.createElement(N9,L({ref:o,isInlineEditorPopoverOpen:d},n.attrs)),f?_i.default.createElement(Ah,{isSelected:!!e.selection,isInlineEditorPopoverOpen:d,flag:n.flag}):_i.default.createElement(B9,{isSelected:!!e.selection,isInlineEditorPopoverOpen:d,flag:n.flag}),s,l)},R9=F9}),Db,Ab,Bb,Da,V9,K9,Mb,W9=P(()=>{Rn(),Db=$(G()),be(),U9(),Ab=Tc/2+1,Bb=1e3,Da={normalColor:"#365b59",selectedColor:"#8A7842",barColor:e=>{let t=e.isSelected?Da.selectedColor:Da.normalColor;return e.isPopoverOpen?Vf(.2,zl(.2,t)):t},hoverColor:e=>{let t=e.isSelected?Da.selectedColor:Da.normalColor;return e.isPopoverOpen?Vf(.2,zl(.2,t)):Vf(.1,zl(.1,t))}},K9=U.div(V9||(V9=F([`
  position: absolute;
  background: `,`;
  height: `,`px;
  width: `,`px;

  left: 0;
  top: -`,`px;
  transform-origin: top left;
  z-index: 0;
  cursor: ew-resize;

  &:after {
    display: block;
    position: absolute;
    content: ' ';
    top: -4px;
    bottom: -4px;
    left: 0;
    right: 0;
  }

  &:hover {
    background: `,`;
  }
`])),Da.barColor,Ab,Bb,Ab/2,Da.hoverColor),Mb=Db.default.forwardRef((e,t)=>{let n={isPopoverOpen:e.isPopoverOpen,isSelected:e.isSelected};return Db.default.createElement(K9,he(L({},n),{ref:t,style:{transform:"scaleX(calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(e.connectorLengthInUnitSpace/Bb,"))")},onClick:o=>{var a;(a=e.openPopover)==null||a.call(e,o)}}),e.children)})});function wte(e,t){let n=(0,Nb.useRef)(t);n.current=t;let o=(0,Nb.useMemo)(()=>({debugName:"useDragKeyframe",lockCSSCursorTo:"ew-resize",onDragStart(a){let l=n.current,s;if(l.selection){let{selection:m,leaf:v}=l,{sheetObject:g}=v;return m.getDragHandlers(he(L({},g.address),{domNode:e,positionAtStartOfDrag:l.track.data.keyframes[l.index].position})).onDragStart(a)}let u=l,d=(0,Bh.val)(u.layoutP.sheet).getSequence(),f=(0,Bh.val)(u.layoutP.scaledSpace.toUnitSpace);return{onDrag(m,v,g){let h=f(m);s&&(s.discard(),s=void 0),s=de().tempTransaction(({stateEditors:b})=>{b.coreByProject.historic.sheetsById.sequence.transformKeyframes(he(L({},u.leaf.sheetObject.address),{trackId:u.leaf.trackId,keyframeIds:[u.keyframe.id,u.track.data.keyframes[u.index+1].id],translate:h,scale:1,origin:0,snappingFunction:d.closestGridPosition}))})},onDragEnd(m){m?s&&s.commit():s&&s.discard()}}}}),[]);St(e,o)}function xte(e,t,n,o){return bn(t,{displayName:"Tween",menuItems:()=>{let a=Ph(e.leaf.sheetObject.address.projectId,e.leaf.sheetObject.address.sheetId,e.selection);return[{label:a.length>0?"Copy (selection)":"Copy",callback:()=>{a.length>0?de().transaction(l=>{l.stateEditors.studio.ahistoric.setClipboardKeyframes(a)}):de().transaction(l=>{l.stateEditors.studio.ahistoric.setClipboardKeyframes([{keyframe:n,pathToProp:e.leaf.pathToProp},{keyframe:o,pathToProp:e.leaf.pathToProp}])})}},{label:e.selection?"Delete (selection)":"Delete",callback:()=>{e.selection?e.selection.delete():de().transaction(({stateEditors:l})=>{l.coreByProject.historic.sheetsById.sequence.deleteKeyframes(he(L({},e.leaf.sheetObject.address),{keyframeIds:[n.id,o.id],trackId:e.leaf.trackId}))})}}]}})}var Bh,Pi,Nb,Fb,H9,q9,$9,L9,X9,Ste=P(()=>{Me(),kn(),At(),nt(),Bh=je,Pi=$(G()),Nb=$(G()),Gr(),Qr(),_h(),W9(),gh(),Fe(),ps(),ps(),be(),Fb=5,q9=U(Yr)(H9||(H9=F([`
  --popover-outer-stroke: transparent;
  --popover-inner-stroke: `,`;
`])),bb),$9=e=>{let{index:t,track:n}=e,o=n.data.keyframes[t],a=n.data.keyframes[t+1],[l,s]=Qe(null),{node:u,toggle:d,close:f}=Zr(()=>{let h=(0,Bh.val)(e.layoutP.rightDims);return{debugName:"Connector",constraints:{minX:h.screenX+Fb,maxX:h.screenX+h.width-Fb}}},()=>Pi.default.createElement(X9,he(L({},e),{closePopover:f}))),[m]=xte(e,s,o,a);wte(s,e);let v=a.position-o.position,g={isPopoverOpen:Ge(()=>Ib(he(L({},e.leaf.sheetObject.address),{trackId:e.leaf.trackId,left:o,right:a})),[e.leaf.sheetObject.address,e.leaf.trackId,o,a]),isSelected:e.selection!==void 0};return Pi.default.createElement(Pi.default.Fragment,null,Pi.default.createElement(Mb,he(L({ref:l,connectorLengthInUnitSpace:v},g),{openPopover:h=>{s&&d(h,s)}}),u),m)},L9=$9,X9=Pi.default.forwardRef((e,t)=>{let{index:n,track:{data:o},selection:a}=e,l=o.keyframes[n],s=o.keyframes[n+1],u=e.leaf.trackId,d=e.leaf.sheetObject.address,f=Ge(()=>_9(d.projectId,d.sheetId,a).getValue(),[d,a]),m=L({left:l,right:s,trackId:u},d);return Pi.default.createElement(q9,{showPopoverEdgeTriangle:!1,ref:t},Pi.default.createElement(Cb,{curveConnection:m,additionalConnections:f,onRequestClose:e.closePopover}))})}),Z9,Aa,G9,Y9,Q9,J9,eM,Ete=P(()=>{Z9=je,Aa=$(G()),be(),Ste(),U9(),Y9=U.div(G9||(G9=F([`
  position: absolute;
`]))),Q9=Aa.default.createElement(Aa.default.Fragment,null),J9=Aa.default.memo(e=>{let{index:t,track:{data:n}}=e,o=n.keyframes[t],a=n.keyframes[t+1],l=o.connectedRight&&!!a;return Aa.default.createElement(Y9,{style:{top:"".concat(e.leaf.nodeHeight/2,"px"),left:"calc(".concat((0,Z9.val)(e.layoutP.scaledSpace.leftPadding),"px + calc(var(--unitSpaceToScaledSpaceMultiplier) * ").concat(o.position,"px))")}},Aa.default.createElement(R9,he(L({},e),{itemKey:e.itemKey})),l?Aa.default.createElement(L9,L({},e)):Q9)}),eM=J9});function _te(e,t){return bn(e,{displayName:"Keyframe Track",menuItems:()=>{var n;let o=(n=(0,hs.val)(de().atomP.ahistoric.clipboard.keyframesWithRelativePaths))!=null?n:[];return[Pte(t,o)]}})}function Pte(e,t){return{label:"Paste Keyframes",enabled:t.length>0,callback:()=>{var n;let o=(0,hs.val)(e.layoutP.sheet).getSequence(),a=(n=t[0])==null?void 0:n.pathToProp,l=t.filter(({keyframe:s,pathToProp:u})=>jee(a,u)).map(({keyframe:s,pathToProp:u})=>s);de().transaction(({stateEditors:s})=>{var u;o.position=o.closestGridPosition(o.position);let d=(u=Cte(l))==null?void 0:u.position;for(let f of l)s.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(he(L({},e.leaf.sheetObject.address),{trackId:e.leaf.trackId,position:o.position+f.position-d,handles:f.handles,value:f.value,snappingFunction:o.closestGridPosition,type:f.type}))})}}}function Cte(e){let t=null;for(let n of e)(t===null||n.position<t.position)&&(t=n);return t}var hs,Ro,tM,nM,Rb,rM,Ite=P(()=>{Fe(),hs=je,Ro=$(G()),be(),Ete(),kn(),nt(),Me(),ro(),ja(),Ao(),nM=U.div(tM||(tM=F([`
  position: relative;
  height: 100%;
  width: 100%;
`]))),Rb=Ro.default.memo(e=>{var t;let{layoutP:n,trackData:o,leaf:a}=e,[l,s]=Qe(null),{selectedKeyframeIds:u,selection:d}=Ge(()=>{let _=(0,hs.val)(n.selectionAtom),O=(0,hs.val)(_.pointer.current.byObjectKey[a.sheetObject.address.objectKey].byTrackId[a.trackId].byKeyframeId);return O?{selectedKeyframeIds:O,selection:(0,hs.val)(_.pointer.current)}:{selectedKeyframeIds:{},selection:void 0}},[n,a.trackId]),[f,m,v]=_te(s,e),g=Ye(gb),h=g.mode==="snapToSome"?(t=g.positions[a.sheetObject.address.objectKey])==null?void 0:t[a.trackId]:[],b=g.mode==="snapToAll",y=(0,Ro.useMemo)(()=>({data:o,id:a.trackId,sheetObject:e.leaf.sheetObject}),[o,a.trackId]),k=o.keyframes.map((_,O)=>Ro.default.createElement(eM,{key:"keyframe-"+_.id,itemKey:Ut.forTrackKeyframe(a.sheetObject,a.trackId,_.id),keyframe:_,index:O,track:y,layoutP:n,leaf:a,selection:u[_.id]===!0?d:void 0})),x=h.map(_=>Ro.default.createElement(_c,{key:"snap-target-"+_,layoutP:n,leaf:a,position:_})),S=b?o.keyframes.map(_=>Ro.default.createElement(_c,{key:"additionalSnapTarget-".concat(_.id),layoutP:n,leaf:a,position:_.position})):null;return Ro.default.createElement(nM,{ref:l,style:{background:v?"#444850 ":"unset"}},k,x,Ro.default.createElement(Ro.default.Fragment,null,S),f)}),Rb.displayName="BasicKeyframedTrack",rM=Rb}),oM,Dc,iM,aM,jte=P(()=>{Me(),Fe(),oM=je,Dc=$(G()),hh(),Ite(),pi(),iM=({leaf:e,layoutP:t})=>{let n=fi("PrimitivePropRow",e.pathToProp.join());return Ge(()=>{let{sheetObject:o}=e,{trackId:a}=e,l=(0,oM.val)(de().atomP.historic.coreByProject[o.address.projectId].sheetsById[o.address.sheetId].sequence.tracksByObject[o.address.objectKey].trackData[a]);return(l==null?void 0:l.type)!=="BasicKeyframedTrack"?(n.errorDev("trackData type ".concat(l==null?void 0:l.type," is not yet supported on the sequence editor")),Dc.default.createElement(cs,{leaf:e,isCollapsed:!1,node:Dc.default.createElement("div",null)})):Dc.default.createElement(cs,{leaf:e,isCollapsed:!1,node:Dc.default.createElement(rM,{layoutP:t,trackData:l,leaf:e})})},[e,t])},aM=iM});function Ote(e){return e()}var Tte=P(()=>{});function lM(e){let{index:t,aggregateKeyframes:n,selection:o}=e;return Ge(sM(e),[t,n,o,e.viewModel])}function sM(e){let{index:t,aggregateKeyframes:n,selection:o}=e,{projectId:a,sheetId:l}=e.viewModel.type==="sheet"?e.viewModel.sheet.address:e.viewModel.sheetObject.address;return()=>{let s=n[t],u=n[t+1],d=u&&s.keyframes.length===u.keyframes.length&&s.keyframes.every(({track:g},h)=>u.keyframes[h].track===g)?{length:u.position-s.position,selected:s.selected===0&&u.selected===0}:null,f=d?s.keyframes.map(({kf:g,track:h},b)=>he(L({},h.sheetObject.address),{trackId:h.id,left:g,right:u.keyframes[b].kf})):[],m=Ote(()=>{let g=Ub.prism.memo("selectedConnections",()=>_9(a,l,o),[a,l,o]).getValue();return[...f,...g]}),v=f.every(g=>Ib(g));return{itemKey:Ub.prism.memo("itemKey",()=>e.viewModel.type==="sheet"?Ut.forSheetAggregateKeyframe(e.viewModel.sheet,s.position):e.viewModel.type==="sheetObject"?Ut.forSheetObjectAggregateKeyframe(e.viewModel.sheetObject,s.position):Ut.forCompoundPropAggregateKeyframe(e.viewModel.sheetObject,e.viewModel.pathToProp,s.position),[e.viewModel,s.position]),cur:s,connected:d,isAggregateEditingInCurvePopover:v,allConnections:m}}}var Ub,Vb=P(()=>{Ub=je,Ao(),_h(),Fe(),ps(),Tte()});function zte(e,t){let n=(0,tr.useRef)(t);n.current=t;let o=(0,tr.useMemo)(()=>({debugName:"useDragKeyframe",lockCSSCursorTo:"ew-resize",onDragStart(a){let l=n.current,s,u=l.aggregateKeyframes[l.index].keyframes,{selection:d,viewModel:f}=l,m=f.type==="sheet"?f.sheet.address:f.sheetObject.address;if(d&&l.aggregateKeyframes[l.index].selected===0)return d.getDragHandlers(he(L({},m),{domNode:e,positionAtStartOfDrag:l.aggregateKeyframes[l.index].position})).onDragStart(a);let v=l,g=(0,Mh.val)(v.layoutP.sheet).getSequence(),h=(0,Mh.val)(v.layoutP.scaledSpace.toUnitSpace);return{onDrag(b,y,k){let x=h(b);s&&(s.discard(),s=void 0),s=de().tempTransaction(({stateEditors:S})=>{for(let _ of u)S.coreByProject.historic.sheetsById.sequence.transformKeyframes(he(L({},_.track.sheetObject.address),{trackId:_.track.id,keyframeIds:[_.kf.id,_.track.data.keyframes[_.track.data.keyframes.indexOf(_.kf)+1].id],translate:x,scale:1,origin:0,snappingFunction:g.closestGridPosition}))})},onDragEnd(b){b?s&&s.commit():s&&s.discard()}}}}),[]);return St(e,o)}function Dte(e,t){return bn(t,{displayName:"Aggregate Tween",menuItems:()=>{let n=e.utils.allConnections.reduce((u,d)=>{var f;return u.concat((f=jb(he(L({},d),{keyframeIds:[d.left.id,d.right.id]})))!=null?f:[])},[]),o=ih(n.map(u=>u.pathToProp)),a=n.map(({keyframe:u,pathToProp:d})=>({keyframe:u,pathToProp:d.slice(o.length)})),l=e.editorProps.viewModel,s=l.type==="sheet"?l.sheet.address:l.sheetObject.address;return[{label:"Copy",callback:()=>{if(e.editorProps.selection){let u=Ph(s.projectId,s.sheetId,e.editorProps.selection);de().transaction(d=>{d.stateEditors.studio.ahistoric.setClipboardKeyframes(u)})}else de().transaction(u=>{u.stateEditors.studio.ahistoric.setClipboardKeyframes(a)})}},{label:"Delete",callback:()=>{e.editorProps.selection?e.editorProps.selection.delete():de().transaction(({stateEditors:u})=>{for(let d of e.utils.allConnections)u.coreByProject.historic.sheetsById.sequence.deleteKeyframes(he(L({},s),{objectKey:d.objectKey,keyframeIds:[d.left.id,d.right.id],trackId:d.trackId}))})}}]}})}var Mh,tr,Kb,uM,cM,dM,fM,Ate=P(()=>{Mh=je,tr=$(G()),W9(),Gr(),nt(),Me(),At(),_h(),Vb(),be(),Qr(),ps(),kn(),ro(),Kb=5,cM=U(Yr)(uM||(uM=F([`
  --popover-outer-stroke: transparent;
  --popover-inner-stroke: rgba(26, 28, 30, 0.97);
`]))),dM=tr.default.forwardRef((e,t)=>{let{allConnections:n}=lM(e);return tr.default.createElement(cM,{showPopoverEdgeTriangle:!1,ref:t},tr.default.createElement(Cb,{curveConnection:n[0],additionalConnections:n,onRequestClose:e.closePopover}))}),fM=e=>{let[t,n]=Qe(null),{editorProps:o}=e,[a]=Dte(e,n),[l]=zte(n,e.editorProps),{node:s,toggle:u,close:d}=Zr(()=>{let v=(0,Mh.val)(o.layoutP.rightDims);return{debugName:"Connector",constraints:{minX:v.screenX+Kb,maxX:v.screenX+v.width-Kb}}},()=>tr.default.createElement(dM,he(L({},o),{closePopover:d}))),{connected:f,isAggregateEditingInCurvePopover:m}=e.utils;return f||l?tr.default.createElement(tr.default.Fragment,null,tr.default.createElement(Mb,{ref:t,connectorLengthInUnitSpace:f?f.length:0,isSelected:f?f.selected:!1,isPopoverOpen:m,openPopover:v=>{n&&u(v,n)}}),s,a):tr.default.createElement(tr.default.Fragment,null)}});function Bte(e){let t={isSelected:e.isSelected,flag:e.flag};return Uo.default.createElement(Nh,null,e.isAllHere?Uo.default.createElement(yM,L({},t)):Uo.default.createElement(bM,L({},t)))}var Uo,Wb,pM,hM,Nh,mM,gM,Hb,qb,$b,Lb,vM,yM,bM,Mte=P(()=>{Uo=$(G()),be(),ch(),rt(),Wb=16,pM=Wb+2,Nh=U.div(hM||(hM=F([`
  position: absolute;
  `,`
  z-index: 1;
`])),er(Wb)),gM=U.div(mM||(mM=F([`
  z-index: 2;
  cursor: ew-resize;

  position: absolute;
  `,`;
  `,`;

  &:hover
    + `,`,
    #pointer-root.draggingPositionInSequenceEditor
    &:hover
    + `,` {
    `,`
  }
`])),er(12),tt,Nh,Nh,er(pM)),Hb="#F2C95C",qb="#40AAA4",$b="#45747C",Lb=e=>e.isSelected===0?Hb:e.isSelected===1?qb:$b,vM=e=>e.isSelected===0?Hb:e.isSelected===1?qb:$b,yM=e=>Uo.default.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Uo.default.createElement("rect",{x:"4.46443",y:"10.0078",width:"5",height:"5",transform:"rotate(-45 4.46443 10.0078)",fill:"#212327",stroke:vM(e)}),Uo.default.createElement("rect",{x:"3.75732",y:"6.01953",width:"6",height:"6",transform:"rotate(-45 3.75732 6.01953)",fill:Lb(e),stroke:e.flag===2?"white":void 0,strokeWidth:e.flag===2?"2px":void 0})),bM=e=>Uo.default.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Uo.default.createElement("rect",{x:"4.46443",y:"8",width:"5",height:"5",transform:"rotate(-45 4.46443 8)",fill:"#23262B",stroke:e.flag===2?"white":Lb(e),strokeWidth:e.flag===2?"2px":void 0}))});function Nte(e,t){let n=e.children.map(o=>o.type==="propWithChildren"?Xb(o,t):kM(o,t)).filter(Zb);return n.length===0?null:{type:"sheetObject",sheetObject:e.sheetObject,children:n}}function Xb(e,t){let n=e.children.map(o=>o.type==="propWithChildren"?Xb(o,t):kM(o,t)).filter(Zb);return n.length===0?null:{type:"propWithChildren",pathToProp:e.pathToProp,propConfig:e.propConf,children:n}}function kM(e,t){let n=t.find(o=>o.track.id===e.trackId);return n?{type:"primitiveProp",keyframe:n.kf,pathToProp:e.pathToProp,propConfig:e.propConf,sheetObject:e.sheetObject,trackId:e.trackId}:null}function Fte(e){var t,n,o,a;let{cur:l}=e.utils,s=Oh(e.editorProps.viewModel.type==="sheet"?null:e.editorProps.viewModel.type==="sheetObject"?(n=(t=Nte(e.editorProps.viewModel,l.keyframes))==null?void 0:t.children)!=null?n:null:(a=(o=Xb(e.editorProps.viewModel,l.keyframes))==null?void 0:o.children)!=null?a:null),u=wa(e.utils.itemKey);u.useRelations(()=>l.keyframes.map(v=>({affects:v.itemKey,flag:2})),[l.keyframes.map(v=>v.track.id).join("-")]);let[d,f]=Qe(null),[m]=Rte(e,f);return Ac.default.createElement(Ac.default.Fragment,null,Ac.default.createElement(gM,he(L(L({ref:d},u.attrs),wn.includePositionSnapAttrs(l.position)),{onClick:v=>e.editorProps.viewModel.type!=="sheet"?s.open(v,d.current):null})),Ac.default.createElement(Bte,{flag:u.flag,isAllHere:l.allHere,isSelected:l.selected}),m,s.node)}function Rte(e,t){return bn(t,{displayName:"Aggregate Keyframe",menuItems:()=>{let n=e.editorProps.viewModel,o=e.editorProps.selection;return[{label:o?"Copy (selection)":"Copy",callback:()=>{if(o){let{projectId:a,sheetId:l}=n.type==="sheet"?n.sheet.address:n.sheetObject.address,s=Ph(a,l,o);de().transaction(u=>{u.stateEditors.studio.ahistoric.setClipboardKeyframes(s)})}else{let a=e.utils.cur.keyframes.flatMap(d=>{var f;return(f=jb(he(L({},d.track.sheetObject.address),{trackId:d.track.id,keyframeIds:[d.kf.id]})))!=null?f:[]}),l=n.type==="sheet"?[]:n.type==="sheetObject"?[n.sheetObject.address.objectKey]:n.type==="propWithChildren"?[n.sheetObject.address.objectKey,...n.pathToProp]:[],s=ih([l,...a.map(d=>d.pathToProp)]),u=a.map(({keyframe:d,pathToProp:f})=>({keyframe:d,pathToProp:f.slice(s.length)}));de().transaction(d=>{d.stateEditors.studio.ahistoric.setClipboardKeyframes(u)})}}},{label:o?"Delete (selection)":"Delete",callback:()=>{o?o.delete():de().transaction(({stateEditors:a})=>{for(let l of e.utils.cur.keyframes)a.coreByProject.historic.sheetsById.sequence.deleteKeyframes(he(L({},l.track.sheetObject.address),{keyframeIds:[l.kf.id],trackId:l.track.id}))})}}]}})}var Ac,Zb,Ute=P(()=>{Ac=$(G()),nt(),xa(),kn(),Mte(),Me(),ps(),ro(),Ir(),zh(),Zb=e=>e!==null}),wM,Bc,xM,SM,EM,_M,Vte=P(()=>{wM=je,Bc=$(G()),be(),Ate(),Vb(),Ute(),SM=U.div(xM||(xM=F([`
  position: absolute;
`]))),EM=Bc.default.memo(e=>{let t=lM(e);return Bc.default.createElement(SM,{style:{top:"".concat(e.viewModel.nodeHeight/2,"px"),left:"calc(".concat((0,wM.val)(e.layoutP.scaledSpace.leftPadding),"px + calc(var(--unitSpaceToScaledSpaceMultiplier) * ").concat(t.cur.position,"px))")}},Bc.default.createElement(Fte,{editorProps:e,utils:t}),Bc.default.createElement(fM,{editorProps:e,utils:t}))}),_M=EM});function Kte(e){let{layoutP:t,aggregatedKeyframes:n,viewModel:o}=e,a=fi("AggregatedKeyframeTrack"),[l,s]=Qe(null),{selectedPositions:u,selection:d}=Wte(t,n),[f,m,v]=$te(s,e,()=>a._debug("see aggregatedKeyframes",e.aggregatedKeyframes)),g=(0,nr.useMemo)(()=>[...n.byPosition.entries()].sort((_,O)=>_[0]-O[0]).map(([_,O])=>({position:_,keyframes:O,selected:u.get(_),allHere:O.length===n.tracks.length})),[n,u]),h=Ye(gb),b=h.mode==="snapToAll",y=h.mode==="snapToSome"?h.positions:y1,k=(0,nr.useMemo)(()=>o.type==="sheet"?Fee(o,y):ub(o,y),[y]).map(_=>nr.default.createElement(_c,{key:"snap-target-"+_,layoutP:t,leaf:o,position:_})),x=(0,nr.useMemo)(()=>g.map(({position:_,keyframes:O},j)=>({position:_,editorProps:{index:j,layoutP:t,viewModel:o,aggregateKeyframes:g,selection:u.has(_)?d:void 0}})),[g,o,u]);Gte(s,_=>{var O;return(O=x.find(j=>j.position===_))==null?void 0:O.editorProps},{onClickFromDrag(_){}});let S=x.map((_,O)=>nr.default.createElement(nr.Fragment,{key:"agg-"+g[O].keyframes[0].kf.id},b&&nr.default.createElement(_c,{layoutP:t,leaf:o,position:_.position}),nr.default.createElement(_M,L({},_.editorProps))));return nr.default.createElement(jM,{ref:l,style:{background:v?"#444850 ":"unset"}},S,k,f)}function Wte(e,t){return Ge(()=>(0,Sn.val)(Hte(e,t)),[e,t])}function Hte(e,t){return(0,Sn.prism)(()=>{let n=(0,Sn.val)(e.selectionAtom),o=(0,Sn.val)(n.pointer.current);if(!o)return OM;let a=new Map;for(let[l,s]of t.byPosition){let u=qte(s,o);u!==void 0&&u!==Rh&&a.set(l,u)}return{selectedPositions:a,selection:(0,Sn.val)(n.pointer.current)}})}function qte(e,t){var n,o,a;let l;for(let{track:s,kf:u}of e){let d=((a=(o=(n=t.byObjectKey[s.sheetObject.address.objectKey])==null?void 0:n.byTrackId[s.id])==null?void 0:o.byKeyframeId)==null?void 0:a[u.id])===!0;l===void 0?d?l=Qb:l=Rh:d?l===Rh&&(l=Jb):l===Qb&&(l=Jb)}return l}function $te(e,t,n){return bn(e,{onOpen:n,displayName:"Aggregate Keyframe Track",menuItems:()=>{var o;let a=(o=(0,Sn.pointerToPrism)(de().atomP.ahistoric.clipboard.keyframesWithRelativePaths).getValue())!=null?o:[];return[Lte(t,a)]}})}function Lte(e,t){return{label:"Paste Keyframes",enabled:t.length>0,callback:()=>{let n=(0,Sn.val)(e.layoutP.sheet).getSequence();e.viewModel.type==="sheet"?Xte(e.viewModel,t,n):Zte(e.viewModel,t,n)}}}function Xte(e,t,n){var o;let{projectId:a,sheetId:l,sheetInstanceId:s}=e.sheet.address;if(t.every(({pathToProp:u})=>u.length===0))for(let u of e.children.map(d=>d.sheetObject)){let d=(0,Sn.pointerToPrism)(de().atomP.historic.coreByProject[a].sheetsById[l].sequence.tracksByObject[u.address.objectKey]).getValue(),f=Object.keys((o=d==null?void 0:d.trackData)!=null?o:{});Gb(u.address,f,t,n)}else{let u=(0,Sn.pointerToPrism)(de().atomP.historic.coreByProject[a].sheetsById[l].sequence.tracksByObject).getValue(),d=t.map(({keyframe:f,pathToProp:m})=>{var v,g;let h=m[0],b=m.slice(1),y=no([...b]),k=((g=(v=u==null?void 0:u[h])==null?void 0:v.trackIdByPropPath)!=null?g:{})[y];return k?{keyframe:f,trackId:k,address:{objectKey:h,projectId:a,sheetId:l,sheetInstanceId:s}}:null}).filter(f=>f!==null);PM(d,n)}}function Zte(e,t,n){var o;let{projectId:a,sheetId:l,objectKey:s}=e.sheetObject.address,u=(0,Sn.pointerToPrism)(de().atomP.historic.coreByProject[a].sheetsById[l].sequence.tracksByObject[s]).getValue();if(t.every(({pathToProp:d})=>d.length===0)){let d=Object.keys((o=u==null?void 0:u.trackData)!=null?o:{});if(e.type==="sheetObject")Gb(e.sheetObject.address,d,t,n);else{let f=(u==null?void 0:u.trackIdByPropPath)||{},m=Object.entries(f).filter(([v,g])=>g!==void 0&&Iee(ah(v),e.pathToProp)).map(([v,g])=>g);Gb(e.sheetObject.address,m,t,n)}}else{let d=(u==null?void 0:u.trackIdByPropPath)||{},f=e.type==="propWithChildren"?e.pathToProp:[],m=t.map(({keyframe:v,pathToProp:g})=>{let h=no([...f,...g]),b=d[h];return b?{keyframe:v,trackId:b,address:e.sheetObject.address}:null}).filter(v=>v!==null);PM(m,n)}}function Gb(e,t,n,o){var a;o.position=o.closestGridPosition(o.position);let l=(a=CM(n.map(({keyframe:s})=>s)))==null?void 0:a.position;de().transaction(({stateEditors:s})=>{for(let u of t)for(let{keyframe:d}of n)s.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(he(L({},e),{trackId:u,position:o.position+d.position-l,handles:d.handles,value:d.value,snappingFunction:o.closestGridPosition,type:d.type}))})}function PM(e,t){var n;t.position=t.closestGridPosition(t.position);let o=(n=CM(e.map(({keyframe:a})=>a)))==null?void 0:n.position;de().transaction(({stateEditors:a})=>{for(let{keyframe:l,trackId:s,address:u}of e)a.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(he(L({},u),{trackId:s,position:t.position+l.position-o,handles:l.handles,value:l.value,snappingFunction:t.closestGridPosition,type:l.type}))})}function CM(e){let t=null;for(let n of e)(t===null||n.position<t.position)&&(t=n);return t}function Gte(e,t,n){let o=fi("useDragForAggregateKeyframeDot"),a=uB(),l=(0,nr.useMemo)(()=>({debugName:"AggregateKeyframeDot/useDragKeyframe",onDragStart(u){o._debug("onDragStart",{target:u.target});let d=Number(u.target.dataset.pos),f=t(d);if(!f)return o._debug("no props found for ",{positionToFind:d}),!1;a(!0,d);let m=(0,Sn.prism)(sM(f)).getValue().cur.keyframes,v=f.viewModel.type==="sheet"?f.viewModel.sheet.address:f.viewModel.sheetObject.address,g=(0,Sn.val)(de().atomP.historic.coreByProject[v.projectId].sheetsById[v.sheetId].sequence.tracksByObject),h=vB(g,function(x,{trackId:S,objectKey:_}){var O,j;return m.every(z=>x.id!==z.kf.id)&&!(f.selection&&(j=(O=f.selection.byObjectKey[_])==null?void 0:O.byTrackId[S])!=null&&j.byKeyframeId[x.id])});if(gB(h),f.selection&&f.aggregateKeyframes[f.index].selected===0){let{selection:x,viewModel:S}=f,_=x.getDragHandlers(he(L({},v),{domNode:e,positionAtStartOfDrag:m[0].kf.position})).onDragStart(u);return _&&he(L({},_),{onClick:n.onClickFromDrag,onDragEnd:(...O)=>{var j;(j=_.onDragEnd)==null||j.call(_,...O),Ia()}})}let b=f,y=(0,Sn.val)(b.layoutP.scaledSpace.toUnitSpace),k;return{onDrag(x,S,_){var O;let j=Math.max((O=wn.checkIfMouseEventSnapToPos(_,{}))!=null?O:m[0].kf.position+y(x),0);a(!0,j),k==null||k.discard(),k=void 0,k=de().tempTransaction(({stateEditors:z})=>{for(let K of m){let M=K.kf;z.coreByProject.historic.sheetsById.sequence.replaceKeyframes(he(L({},K.track.sheetObject.address),{trackId:K.track.id,keyframes:[he(L({},M),{position:j})],snappingFunction:(0,Sn.val)(b.layoutP.sheet).getSequence().closestGridPosition}))}})},onDragEnd(x){a(!1,-1),x?k==null||k.commit():(k==null||k.discard(),n.onClickFromDrag(u)),Ia()},onClick(x){n.onClickFromDrag(x)}}}}),[t,n.onClickFromDrag]),[s]=St(e,l);return Yn(s,"draggingPositionInSequenceEditor","ew-resize"),[s]}var Sn,nr,IM,jM,OM,TM,Fh,Yb,Qb,Jb,Rh,ek=P(()=>{Fe(),Sn=je,nr=$(G()),be(),kn(),nt(),Vte(),ss(),pi(),Vb(),Ir(),At(),Jt(),Un(),Me(),ro(),ja(),b8(),ja(),ss(),jM=U.div(IM||(IM=F([`
  position: relative;
  height: 100%;
  width: 100%;
`]))),OM=Object.freeze({selectedPositions:new Map,selection:void 0}),TM=nr.default.memo(Kte),Fh=TM,Yb=(e=>(e[e.AllSelected=0]="AllSelected",e[e.AtLeastOneUnselected=1]="AtLeastOneUnselected",e[e.NoneSelected=2]="NoneSelected",e))(Yb||{}),{AllSelected:Qb,AtLeastOneUnselected:Jb,NoneSelected:Rh}=Yb}),ms,tk,zM,Yte=P(()=>{Fe(),ms=$(G()),jte(),hh(),ek(),ss(),pi(),tk=(e,t)=>e.type==="propWithChildren"?ms.default.createElement(zM,{layoutP:t,viewModel:e,key:"prop"+e.pathToProp[e.pathToProp.length-1]}):ms.default.createElement(aM,{layoutP:t,leaf:e,key:"prop"+e.pathToProp[e.pathToProp.length-1]}),zM=({viewModel:e,layoutP:t})=>{let n=fi("RightPropWithChildrenRow",e.pathToProp.join());return Ge(()=>{let o=sh(e);return ms.default.createElement(Ij,{logger:n},ms.default.createElement(cs,{leaf:e,node:ms.default.createElement(Fh,{layoutP:t,aggregatedKeyframes:o,viewModel:e}),isCollapsed:e.isCollapsed},e.children.map(a=>tk(a,t))))},[e,t])}}),nk,DM,AM,Qte=P(()=>{Fe(),nk=$(G()),Yte(),hh(),ss(),ek(),DM=({leaf:e,layoutP:t})=>Ge(()=>{let n=sh(e);return nk.default.createElement(cs,{leaf:e,node:nk.default.createElement(Fh,{layoutP:t,aggregatedKeyframes:n,viewModel:e}),isCollapsed:e.isCollapsed},e.children.map(o=>tk(o,t)))},[e,t]),AM=DM}),Uh,BM,MM,Jte=P(()=>{Fe(),Uh=$(G()),Qte(),hh(),ss(),ek(),BM=({leaf:e,layoutP:t})=>Ge(()=>{let n=sh(e);return Uh.default.createElement(cs,{leaf:e,node:Uh.default.createElement(Fh,{layoutP:t,aggregatedKeyframes:n,viewModel:e}),isCollapsed:e.isCollapsed},e.children.map(o=>Uh.default.createElement(AM,{layoutP:t,key:"sheetObject-"+o.sheetObject.address.objectKey,leaf:o})))},[e,t]),MM=BM}),Mc,Ba,Vh,NM,FM,RM,UM,VM=P(()=>{Fe(),Mc=je,Ba=$(G()),be(),Vee(),IB(),Jte(),Vh=1e6,FM=U.ul(NM||(NM=F([`
  margin: 0;
  padding: 0;
  list-style: none;
  position: absolute;
  left: 0;
  width: `,`px;
`])),Vh),RM=({layoutP:e})=>Ge(()=>{let t=(0,Mc.val)(e.tree),n=(0,Mc.val)(e.tree.top)+Math.max((0,Mc.val)(e.tree.heightIncludingChildren),(0,Mc.val)(e.dopeSheetDims.height));return Ba.default.createElement(Ba.default.Fragment,null,Ba.default.createElement(yb,{layoutP:e,height:n},Ba.default.createElement(GA,{layoutP:e,height:n},Ba.default.createElement(FM,{style:{top:t.top+"px"}},Ba.default.createElement(MM,{leaf:t,layoutP:e})))))},[e]),UM=RM});function rk(e,t,n,o){let a="calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(e,"px)"),l="calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(t,") * 1px)");n===0&&(n=1e-4);let s="calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(n,")");o===0&&(o=.001);let u="calc(var(--graphEditorVerticalSpace) * ".concat(o*-1,")");return"translate(".concat(a,", ").concat(l,") scale(").concat(s,", ").concat(u,")")}function ene(e,t){let{index:n,trackData:o}=t,a=o.keyframes[n],l=o.keyframes[n+1];return bn(e,{menuItems:()=>[{label:"Delete",callback:()=>{de().transaction(({stateEditors:s})=>{let{deleteKeyframes:u}=s.coreByProject.historic.sheetsById.sequence;u(he(L({},t.sheetObject.address),{trackId:t.trackId,keyframeIds:[a.id,l.id]}))})}}]})}var Kh,KM,WM,HM,qM,$M,ok=P(()=>{mi(),Me(),kn(),nt(),Kh=$(G()),be(),WM=U.path(KM||(KM=F([`
  stroke-width: 2;
  stroke: var(--main-color);
  fill: none;
  vector-effect: non-scaling-stroke;
`]))),HM="M 0 0 L 1 0 L 1 1",qM=e=>{let{index:t,trackData:n}=e,o=n.keyframes[t],a=n.keyframes[t+1],l=a.position-o.position,[s,u]=Qe(null),[d]=ene(u,e),f=e.isScalar?Ep(o.value,e.propConfig):0,m=e.isScalar?Ep(a.value,e.propConfig):1,v=e.extremumSpace.fromValueSpace(f),g=e.extremumSpace.fromValueSpace(m)-v,h=rk(o.position,v,l,g),b=o.handles[2],y=o.handles[3],k=a.handles[0],x=a.handles[1],S="M 0 0 C ".concat(b," ").concat(y," ").concat(k," ").concat(x," 1 1");return Kh.default.createElement(Kh.default.Fragment,null,Kh.default.createElement(WM,{ref:s,d:!o.type||o.type==="bezier"?S:HM,style:{transform:h}}),d)},$M=qM});function tne(e,t){let n=(0,Ma.useRef)(t);n.current=t;let o=(0,Ma.useMemo)(()=>({debugName:"CurveHandler/useOurDrags",lockCSSCursorTo:"move",onDragStart(){let a,l=n.current,s=(0,Nc.val)(l.layoutP.scaledSpace.toUnitSpace),u=(0,Nc.val)(l.layoutP.graphEditorVerticalSpace.toExtremumSpace),d=l.extremumSpace.lock();return{onDrag(f,m){a&&(a.discard(),a=void 0);let{index:v,trackData:g}=l,h=g.keyframes[v],b=g.keyframes[v+1],y=s(f)/(b.position-h.position),k=-m,x=u(k),S=l.extremumSpace.deltaToValueSpace(x),_=t.isScalar?h.value:0,O=t.isScalar?b.value:1,j=S/(O-_);if(l.which==="left"){let z=xt(h.handles[2]+y,0,1),K=h.handles[3]+j;a=de().tempTransaction(({stateEditors:M})=>{M.coreByProject.historic.sheetsById.sequence.replaceKeyframes(he(L({},l.sheetObject.address),{snappingFunction:(0,Nc.val)(l.layoutP.sheet).getSequence().closestGridPosition,trackId:l.trackId,keyframes:[he(L({},h),{handles:[h.handles[0],h.handles[1],z,K]})]}))})}else{let z=xt(b.handles[0]+y,0,1),K=b.handles[1]+j;a=de().tempTransaction(({stateEditors:M})=>{M.coreByProject.historic.sheetsById.sequence.replaceKeyframes(he(L({},l.sheetObject.address),{trackId:l.trackId,snappingFunction:(0,Nc.val)(l.layoutP.sheet).getSequence().closestGridPosition,keyframes:[he(L({},b),{handles:[z,K,b.handles[2],b.handles[3]]})]}))})}},onDragEnd(f){d(),f?a&&a.commit():a&&a.discard()}}}}),[]);St(e,o)}function nne(e,t){return bn(e,{menuItems:()=>[{label:"Delete",callback:()=>{de().transaction(({stateEditors:n})=>{n.coreByProject.historic.sheetsById.sequence.deleteKeyframes(he(L({},t.sheetObject.address),{keyframeIds:[t.keyframe.id],trackId:t.trackId}))})}}]})}var Nc,Ma,LM,ik,XM,ZM,GM,YM,QM,ak,rne=P(()=>{Me(),kn(),At(),nt(),Nc=je,Rt(),Ma=$(G()),be(),ok(),rt(),ik=U.circle(LM||(LM=F([`
  stroke-width: 1px;
  vector-effect: non-scaling-stroke;
  fill: var(--main-color);
  r: 2px;
  pointer-events: none;
`]))),ZM=U.circle(XM||(XM=F([`
  stroke-width: 6px;
  vector-effect: non-scaling-stroke;
  r: 6px;
  fill: transparent;
  cursor: move;
  `,`;
  &:hover {
  }
  &:hover + `,` {
    r: 6px;
  }
`])),tt,ik),YM=U.path(GM||(GM=F([`
  stroke-width: 1;
  stroke: var(--main-color);
  /* stroke: gray; */
  fill: none;
  vector-effect: non-scaling-stroke;
`]))),QM=e=>{let[t,n]=Qe(null),{index:o,trackData:a}=e,l=a.keyframes[o],s=a.keyframes[o+1],[u]=nne(n,e);tne(n,e);let d=e.which==="left"?l.handles[2]:s.handles[0],f=l.position+(s.position-l.position)*d,m=e.which==="left"?l.handles[3]:s.handles[1],v=e.isScalar?l.value:0,g=e.isScalar?s.value:1,h=v+(g-v)*m,b=e.extremumSpace.fromValueSpace(h),y=b-e.extremumSpace.fromValueSpace(e.which==="left"?v:g),k=rk(e.which==="left"?l.position:s.position,e.extremumSpace.fromValueSpace(e.which==="left"?v:g),f-(e.which==="left"?l.position:s.position),y);return Ma.default.createElement("g",null,Ma.default.createElement(ZM,{ref:t,style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(f," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(b,") * 1px)")}}),Ma.default.createElement(ik,{style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(f," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(b,") * 1px)")}}),Ma.default.createElement(YM,{d:"M 0 0 L 1 1",style:{transform:k}}),u)},ak=QM});function one(e){let[t,n]=(0,Ci.useState)(!1);Fo(t,e.props.keyframe.position);let o=(0,Ci.useRef)(e.props);o.current=e.props;let a=(0,Ci.useMemo)(()=>({debugName:"GraphEditorDotScalar/useDragKeyframe",lockCSSCursorTo:"move",onDragStart(l){n(!0);let s=!!l.altKey,u=o.current,d=(0,Wh.val)(u.layoutP.scaledSpace.toUnitSpace),f=(0,Wh.val)(u.layoutP.graphEditorVerticalSpace.toExtremumSpace),m=u.extremumSpace.lock(),v;return{onDrag(g,h){let b=u.trackData.keyframes[u.index],y=d(g),k=-h,x=f(k),S=u.extremumSpace.deltaToValueSpace(x),_=[],O=he(L({},b),{position:b.position+y,value:b.value+S,handles:[...b.handles]});if(_.push(O),s){let j=u.trackData.keyframes[u.index-1];if(j&&Math.abs(b.value-j.value)>0){let K=he(L({},j),{handles:[...j.handles]});_.push(K),K.handles[3]=ane(j.handles[3],j.value,j.value,b.value,O.value)}let z=u.trackData.keyframes[u.index+1];if(z&&Math.abs(b.value-z.value)>0){let K=he(L({},z),{handles:[...z.handles]});_.push(K),K.handles[1]=lne(K.handles[1],K.value,K.value,b.value,O.value)}}v==null||v.discard(),v=de().tempTransaction(({stateEditors:j})=>{j.coreByProject.historic.sheetsById.sequence.replaceKeyframes(he(L({},u.sheetObject.address),{trackId:u.trackId,keyframes:_,snappingFunction:(0,Wh.val)(u.layoutP.sheet).getSequence().closestGridPosition}))})},onDragEnd(g){n(!1),m(),g?v==null||v.commit():(v==null||v.discard(),e.onDetectedClick(l))}}}}),[]);return St(e.node,a),Yn(t,"draggingPositionInSequenceEditor","move"),t}function ine(e,t){return bn(e,{menuItems:()=>[{label:"Delete",callback:()=>{de().transaction(({stateEditors:n})=>{n.coreByProject.historic.sheetsById.sequence.deleteKeyframes(he(L({},t.sheetObject.address),{keyframeIds:[t.keyframe.id],trackId:t.trackId}))})}}]})}function ane(e,t,n,o,a){return(o-t)*e/(a-n)}function lne(e,t,n,o,a){return((t-o)*e+o-t+n-a)/(n-a)}var Wh,Ci,JM,lk,eN,tN,nN,rN,sne=P(()=>{Me(),kn(),At(),nt(),Wh=je,Ci=$(G()),be(),Jt(),Jt(),rt(),Un(),Ir(),zh(),xa(),lk=U.circle(JM||(JM=F([`
  fill: var(--main-color);
  stroke-width: 1px;
  vector-effect: non-scaling-stroke;

  r: 2px;
`]))),tN=U.circle(eN||(eN=F([`
  stroke-width: 6px;
  vector-effect: non-scaling-stroke;
  r: 6px;
  fill: transparent;
  `,`;

  &:hover + `,` {
    r: 6px;
  }

  #pointer-root.normal & {
    cursor: move;
  }

  #pointer-root.draggingPositionInSequenceEditor & {
    pointer-events: auto;
    cursor: var(`,`);
  }

  &.beingDragged {
    pointer-events: none !important;
  }
`])),tt,lk,jo),nN=e=>{let[t,n]=Qe(null),{index:o,trackData:a}=e,l=a.keyframes[o],[s]=ine(n,e),u=wa(e.itemKey),d=l.value,f=e.extremumSpace.fromValueSpace(d),m=Oh([{type:"primitiveProp",keyframe:e.keyframe,pathToProp:e.pathToProp,propConfig:e.propConfig,sheetObject:e.sheetObject,trackId:e.trackId}]),v=one({node:n,props:e,onDetectedClick:g=>m.toggle(g,g.target instanceof Element?g.target:n)});return Ci.default.createElement(Ci.default.Fragment,null,Ci.default.createElement(tN,he(L(L(L({ref:t,style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(l.position," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(f,") * 1px)")}},oo(l.position)),wn.includePositionSnapAttrs(l.position)),u.attrs),{className:v?"beingDragged":""})),Ci.default.createElement(lk,{style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(l.position," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(f,") * 1px)"),fill:u.flag===2?"white":void 0}}),m.node,s)},rN=nN});function une(e){let[t,n]=(0,Ii.useState)(!1);Fo(t,e.props.keyframe.position);let o=(0,Ii.useRef)(e.props);o.current=e.props;let a=(0,Ii.useMemo)(()=>({debugName:"GraphEditorDotNonScalar/useDragKeyframe",lockCSSCursorTo:"ew-resize",onDragStart(l){n(!0);let s=o.current,u=(0,sk.val)(s.layoutP.scaledSpace.toUnitSpace),d=s.extremumSpace.lock(),f;return{onDrag(m,v){let g=s.trackData.keyframes[s.index],h=u(m),b=[],y=he(L({},g),{position:g.position+h,value:g.value,handles:[...g.handles]});b.push(y),f==null||f.discard(),f=de().tempTransaction(({stateEditors:k})=>{k.coreByProject.historic.sheetsById.sequence.replaceKeyframes(he(L({},s.sheetObject.address),{trackId:s.trackId,keyframes:b,snappingFunction:(0,sk.val)(s.layoutP.sheet).getSequence().closestGridPosition}))})},onDragEnd(m){n(!1),d(),m?f==null||f.commit():(f==null||f.discard(),e.onDetectedClick(l))}}}}),[]);return St(e.node,a),Yn(t,"draggingPositionInSequenceEditor","ew-resize"),t}function cne(e,t){return bn(e,{menuItems:()=>[{label:"Delete",callback:()=>{de().transaction(({stateEditors:n})=>{n.coreByProject.historic.sheetsById.sequence.deleteKeyframes(he(L({},t.sheetObject.address),{keyframeIds:[t.keyframe.id],trackId:t.trackId}))})}}]})}var sk,Ii,oN,uk,iN,aN,lN,ck,dne=P(()=>{Me(),kn(),At(),nt(),sk=je,Ii=$(G()),be(),Jt(),Jt(),rt(),Un(),Ir(),zh(),xa(),uk=U.circle(oN||(oN=F([`
  fill: var(--main-color);
  stroke-width: 1px;
  vector-effect: non-scaling-stroke;

  r: 2px;
`]))),aN=U.circle(iN||(iN=F([`
  stroke-width: 6px;
  vector-effect: non-scaling-stroke;
  r: 6px;
  fill: transparent;
  `,`;

  &:hover + `,` {
    r: 6px;
  }

  #pointer-root.normal & {
    cursor: ew-resize;
  }

  #pointer-root.draggingPositionInSequenceEditor & {
    pointer-events: auto;
    cursor: var(`,`);
  }

  &.beingDragged {
    pointer-events: none !important;
  }
`])),tt,uk,jo),lN=e=>{let[t,n]=Qe(null),{index:o,trackData:a,itemKey:l}=e,s=a.keyframes[o],[u]=cne(n,e),d=wa(l),f=e.which==="left"?0:1,m=Oh([{type:"primitiveProp",keyframe:e.keyframe,pathToProp:e.pathToProp,propConfig:e.propConfig,sheetObject:e.sheetObject,trackId:e.trackId}]),v=une({node:n,props:e,onDetectedClick:h=>m.toggle(h,h.target instanceof Element?h.target:n)}),g=e.extremumSpace.fromValueSpace(f);return Ii.default.createElement(Ii.default.Fragment,null,Ii.default.createElement(aN,he(L(L(L({ref:t,style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(s.position," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(g,") * 1px)")}},d.attrs),oo(s.position)),wn.includePositionSnapAttrs(s.position)),{className:v?"beingDragged":""})),Ii.default.createElement(uk,{style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(s.position," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(g,") * 1px)"),fill:d.flag===2?"white":void 0}}),m.node,u)},ck=lN}),Hh,sN,uN,cN,dN,fne=P(()=>{Hh=$(G()),be(),ok(),uN=U.path(sN||(sN=F([`
  stroke-width: 2;
  stroke: var(--main-color);
  stroke-dasharray: 3 2;
  fill: none;
  vector-effect: non-scaling-stroke;
  opacity: 0.3;
`]))),cN=e=>{let{index:t,trackData:n}=e,o="M 0 0 L 1 1",a=rk(n.keyframes[t].position,e.extremumSpace.fromValueSpace(0),0,e.extremumSpace.fromValueSpace(1)-e.extremumSpace.fromValueSpace(0));return Hh.default.createElement(Hh.default.Fragment,null,Hh.default.createElement(uN,{d:o,style:{transform:a}}))},dN=cN}),tn,fN,pN,hN,mN,gN,pne=P(()=>{tn=$(G()),be(),ok(),rne(),sne(),dne(),fne(),pN=U.g(fN||(fN=F([`
  /* position: absolute; */
`]))),hN=tn.default.createElement(tn.default.Fragment,null),mN=e=>{let{index:t,trackData:n,isScalar:o}=e,a=n.keyframes[t],l=n.keyframes[t+1],s=a.connectedRight&&!!l&&l.value!==a.value;return tn.default.createElement(pN,null,s?tn.default.createElement(tn.default.Fragment,null,tn.default.createElement($M,L({},e)),!a.type||a.type==="bezier"&&tn.default.createElement(tn.default.Fragment,null,tn.default.createElement(ak,he(L({},e),{which:"left"})),tn.default.createElement(ak,he(L({},e),{which:"right"})))):hN,o?tn.default.createElement(rN,L({},e)):tn.default.createElement(tn.default.Fragment,null,tn.default.createElement(ck,he(L({},e),{which:"left"})),tn.default.createElement(ck,he(L({},e),{which:"right"})),tn.default.createElement(dN,L({},e))))},gN=mN});function hne(e,t){let n=1/0,o=-1/0;function a(l){n=Math.min(l,n),o=Math.max(l,o)}return e.forEach((l,s)=>{let u=Ep(l.value,t);if(a(u),!l.connectedRight)return;let d=e[s+1];if(!d)return;let f=(typeof d.value=="number"?d.value:1)-u;a(u+l.handles[3]*f),a(u+d.handles[1]*f)}),[n,o]}function mne(e){let t=0,n=1;function o(a){t=Math.min(a,t),n=Math.max(a,n)}return e.forEach((a,l)=>{if(!a.connectedRight)return;let s=e[l+1];s&&(o(a.handles[3]),o(s.handles[1]))}),[t,n]}var ao,vN,yN,gne=P(()=>{Ao(),ao=$(G()),$h(),pne(),mi(),Fe(),vN=ao.default.memo(({layoutP:e,trackData:t,sheetObject:n,trackId:o,color:a,pathToProp:l})=>{let s=Sp(Ye(n.template.configPointer),l);if(eo(s))return console.error("Composite prop types cannot be keyframed"),ao.default.createElement(ao.default.Fragment,null);let[u,d]=(0,ao.useState)(!1),f=(0,ao.useMemo)(()=>{let h=new Set;return function(){let b=h.size===0;h.add(y),b&&d(!0);function y(){let k=h.size>0;h.delete(y),k&&h.size===0&&d(!1)}return y}},[]),m=(0,ao.useMemo)(()=>{let h=s.type==="number"?hne(t.keyframes,s):mne(t.keyframes),b=x=>(x-h[0])/(h[1]-h[0]),y=x=>h[0]+k(x),k=x=>x*(h[1]-h[0]);return{fromValueSpace:b,toValueSpace:y,deltaToValueSpace:k,lock:f}},[t.keyframes]),v=(0,ao.useRef)(void 0);u||(v.current=m);let g=t.keyframes.map((h,b)=>ao.default.createElement(gN,{pathToProp:l,propConfig:s,itemKey:Ut.forTrackKeyframe(n,o,h.id),keyframe:h,index:b,trackData:t,layoutP:e,sheetObject:n,trackId:o,isScalar:s.type==="number",key:h.id,extremumSpace:v.current,color:a}));return ao.default.createElement("g",{style:{"--main-color":Fc[a].iconColor}},g)}),yN=vN}),bN,qh,kN,wN,vne=P(()=>{Me(),Fe(),bN=je,qh=$(G()),gne(),kN=e=>Ge(()=>{let{sheetObject:t,trackId:n}=e,o=(0,bN.val)(de().atomP.historic.coreByProject[t.address.projectId].sheetsById[t.address.sheetId].sequence.tracksByObject[t.address.objectKey].trackData[n]);return(o==null?void 0:o.type)!=="BasicKeyframedTrack"?(console.error("trackData type ".concat(o==null?void 0:o.type," is not yet supported on the graph editor")),qh.default.createElement(qh.default.Fragment,null)):qh.default.createElement(yN,he(L({},e),{trackData:o}))},[e.trackId,e.layoutP]),wN=kN});function xN({clippedSpaceRange:e,clippedSpaceWidth:t,fps:n,gapWidth:o=120},a){let l=1/n,s=e.end-e.start,u=t/(n*s),d=Math.floor(o/u),f=(d<n?SN(n).find(g=>g>=d):n*Math.floor(d/n))*l,m=Math.floor(e.start/f),v=Math.ceil(e.end/f);for(let g=m;g<=v;g++){let h=g*f,b=h%1===0;a(h,b)}}var SN,EN=P(()=>{Rt(),SN=Pg(e=>{let t=[];for(let n=1;n<=e;n++)e%n===0&&t.push(n);return t})});function yne(e){let{clippedSpaceWidth:t,height:n,ctx:o,unitSpaceToClippedSpace:a,snapToGrid:l}=e;o.clearRect(0,0,t,n),xN(e,(s,u)=>{let d=l(s),f=Math.floor(a(d));o.strokeStyle=u?"rgba(225, 225, 225, 0.04)":"rgba(255, 255, 255, 0.01)",o.beginPath(),o.moveTo(f,0),o.lineTo(f,n),o.stroke(),o.closePath()})}var Na,Fa,_N,PN,CN,IN,jN,ON,TN,zN,dk,DN=P(()=>{Na=je,Fa=$(G()),be(),EN(),Me(),PN=U.div(_N||(_N=F([`
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  pointer-events: none;
`]))),IN=U.canvas(CN||(CN=F([`
  position: relative;
  left: 0;
`]))),jN=e=>{let t=e;return t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1},ON=()=>window.devicePixelRatio||1,TN=e=>ON()/jN(e),zN=({layoutP:e,width:t,height:n})=>{let o=(0,Fa.useRef)(null),[a,l]=(0,Fa.useState)(null),{ctx:s,ratio:u}=(0,Fa.useMemo)(()=>{if(!a)return{};let d=a.getContext("2d"),f=TN(d);return{ctx:d,ratio:f}},[a]);return(0,Fa.useLayoutEffect)(()=>{if(!s)return;a.width=t*u,a.height=n*u;let d=(0,Na.prism)(()=>{let f=(0,Na.val)(e.sheet).getSequence();return{ctx:s,clippedSpaceRange:(0,Na.val)(e.clippedSpace.range),clippedSpaceWidth:(0,Na.val)(e.clippedSpace.width),unitSpaceToClippedSpace:(0,Na.val)(e.clippedSpace.fromUnitSpace),height:n,leftPadding:(0,Na.val)(e.scaledSpace.leftPadding),fps:f.subUnitsPerUnit,snapToGrid:m=>f.closestGridPosition(m)}}).onChange(de().ticker,f=>{s.save(),s.scale(u,u),yne(f),s.restore()},!0);return()=>{d()}},[s,t,n,e]),Fa.default.createElement(PN,{ref:o,style:{width:t+"px"}},Fa.default.createElement(IN,{ref:l,style:{width:t+"px",height:n+"px"}}))},dk=zN}),lo,Ra,Fc,AN,BN,MN,NN,FN,RN,$h=P(()=>{Me(),ro(),Ip(),Fe(),lo=je,Ra=$(G()),be(),VM(),IB(),vne(),DN(),Rn(),Fc={1:{iconColor:"#b98b08"},2:{iconColor:"#70a904"},3:{iconColor:"#2e928a"},4:{iconColor:"#a943bb"},5:{iconColor:"#b90808"},6:{iconColor:"#b4bf0e"}},BN=U.div(AN||(AN=F([`
  position: absolute;
  right: 0;
  bottom: 0;
  background: `,`;
`])),kr(.03,"#1a1c1e")),NN=U.svg(MN||(MN=F([`
  position: absolute;
  top: 0;
  left: 0;
  margin: 0;
  pointer-events: none;
`]))),FN=({layoutP:e})=>Ge(()=>{let t=(0,lo.val)(e.sheet),n=(0,lo.val)(de().atomP.historic.projects.stateByProjectId[t.address.projectId].stateBySheetId[t.address.sheetId].sequenceEditor.selectedPropsByObject),o=(0,lo.val)(e.graphEditorDims.height),a=(0,lo.val)(e.scaledSpace.fromUnitSpace)(1),l=[];if(n)for(let[u,d]of Object.entries(n)){let f=t.getObject(u);if(!f)continue;let m=(0,lo.val)(f.template.getMapOfValidSequenceTracks_forStudio());for(let[v,g]of Object.entries(d)){let h=ah(v),b=vi(m,h);b&&l.push(Ra.default.createElement(wN,{key:"graph-".concat(u,"-").concat(v),sheetObject:f,pathToProp:h,layoutP:e,trackId:b,color:g}))}}let s=(0,lo.val)(e.rightDims.width);return Ra.default.createElement(BN,{style:{width:s+"px",height:o+"px","--unitSpaceToScaledSpaceMultiplier":a,"--graphEditorVerticalSpace":"".concat((0,lo.val)(e.graphEditorVerticalSpace.space))}},Ra.default.createElement(dk,{layoutP:e,width:s,height:o}),Ra.default.createElement(yb,{layoutP:e,height:o},Ra.default.createElement(NN,{width:Vh,height:o,viewBox:"0 0 ".concat(Vh," ").concat(o)},Ra.default.createElement("g",{style:{transform:"translate(".concat((0,lo.val)(e.scaledSpace.leftPadding),"px, ").concat((0,lo.val)(e.graphEditorDims.padding.top),"px)")}},l))))},[e]),RN=FN}),UN,rr,VN,KN,WN,HN,fk,qN,$N,LN,XN,ZN,GN,YN,bne=P(()=>{Me(),ro(),jp(),Fe(),UN=je,rr=$(G()),be(),x1(),Dp(),$h(),oh(),ka(),CA(),VN={label:{color:"#9a9a9a"}},WN=U(nb)(KN||(KN=F([""]))),fk=U(rb)(HN||(HN=F([`
  display: flex;
  color: `,`;
  padding-right: 12px;
  align-items: center;
  justify-content: flex-end;
  box-sizing: border-box;
`])),VN.label.color),$N=U.button(qN||(qN=F([`
  background: none;
  border: none;
  outline: none;
  display: flex;
  box-sizing: border-box;
  font-size: 14px;
  align-items: center;
  height: 100%;
  margin-left: 12px;
  color: `,`;

  &:not([disabled]):hover {
    color: white;
  }
`])),e=>e.isSelected?Fc[e.graphEditorColor].iconColor:yi.offColor),LN=()=>rr.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"12",viewBox:"0 0 640 512"},rr.default.createElement("g",{transform:"translate(0 100)"},rr.default.createElement("path",{fill:"currentColor",d:"M368 32h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zM208 88h-84.75C113.75 64.56 90.84 48 64 48 28.66 48 0 76.65 0 112s28.66 64 64 64c26.84 0 49.75-16.56 59.25-40h79.73c-55.37 32.52-95.86 87.32-109.54 152h49.4c11.3-41.61 36.77-77.21 71.04-101.56-3.7-8.08-5.88-16.99-5.88-26.44V88zm-48 232H64c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32zM576 48c-26.84 0-49.75 16.56-59.25 40H432v72c0 9.45-2.19 18.36-5.88 26.44 34.27 24.35 59.74 59.95 71.04 101.56h49.4c-13.68-64.68-54.17-119.48-109.54-152h79.73c9.5 23.44 32.41 40 59.25 40 35.34 0 64-28.65 64-64s-28.66-64-64-64zm0 272h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32z"}))),ZN=U.span(XN||(XN=F([`
  margin-right: 4px;
  `,`;

  `,`:hover & {
    color: #ccc;
  }
`])),gi,fk),GN=({leaf:e})=>{var t;let n=Qu(e.sheetObject.propsP,e.pathToProp),o=e.sheetObject,{controlIndicators:a}=w1(n,o,e.propConf),l=Ge(()=>{let g=e.sheetObject.address,h=no(e.pathToProp);return(0,UN.val)(de().atomP.historic.projects.stateByProjectId[g.projectId].stateBySheetId[g.sheetId].sequenceEditor.selectedPropsByObject[g.objectKey][h])},[e]),s=(0,rr.useRef)(!1),u=typeof l=="string";s.current=u;let d=(0,rr.useCallback)(()=>{let g=e.sheetObject.address;de().transaction(({stateEditors:h})=>{s.current?h.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.removePropFromGraphEditor(he(L({},g),{pathToProp:e.pathToProp})):(h.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.addPropToGraphEditor(he(L({},g),{pathToProp:e.pathToProp})),h.studio.historic.panels.sequenceEditor.graphEditor.setIsOpen({isOpen:!0}))})},[e]),f=(t=e.propConf.label)!=null?t:e.pathToProp[e.pathToProp.length-1],m=!0,v=(0,rr.useRef)(null);return _A(v.current,e),rr.default.createElement(WN,{depth:e.depth},rr.default.createElement(fk,{ref:v,isEven:e.n%2===0,style:{height:e.nodeHeight+"px"},isSelected:u===!0},rr.default.createElement(ZN,null,f),a,rr.default.createElement($N,{onClick:d,isSelected:u===!0,graphEditorColor:l??"1",style:{opacity:1},disabled:!m},rr.default.createElement(LN,null))))},YN=GN});function pk(e,t){de().transaction(({stateEditors:n})=>{n.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.sequenceEditorCollapsableItems.set(he(L({},t.sheetAddress),{studioSheetItemKey:t.sheetItemKey,isCollapsed:e}))})}var hk=P(()=>{Me()}),gs,mk,QN,kne=P(()=>{gs=$(G()),oh(),bne(),hk(),mk=e=>{let t="prop"+e.pathToProp[e.pathToProp.length-1];return e.shouldRender?e.type==="propWithChildren"?gs.default.createElement(QN,{leaf:e,key:t}):gs.default.createElement(YN,{leaf:e,key:t}):gs.default.createElement(gs.default.Fragment,{key:t})},QN=({leaf:e})=>gs.default.createElement(rh,{leaf:e,label:e.pathToProp[e.pathToProp.length-1],isCollapsed:e.isCollapsed,toggleCollapsed:()=>pk(!e.isCollapsed,{sheetAddress:e.sheetObject.address,sheetItemKey:e.sheetItemKey})},e.children.map(t=>mk(t)))}),JN,eF,tF,wne=P(()=>{JN=$(G()),oh(),kne(),hk(),Me(),eF=({leaf:e})=>JN.default.createElement(rh,{leaf:e,label:e.sheetObject.address.objectKey,isCollapsed:e.isCollapsed,toggleSelect:()=>{de().transaction(({stateEditors:t})=>{t.studio.historic.panels.outline.selection.set([e.sheetObject])})},toggleCollapsed:()=>pk(!e.isCollapsed,{sheetAddress:e.sheetObject.address,sheetItemKey:e.sheetItemKey})},e.children.map(t=>mk(t))),tF=eF}),gk,nF,rF,xne=P(()=>{Fe(),gk=$(G()),wne(),oh(),hk(),pT(),nF=({leaf:e})=>Ge(()=>gk.default.createElement(rh,{leaf:e,label:e.sheet.address.sheetId,isCollapsed:e.isCollapsed,toggleCollapsed:()=>{pk(!e.isCollapsed,{sheetAddress:e.sheet.address,sheetItemKey:e.sheetItemKey})}},e.children.map(t=>gk.default.createElement(tF,{key:"sheetObject-"+dT(t.sheetObject),leaf:t}))),[e]),rF=nF}),vk,Lh,oF,iF,aF,lF,sF,uF,Sne=P(()=>{Fe(),vk=je,Lh=$(G()),be(),xne(),iF=U.div(oF||(oF=F([`
  position: absolute;
  left: 0;
  overflow-x: visible;
`]))),lF=U.ul(aF||(aF=F([`
  margin: 0;
  padding: 0;
  list-style: none;
`]))),sF=({layoutP:e})=>Ge(()=>{let t=(0,vk.val)(e.tree),n=(0,vk.val)(e.leftDims.width);return Lh.default.createElement(iF,{style:{width:n+"px",top:t.top+"px"}},Lh.default.createElement(lF,null,Lh.default.createElement(rF,{leaf:t})))},[e]),uF=sF}),yk,cF,dF,fF,pF,Ene=P(()=>{rt(),Ho(),Fe(),Rn(),yk=$(G()),be(),DN(),dF=U.div(cF||(cF=F([`
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  z-index: `,`;
  overflow: hidden;
  background: `,`;
  pointer-events: none;
`])),()=>ho.rightBackground,kr(.01,Pu(1*.03,Rl.panel.bg))),fF=({layoutP:e})=>{let t=Ye(e.rightDims.width),n=Ye(e.panelDims.height);return yk.default.createElement(dF,{style:{width:t+"px"}},yk.default.createElement(dk,{width:t,height:n,layoutP:e}))},pF=fF}),vs,hF,mF,gF,vF,_ne=P(()=>{Fe(),vs=$(G()),be(),Sne(),Ene(),VM(),nB(),mF=U.div(hF||(hF=F([`
  position: absolute;
  left: 0;
  right: 0;
`]))),gF=({layoutP:e})=>{let t=Ye(e.dopeSheetDims.height);return vs.default.createElement(mF,{style:{height:t+"px"}},vs.default.createElement(pF,{layoutP:e}),vs.default.createElement(tB,null,vs.default.createElement(uF,{layoutP:e}),vs.default.createElement(UM,{layoutP:e})))},vF=gF});function Pne(e,t,n){return bk.prism.memo(e,()=>(0,bk.prism)(t),n).getValue()}var bk,Cne=P(()=>{bk=je});function pt(e){return function(t,n){return e(t,n())}}function Kn(e){return Object.freeze({audience:Ua(e,8)?"internal":Ua(e,16)?"dev":"public",category:Ua(e,4)?"troubleshooting":Ua(e,2)?"todo":"general",level:Ua(e,512)?512:Ua(e,256)?256:Ua(e,128)?128:64})}function Ua(e,t){return(e&t)===t}function ht(e,t){return((t&32)===32?!0:(t&16)===16?e.dev:(t&8)===8?e.internal:!1)&&e.min<=t}function yF(e=console,t={}){let n=he(L({},so),{includes:L({},so.includes)}),o={styled:One.bind(n,e),noStyle:zne.bind(n,e)},a=jne.bind(n);function l(){return n.loggingConsoleStyle&&n.loggerConsoleStyle?o.styled:o.noStyle}return n.create=l(),{configureLogger(s){var u;s==="console"?(n.loggerConsoleStyle=so.loggerConsoleStyle,n.create=l()):s.type==="console"?(n.loggerConsoleStyle=(u=s.style)!=null?u:so.loggerConsoleStyle,n.create=l()):s.type==="keyed"?(n.creatExt=d=>s.keyed(d.names),n.create=a):s.type==="named"&&(n.creatExt=Ine.bind(null,s.named),n.create=a)},configureLogging(s){var u,d,f,m,v;n.includes.dev=(u=s.dev)!=null?u:so.includes.dev,n.includes.internal=(d=s.internal)!=null?d:so.includes.internal,n.includes.min=(f=s.min)!=null?f:so.includes.min,n.include=(m=s.include)!=null?m:so.include,n.loggingConsoleStyle=(v=s.consoleStyle)!=null?v:so.loggingConsoleStyle,n.create=l()},getLogger(){return n.create({names:[]})}}}function Ine(e,t){let n=[];for(let{name:o,key:a}of t.names)n.push(a==null?o:"".concat(o," (").concat(a,")"));return e(n)}function jne(e){let t=L(L({},this.includes),this.include(e)),n=this.filtered,o=this.named.bind(this,e),a=this.creatExt(e),l=ht(t,524),s=ht(t,522),u=ht(t,521),d=ht(t,529),f=ht(t,545),m=ht(t,265),v=ht(t,268),g=ht(t,273),h=ht(t,289),b=ht(t,137),y=ht(t,145),k=ht(t,73),x=ht(t,81),S=l?a.error.bind(a,jn._hmm):n.bind(e,524),_=s?a.error.bind(a,jn._todo):n.bind(e,522),O=u?a.error.bind(a,jn._error):n.bind(e,521),j=d?a.error.bind(a,jn.errorDev):n.bind(e,529),z=f?a.error.bind(a,jn.errorPublic):n.bind(e,545),K=v?a.warn.bind(a,jn._kapow):n.bind(e,268),M=m?a.warn.bind(a,jn._warn):n.bind(e,265),N=g?a.warn.bind(a,jn.warnDev):n.bind(e,273),Z=h?a.warn.bind(a,jn.warnPublic):n.bind(e,273),le=b?a.debug.bind(a,jn._debug):n.bind(e,137),D=y?a.debug.bind(a,jn.debugDev):n.bind(e,145),X=k?a.trace.bind(a,jn._trace):n.bind(e,73),C=x?a.trace.bind(a,jn.traceDev):n.bind(e,81),Q={_hmm:S,_todo:_,_error:O,errorDev:j,errorPublic:z,_kapow:K,_warn:M,warnDev:N,warnPublic:Z,_debug:le,debugDev:D,_trace:X,traceDev:C,lazy:{_hmm:l?pt(S):S,_todo:s?pt(_):_,_error:u?pt(O):O,errorDev:d?pt(j):j,errorPublic:f?pt(z):z,_kapow:v?pt(K):K,_warn:m?pt(M):M,warnDev:g?pt(N):N,warnPublic:h?pt(Z):Z,_debug:b?pt(le):le,debugDev:y?pt(D):D,_trace:k?pt(X):X,traceDev:x?pt(C):C},named:o,utilFor:{internal(){return{debug:Q._debug,error:Q._error,warn:Q._warn,trace:Q._trace,named(xe,H){return Q.named(xe,H).utilFor.internal()}}},dev(){return{debug:Q.debugDev,error:Q.errorDev,warn:Q.warnDev,trace:Q.traceDev,named(xe,H){return Q.named(xe,H).utilFor.dev()}}},public(){return{error:Q.errorPublic,warn:Q.warnPublic,debug(xe,H){Q._warn('(public "debug" filtered out) '.concat(xe),H)},trace(xe,H){Q._warn('(public "trace" filtered out) '.concat(xe),H)},named(xe,H){return Q.named(xe,H).utilFor.public()}}}}};return Q}function One(e,t){let n=L(L({},this.includes),this.include(t)),o=[],a="";for(let d=0;d<t.names.length;d++){let{name:f,key:m}=t.names[d];if(a+=" %c".concat(f),o.push(this.style.css(f)),m!=null){let v="%c#".concat(m);a+=v,o.push(this.style.css(v))}}let l=this.filtered,s=this.named.bind(this,t),u=[a,...o];return bF(l,t,n,e,u,Tne(u),s)}function Tne(e){let t=e.slice(0);for(let n=1;n<t.length;n++)t[n]+=";background-color:#e0005a;padding:2px;color:white";return t}function zne(e,t){let n=L(L({},this.includes),this.include(t)),o="";for(let u=0;u<t.names.length;u++){let{name:d,key:f}=t.names[u];o+=" ".concat(d),f!=null&&(o+="#".concat(f))}let a=this.filtered,l=this.named.bind(this,t),s=[o];return bF(a,t,n,e,s,s,l)}function bF(e,t,n,o,a,l,s){let u=ht(n,524),d=ht(n,522),f=ht(n,521),m=ht(n,529),v=ht(n,545),g=ht(n,265),h=ht(n,268),b=ht(n,273),y=ht(n,289),k=ht(n,137),x=ht(n,145),S=ht(n,73),_=ht(n,81),O=u?o.error.bind(o,...a):e.bind(t,524),j=d?o.error.bind(o,...a):e.bind(t,522),z=f?o.error.bind(o,...a):e.bind(t,521),K=m?o.error.bind(o,...a):e.bind(t,529),M=v?o.error.bind(o,...a):e.bind(t,545),N=h?o.warn.bind(o,...l):e.bind(t,268),Z=g?o.warn.bind(o,...a):e.bind(t,265),le=b?o.warn.bind(o,...a):e.bind(t,273),D=y?o.warn.bind(o,...a):e.bind(t,273),X=k?o.info.bind(o,...a):e.bind(t,137),C=x?o.info.bind(o,...a):e.bind(t,145),Q=S?o.debug.bind(o,...a):e.bind(t,73),xe=_?o.debug.bind(o,...a):e.bind(t,81),H={_hmm:O,_todo:j,_error:z,errorDev:K,errorPublic:M,_kapow:N,_warn:Z,warnDev:le,warnPublic:D,_debug:X,debugDev:C,_trace:Q,traceDev:xe,lazy:{_hmm:u?pt(O):O,_todo:d?pt(j):j,_error:f?pt(z):z,errorDev:m?pt(K):K,errorPublic:v?pt(M):M,_kapow:h?pt(N):N,_warn:g?pt(Z):Z,warnDev:b?pt(le):le,warnPublic:y?pt(D):D,_debug:k?pt(X):X,debugDev:x?pt(C):C,_trace:S?pt(Q):Q,traceDev:_?pt(xe):xe},named:s,utilFor:{internal(){return{debug:H._debug,error:H._error,warn:H._warn,trace:H._trace,named(q,ee){return H.named(q,ee).utilFor.internal()}}},dev(){return{debug:H.debugDev,error:H.errorDev,warn:H.warnDev,trace:H.traceDev,named(q,ee){return H.named(q,ee).utilFor.dev()}}},public(){return{error:H.errorPublic,warn:H.warnPublic,debug(q,ee){H._warn('(public "debug" filtered out) '.concat(q),ee)},trace(q,ee){H._warn('(public "trace" filtered out) '.concat(q),ee)},named(q,ee){return H.named(q,ee).utilFor.public()}}}}};return H}var jn,so,kF=P(()=>{jn={_hmm:Kn(524),_todo:Kn(522),_error:Kn(521),errorDev:Kn(529),errorPublic:Kn(545),_kapow:Kn(268),_warn:Kn(265),warnDev:Kn(273),warnPublic:Kn(289),_debug:Kn(137),debugDev:Kn(145),_trace:Kn(73),traceDev:Kn(81)},so={loggingConsoleStyle:!0,loggerConsoleStyle:!0,includes:Object.freeze({internal:!1,dev:!1,min:256}),filtered:function(){},include:function(){return{}},create:null,creatExt:null,named(e,t,n){return this.create({names:[...e.names,{name:t,key:n}]})},style:{bold:void 0,italic:void 0,cssMemo:new Map([["",""]]),collapseOnRE:/[a-z- ]+/g,color:void 0,collapsed(e){if(e.length<5)return e;let t=e.replace(this.collapseOnRE,"");return this.cssMemo.has(t)||this.cssMemo.set(t,this.css(e)),t},css(e){var t,n,o,a;let l=this.cssMemo.get(e);if(l)return l;let s="color:".concat((n=(t=this.color)==null?void 0:t.call(this,e))!=null?n:"hsl(".concat((e.charCodeAt(0)+e.charCodeAt(e.length-1))%360,", 100%, 60%)"));return(o=this.bold)!=null&&o.test(e)&&(s+=";font-weight:600"),(a=this.italic)!=null&&a.test(e)&&(s+=";font-style:italic"),this.cssMemo.set(e,s),s}}}}),kk,Xh,Zh=P(()=>{kF(),kF(),kk=yF(console,{_debug:function(){},_error:function(){}}),kk.configureLogging({dev:!0,min:64}),Xh=kk.getLogger().named("Theatre.js (default logger)").utilFor.dev()}),ji,Va,wF,Dne=P(()=>{Ao(),ji=je,Zh(),Co(),Va=28,wF=(e,t)=>{var n;ji.prism.ensurePrism();let o=!0,a=Zf+Va,l=0,s=t.atomP.ahistoric.projects.stateByProjectId[e.address.projectId].stateBySheetId[e.address.sheetId].sequence.collapsableItems,u=s.byId[Ut.forSheet()].isCollapsed,d=(n=(0,ji.pointerToPrism)(u).getValue())!=null?n:!1,f={type:"sheet",isCollapsed:d,sheet:e,children:[],sheetItemKey:Ut.forSheet(),shouldRender:o,top:Zf,depth:0,n:l,nodeHeight:o?Va:0,heightIncludingChildren:-1};l+=1;for(let y of Object.values((0,ji.val)(e.objectsP)))y&&m(y,f.children,f.depth+1,!d);f.heightIncludingChildren=a-f.top;function m(y,k,x,S){var _;let O=(0,ji.val)(y.template.getMapOfValidSequenceTracks_forStudio()),j=(0,ji.val)(y.template.configPointer);if(Object.keys(O).length===0)return;let z=s.byId[Ut.forSheetObject(y)].isCollapsed,K=(_=(0,ji.pointerToPrism)(z).getValue())!=null?_:!1,M={type:"sheetObject",isCollapsed:K,sheetItemKey:Ut.forSheetObject(y),shouldRender:S,top:a,children:[],depth:x,n:l,sheetObject:y,nodeHeight:S?Va:0,heightIncludingChildren:-1};k.push(M),S&&(l+=1,a+=M.nodeHeight),v(y,O,[],j,M.children,x+1,S&&!K),M.heightIncludingChildren=a-M.top}function v(y,k,x,S,_,O,j){for(let[z,K]of Object.entries(k)){let M=S.props[z];g(y,K,[...x,z],M,_,O,j)}}function g(y,k,x,S,_,O,j){S.type==="compound"?h(y,k,S,x,S,_,O,j):S.type==="enum"?Xh.warn("Prop type enum is not yet supported in the sequence editor"):b(y,k,x,S,_,O,j)}function h(y,k,x,S,_,O,j,z){var K;let M=s.byId[Ut.forSheetObjectProp(y,S)].isCollapsed,N=(K=(0,ji.pointerToPrism)(M).getValue())!=null?K:!1,Z={type:"propWithChildren",isCollapsed:N,propConf:x,pathToProp:S,sheetItemKey:Ut.forSheetObjectProp(y,S),sheetObject:y,shouldRender:z,top:a,children:[],nodeHeight:z?Va:0,heightIncludingChildren:-1,depth:j,trackMapping:k,n:l};O.push(Z),z&&(a+=Z.nodeHeight,l+=1),v(y,k,S,_,Z.children,j+1,z&&!N),Z.heightIncludingChildren=a-Z.top}function b(y,k,x,S,_,O,j){let z={type:"primitiveProp",propConf:S,depth:O,sheetItemKey:Ut.forSheetObjectProp(y,x),sheetObject:y,pathToProp:x,shouldRender:j,top:a,nodeHeight:j?Va:0,heightIncludingChildren:j?Va:0,trackId:k,n:l};_.push(z),l+=1,a+=z.nodeHeight}return f}});function Ane(e,t){let n=de(),o=n.atomP.ahistoric.projects.stateByProjectId[e.address.projectId].stateBySheetId[e.address.sheetId],a=n.atomP.historic.projects.stateByProjectId[e.address.projectId].stateBySheetId[e.address.sheetId];return(0,On.prism)(()=>{var l;let s=Pne("tree",()=>wF(e,n),[]),u=(0,On.val)(t),d=(0,On.val)(n.atomP.historic.panels.sequenceEditor.graphEditor),f=(0,On.val)(a.sequenceEditor.selectedPropsByObject),m=!!f&&Object.keys(f).length>0,{leftDims:v,rightDims:g,graphEditorDims:h,dopeSheetDims:b,horizontalScrollbarDims:y}=On.prism.memo("leftDims",()=>{var Z;let le={width:Math.floor(u.width*xF),height:u.height,screenX:u.screenX,screenY:u.screenY},D={width:u.width-le.width,height:u.height,screenX:u.screenX+le.width,screenY:u.screenY},X=m&&(d==null?void 0:d.isOpen)===!0,C=Math.floor((X?xt((Z=d==null?void 0:d.height)!=null?Z:.5,.1,.7):0)*u.heightWithoutBorder),Q=0+C,xe=u.height-Q,H={width:u.width,height:xe,screenX:u.screenX,screenY:u.screenY},q={isAvailable:m,isOpen:X,width:D.width,height:C,screenX:u.screenX,screenY:u.screenY+xe,padding:{top:20,bottom:20}};return{leftDims:le,rightDims:D,graphEditorDims:q,dopeSheetDims:H,horizontalScrollbarDims:{bottom:0}}},[u,d,m]),k=On.prism.memo("graphEditorVerticalSpace",()=>{let Z=h.height-h.padding.top-h.padding.bottom;return{space:Z,fromExtremumSpace(le){return le*Z},toExtremumSpace(le){return le/Z}}},[h]),[x,S]=On.prism.state("isSeeking",!1),_={isSeeking:x,setIsSeeking:S},O={},j=(l=(0,On.val)(o.sequence.clippedSpaceRange))!=null?l:SF,z=On.prism.memo("scaledSpace",()=>{let Z=j.end-j.start,le=g.width,D=Z/le,X=le/Z;return{fromUnitSpace(C){return C*X},toUnitSpace(C){return C*D},leftPadding:10}},[j,g.width]),K=On.prism.memo("setClippedSpaceRange",()=>function(Z){n.transaction(({stateEditors:le})=>{let D=L({},Z);if(D.end<=D.start&&(D.end=D.start+1),D.start<0){let X=D.end-D.start;D.start=0,D.end=X}le.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.clippedSpaceRange.set(he(L({},e.address),{range:D}))})},[]),M=On.prism.memo("clippedSpace",()=>({range:j,width:g.width,fromUnitSpace(Z){return z.fromUnitSpace(Z-j.start)+z.leftPadding},toUnitSpace(Z){return z.toUnitSpace(Z-z.leftPadding)+j.start},setRange:K}),[j,g.width,z,K]),N=On.prism.memo("selection.current",()=>new On.Atom({}),[]);return tb("finalAtom",{sheet:e,tree:s,panelDims:u,leftDims:v,rightDims:g,dopeSheetDims:b,horizontalScrollbarDims:y,seeker:_,unitSpace:O,scaledSpace:z,clippedSpace:M,graphEditorDims:h,graphEditorVerticalSpace:k,selectionAtom:N}).pointer})}var On,xF,SF,Bne=P(()=>{Me(),Cne(),EA(),On=je,Dne(),Rt(),xF=.2,SF={start:0,end:10}});function Mne(e){let{fullSecondStampsContainer:t,sequencePositionFormatter:n,snapToGrid:o,unitSpaceToClippedSpace:a}=e,l="";xN(e,(s,u)=>{let d=o(s),f=a(d);u?l+=EF(n.formatFullUnitForGrid(d),f,"full-unit"):l+=EF(n.formatSubUnitForGrid(d),f,"sub-unit")}),t.innerHTML=l}function EF(e,t,n){return'<span class="'.concat(n,'" style="transform: translate3d(').concat(t.toFixed(1),'px, -50%, 0);">').concat(e,"</span>")}var Ka,Wa,_F,PF,Oi,CF,IF,jF,OF,TF,zF,DF=P(()=>{Ka=je,Rn(),Wa=$(G()),be(),EN(),Me(),PF=U.div(_F||(_F=F([`
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  pointer-events: none;
`]))),Oi={fullUnitStampColor:"#6a6a6a",stampFontSize:"10px",get subUnitStampColor(){return Pu(.2,Oi.fullUnitStampColor)}},IF=U.div(CF||(CF=F([`
  position: absolute;
  top: 0;
  height: 100%;
  left: 0;
  overflow: hidden;
  z-index: 2;
  will-change: transform;
  pointer-events: none;
`]))),OF=U.div(jF||(jF=F([`
  position: absolute;
  top: 0;
  left: 0;

  & > span {
    position: absolute;
    display: block;
    top: 9px;
    left: -10px;
    color: `,`;
    text-align: center;
    font-size: `,`;
    width: 20px;

    &.full-unit {
      color: `,`;
    }

    &.sub-unit {
      color: `,`;
    }
  }

  pointer-events: none;
`])),Oi.fullUnitStampColor,Oi.stampFontSize,Oi.fullUnitStampColor,Oi.subUnitStampColor),TF=({layoutP:e,width:t})=>{let n=(0,Wa.useRef)(null),[o,a]=(0,Wa.useState)(null);return(0,Wa.useLayoutEffect)(()=>{if(o)return(0,Ka.prism)(()=>{let l=(0,Ka.val)(e.sheet).getSequence();return{fullSecondStampsContainer:o,clippedSpaceRange:(0,Ka.val)(e.clippedSpace.range),clippedSpaceWidth:(0,Ka.val)(e.clippedSpace.width),unitSpaceToClippedSpace:(0,Ka.val)(e.clippedSpace.fromUnitSpace),leftPadding:(0,Ka.val)(e.scaledSpace.leftPadding),fps:l.subUnitsPerUnit,sequencePositionFormatter:l.positionFormatter,snapToGrid:s=>l.closestGridPosition(s)}}).onChange(de().ticker,Mne,!0)},[o,t,e]),Wa.default.createElement(PF,{ref:n,style:{width:t+"px"}},Wa.default.createElement(IF,{style:{width:t+"px"}},Wa.default.createElement(OF,{ref:a})))},zF=TF});function Nne(e){let[t,n]=(0,wk.useState)(!1);return(0,wk.useEffect)(()=>{if(n(!1),!e)return;let o=l=>{l.target===e?n(!0):n(!1)},a=()=>{n(!1)};return e.addEventListener("mouseenter",o),e.addEventListener("mousemove",o),e.addEventListener("mouseleave",a),()=>{n(!1),e.removeEventListener("mouseenter",o),e.removeEventListener("mousemove",o),e.removeEventListener("mouseleave",a)}},[e]),t}var wk,Fne=P(()=>{wk=$(G())});function Rne(e,t){let n=0,[o,a]=e,[l,s]=t;return a-o>s-l?[l,s]:(o<l&&(n=0-o),a>s&&(n=s-a),[o+n,a+n])}var uo,Ti,Bt,xk,AF,Gh,BF,MF,NF=P(()=>{uo=je,Fe(),rt(),Me(),qa(),kn(),At(),nt(),Ti=$(G()),be(),Jt(),Bt={enabled:{backgroundColor:"#2C2F34",stroke:"#646568"},disabled:{backgroundColor:"#282a2cc5",stroke:"#595a5d"},hover:{backgroundColor:"#34373D",stroke:"#C8CAC0"},dragging:{backgroundColor:"#3F444A",stroke:"#C8CAC0"},thumbWidth:9,hitZoneWidth:26,rangeStripMinWidth:30},xk=1e3,Gh=U.div(AF||(AF=F([`
  position: absolute;
  height: `,`px;
  background-color: `,`;
  cursor: grab;
  top: 0;
  left: 0;
  width: `,`px;
  transform-origin: left top;
  &:hover {
    background-color: `,`;
  }
  &.dragging {
    background-color: `,`;
    cursor: grabbing !important;
  }
  `,`;

  /* covers the one pixel space between the focus range strip and the top strip
  of the sequence editor panel, which would have caused that one pixel to act
  like a panel drag zone */
  &:after {
    display: block;
    content: ' ';
    position: absolute;
    bottom: -1px;
    height: 1px;
    left: 0;
    right: 0;
    background: transparent;
    pointer-events: normal;
    z-index: -1;
  }
`])),()=>fo-1,e=>e.enabled?Bt.enabled.backgroundColor:Bt.disabled.backgroundColor,xk,Bt.hover.backgroundColor,Bt.dragging.backgroundColor,tt),BF=({layoutP:e})=>{let t=(0,Ti.useMemo)(()=>(0,uo.prism)(()=>{let{projectId:f,sheetId:m}=(0,uo.val)(e.sheet).address;return(0,uo.val)(de().atomP.ahistoric.projects.stateByProjectId[f].stateBySheetId[m].sequence.focusRange)}),[e]),[n,o]=Qe(null),[a]=bn(o,{menuItems:()=>{let f=(0,uo.val)(e.sheet),m=t.getValue();return[{label:"Delete focus range",callback:()=>{de().tempTransaction(({stateEditors:v})=>{v.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.unset(L({},f.address))}).commit()}},{label:m!=null&&m.enabled?"Disable focus range":"Enable focus range",callback:()=>{m!==void 0&&de().tempTransaction(({stateEditors:v})=>{v.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(he(L({},f.address),{range:m.range,enabled:!m.enabled}))}).commit()}}]}}),l=Ye(e.scaledSpace.toUnitSpace),s=Ye(e.sheet),u=(0,Ti.useMemo)(()=>{let f,m;return{debugName:"FocusRangeStrip",onDragStart(v){let g,h=t.getValue();if(!h)return!1;let b=h.range.start,y=h.range.end,k=!1,x=(0,uo.val)(e.sheet).getSequence();return{onDrag(S){if(h=t.getValue(),h){k=!0;let _=l(S),O=b+_,j=y+_;j<O&&(j=O),[f,m]=Rne([O,j],[0,x.length]).map(z=>x.closestGridPosition(z)),g&&g.discard(),g=de().tempTransaction(({stateEditors:z})=>{var K;z.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(he(L({},s.address),{range:{start:f,end:m},enabled:(K=h==null?void 0:h.enabled)!=null?K:!0}))})}},onDragEnd(){h&&(k&&g!==void 0?g.commit():g&&g.discard())}}},lockCSSCursorTo:"grabbing"}},[s,l]),[d]=St(o,u);return Fo(d,-1),Ge(()=>{let f=t.getValue(),m=(f==null?void 0:f.range)||{start:0,end:0},v=(0,uo.val)(e.clippedSpace.fromUnitSpace)(m.start),g=(0,uo.val)(e.clippedSpace.fromUnitSpace)(m.end),h,b;return v<0&&(v=0),g>(0,uo.val)(e.clippedSpace.width)&&(g=(0,uo.val)(e.clippedSpace.width)),v>g?(b=0,h=0):(b=v,h=(g-v)/xk),f?Ti.default.createElement(Ti.default.Fragment,null,a,Ti.default.createElement(Gh,{id:"range-strip",enabled:f.enabled,className:"".concat(d?"dragging":""," ").concat(f.enabled?"enabled":""),ref:n,style:{transform:"translateX(".concat(b,"px) scale(").concat(h,", 1)")}})):Ti.default.createElement(Ti.default.Fragment,null)},[e,n,t,a,d])},MF=BF}),zi,Vo,FF,RF,UF,VF,KF,WF,HF,Sk,Une=P(()=>{zi=je,Fe(),Me(),qa(),Un(),At(),nt(),Vo=$(G()),be(),Jt(),NF(),Ir(),RF=U.div(FF||(FF=F([`
  position: absolute;
  top: 0;
  // the right handle has to be pulled back by its width since its right side indicates its position, not its left side
  left: `,`px;
  transform-origin: left top;
  width: `,`px;
  height: `,`px;
  z-index: 3;

  --bg: `,`;

  stroke: `,`;
  user-select: none;

  cursor: `,`;

  // no pointer events unless pointer-root is in normal mode _and_ the
  // focus range is enabled
  #pointer-root & {
    pointer-events: none;
  }

  #pointer-root.normal & {
    pointer-events: auto;
  }

  #pointer-root.draggingPositionInSequenceEditor & {
    pointer-events: auto;
    cursor: var(`,`);
  }

  &.dragging {
    pointer-events: none !important;
  }

  // highlight the handle if it's hovered, or the whole strip is hovverd
  `,`:hover ~ &, &:hover {
    --bg: `,`;
    stroke: `,`;
  }

  // highlight the handle when it's being dragged or the whole strip is being dragged.
  // using dragging.dragging to give this selector priority, as it seems to be overridden
  // by the hover selector above
  &.dragging,
  `,`.dragging.dragging ~ & {
    --bg: `,`;
    stroke: `,`;
  }

  #pointer-root.draggingPositionInSequenceEditor &:hover {
    --bg: `,`;
    stroke: #40aaa4;
  }

  background-color: var(--bg);

  // a larger hit zone
  &:before {
    display: block;
    content: ' ';
    position: absolute;
    inset: -8px;
  }
`])),e=>e.type==="start"?0:-Bt.thumbWidth,Bt.thumbWidth,()=>fo-1,({enabled:e})=>e?Bt.enabled.backgroundColor:Bt.disabled.backgroundColor,Bt.enabled.stroke,e=>e.type==="start"?"w-resize":"e-resize",jo,()=>Gh,Bt.hover.backgroundColor,Bt.hover.stroke,()=>Gh,Bt.dragging.backgroundColor,Bt.dragging.stroke,Bt.dragging.backgroundColor),VF=U.div(UF||(UF=F([`
  position: absolute;
  top: 0;
  bottom: 0;
  pointer-events: none;

  background: linear-gradient(
    `,`deg,
    var(--bg) 0%,
    #ffffff00 100%
  );

  width: 12px;
  left: `,`px;
`])),e=>e.type==="start"?90:-90,e=>e.type==="start"?Bt.thumbWidth:-Bt.thumbWidth+1),WF=U.div(KF||(KF=F([`
  position: absolute;
  top: 0;
  bottom: 0;
  pointer-events: none;

  background: linear-gradient(
    `,`deg,
    `,` 0%,
    #ffffff00 100%
  );

  width: 12px;
  left: `,`px;
`])),e=>e.type==="start"?-90:90,()=>Rc.backgroundColor,e=>e.type==="start"?-12:Bt.thumbWidth),HF=({layoutP:e,thumbType:t})=>{var n;let[o,a]=Qe(null),l=(0,Vo.useMemo)(()=>(0,zi.prism)(()=>{let{projectId:f,sheetId:m}=(0,zi.val)(e.sheet).address;return(0,zi.val)(de().atomP.ahistoric.projects.stateByProjectId[f].stateBySheetId[m].sequence.focusRange)}),[e]),s=(0,Vo.useMemo)(()=>({debugName:"FocusRangeThumb",onDragStart(){let f,m,v=(0,zi.val)(e.sheet),g={start:0,end:v.getSequence().length},h=l.getValue()||{range:g,enabled:!1},b=h.enabled,y=h.range[t],k=(0,zi.val)(e.scaledSpace.toUnitSpace),x=k(Bt.rangeStripMinWidth);return{onDrag(S,_,O){var j;let z,K=wn.checkIfMouseEventSnapToPos(O,{ignore:a});if(K==null){let N=k(S);z=y+N}else z=K;m=((j=l.getValue())==null?void 0:j.range)||g,t==="start"?z=Math.max(Math.min(z,m.end-x),0):z=Math.min(Math.max(z,m.start+x),v.getSequence().length);let M=v.getSequence().closestGridPosition(z);f!==void 0&&f.discard(),f=de().tempTransaction(({stateEditors:N})=>{N.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(he(L({},v.address),{range:he(L({},m),{[t]:M}),enabled:b}))})},onDragEnd(S){S?f==null||f.commit():f==null||f.discard()}}}}),[e]),[u]=St(a,s);Yn(u,"draggingPositionInSequenceEditor",t==="start"?"w-resize":"e-resize");let d=Ye(l);return Fo(u,(n=d==null?void 0:d.range[t])!=null?n:0),Ge(()=>{let f=l.getValue();if(!f)return null;let{enabled:m}=f,v=f.range[t],g=(0,zi.val)(e.clippedSpace.fromUnitSpace)(v);return(g<0||(0,zi.val)(e.clippedSpace.width)<g)&&(g=-1e4),Vo.default.createElement(RF,he(L(L({ref:o},wn.includePositionSnapAttrs(v)),oo(v)),{className:"".concat(u&&"dragging"," ").concat(m&&"enabled"),enabled:m,type:t,style:{transform:"translate3d(".concat(g,"px, 0, 0)")}}),Vo.default.createElement(VF,{type:t,enabled:m}),Vo.default.createElement(WF,{type:t}),Vo.default.createElement("svg",{viewBox:"0 0 9 18",xmlns:"http://www.w3.org/2000/svg"},Vo.default.createElement("line",{x1:"4",y1:"6",x2:"4",y2:"12"}),Vo.default.createElement("line",{x1:"6",y1:"6",x2:"6",y2:"12"})))},[e,o,l,u])},Sk=HF});function Vne(e,t){let[n,o]=(0,co.useState)("none");return Yn(n!=="none","dragging",n==="creating"?"ew-resize":"move"),(0,co.useMemo)(()=>{let a=()=>({debugName:"FocusRangeZone/focusRangeCreationGestureHandlers",onDragStart(s){let u,d=(0,Ha.val)(e.clippedSpace.toUnitSpace),f=(0,Ha.val)(e.scaledSpace.toUnitSpace),m=(0,Ha.val)(e.sheet),v=m.getSequence(),g=s.target.getBoundingClientRect(),h=d(s.clientX-g.left),b=f(Bt.rangeStripMinWidth);return{onDrag(y){let k=f(y),x=h,S=h+k;[x,S]=[xt(x,0,v.length),xt(S,0,v.length)].map(_=>v.closestGridPosition(_)),S<x?[x,S]=[Math.max(Math.min(S,x-b),0),x]:y>0&&(S=Math.min(Math.max(S,x+b),v.length)),u&&u.discard(),u=de().tempTransaction(({stateEditors:_})=>{_.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(he(L({},m.address),{range:{start:x,end:S},enabled:!0}))})},onDragEnd(y){y&&u!==void 0?u.commit():u&&u.discard()}}},lockCSSCursorTo:"ew-resize"}),l=()=>({debugName:"FocusRangeZone/panelMoveGestureHandlers",onDragStart(){let s,u=t.current,d=t.current.addBoundsHighlightLock();return{onDrag(f,m){let v=he(L({},u.dims),{top:xt(u.dims.top+m,0,window.innerHeight-qr),left:xt(u.dims.left+f,-u.dims.width+qr,window.innerWidth-qr)}),g=eh(v,{width:window.innerWidth,height:window.innerHeight});s==null||s.discard(),s=de().tempTransaction(({stateEditors:h})=>{h.studio.historic.panelPositions.setPanelPosition({position:g,panelId:u.panelId})})},onDragEnd(f){d(),f?s==null||s.commit():s==null||s.discard()}}},lockCSSCursorTo:"move"});return{debugName:"FocusRangeZone",onDragStart(s){let[u,d]=s.shiftKey?["creating",a().onDragStart(s)]:["moving-panel",l().onDragStart(s)];return o(u),d===!1?!1:{onDrag(f,m,v,g,h){d.onDrag(f,m,v,g,h)},onDragEnd(f){var m;o("none"),(m=d.onDragEnd)==null||m.call(d,f)}}}}},[e,t])}var Ha,co,qF,$F,LF,XF,Kne=P(()=>{Ha=je,Fe(),Me(),ls(),qa(),Un(),At(),Fne(),UA(),nt(),Rt(),co=$(G()),be(),NF(),Une(),Co(),$F=U.div(qF||(qF=F([`
  position: absolute;
  height: `,`px;
  left: 0;
  right: 0;
  box-sizing: border-box;
  /* Use the "grab" cursor if the shift key is up, which is the one used on the top strip of the sequence editor */
  cursor: `,`;
`])),()=>fo,e=>e.isShiftDown?"ew-resize":"move"),LF=({layoutP:e})=>{let[t,n]=Qe(null),o=as(),a=(0,co.useRef)(o);a.current=o;let l=(0,co.useMemo)(()=>(0,Ha.prism)(()=>{let{projectId:d,sheetId:f}=(0,Ha.val)(e.sheet).address;return(0,Ha.val)(de().atomP.ahistoric.projects.stateByProjectId[d].stateBySheetId[f].sequence.focusRange)}),[e]);St(n,Vne(e,a));let s=FA("Shift"),u=Nne(n);return(0,co.useEffect)(()=>{if(!s&&u)return a.current.addBoundsHighlightLock()},[!s&&u]),Ge(()=>co.default.createElement($F,{ref:t,isShiftDown:s},co.default.createElement(MF,{layoutP:e}),co.default.createElement(Sk,{thumbType:"start",layoutP:e}),co.default.createElement(Sk,{thumbType:"end",layoutP:e})),[e,l,s])},XF=LF}),ys,fo,Rc,ZF,GF,YF,QF,qa=P(()=>{Fe(),ys=$(G()),be(),DF(),Jt(),rt(),Kne(),fo=18,Rc={backgroundColor:"#1f2120eb",borderColor:"#1c1e21"},GF=U.div(ZF||(ZF=F([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: `,`px;
  box-sizing: border-box;
  background: `,`;
  border-bottom: 1px solid `,`;
  `,`;
`])),fo,Rc.backgroundColor,Rc.borderColor,tt),YF=({layoutP:e})=>{let t=Ye(e.rightDims.width);return ys.default.createElement(ys.default.Fragment,null,ys.default.createElement(GF,L({},oo("hide")),ys.default.createElement(zF,{layoutP:e,width:t,height:fo}),ys.default.createElement(XF,{layoutP:e})))},QF=YF}),$a,JF,e7,t7,n7,r7,o7,i7,a7,Wne=P(()=>{$a=$(G()),be(),Fe(),Me(),Cy(),ka(),JF=e=>isFinite(e)&&e>0,t7=U.div(e7||(e7=F([`
  display: flex;
  gap: 8px;
  padding: 4px 8px;
  height: 28px;
  align-items: center;
`]))),r7=U.div(n7||(n7=F([`
  `,`;
  white-space: nowrap;
`])),gi),o7=({deltaX:e})=>e*.25,i7=({layoutP:e})=>{let t=Ye(e.sheet),n=(0,$a.useMemo)(()=>{let a;return{temporarilySetValue(l){a&&(a.discard(),a=void 0),a=de().tempTransaction(({stateEditors:s})=>{s.coreByProject.historic.sheetsById.sequence.setLength(he(L({},t.address),{length:l}))})},discardTemporaryValue(){a&&(a.discard(),a=void 0)},permanentlySetValue(l){a&&(a.discard(),a=void 0),de().transaction(({stateEditors:s})=>{s.coreByProject.historic.sheetsById.sequence.setLength(he(L({},t.address),{length:l}))})}}},[e,t]),o=(0,$a.useRef)(null);return(0,$a.useLayoutEffect)(()=>{o.current.focus()},[]),Ge(()=>{let a=t.getSequence().length;return $a.default.createElement(t7,null,$a.default.createElement(r7,null,"Sequence length"),$a.default.createElement(op,he(L({value:a},n),{isValid:JF,inputRef:o,nudge:o7})))},[t,n,o])},a7=i7});function Hne(e,t){let n=(0,Tn.useRef)(t);n.current=t;let o=(0,Tn.useMemo)(()=>({debugName:"LengthIndicator/useDragBulge",lockCSSCursorTo:"ew-resize",onDragStart(l){let s,u=n.current,d=(0,La.val)(n.current.layoutP.sheet),f=d.getSequence().length,m=(0,La.val)(u.layoutP.scaledSpace.toUnitSpace);return{onDrag(v,g,h){let b=m(v);s&&(s.discard(),s=void 0),s=de().tempTransaction(({stateEditors:y})=>{y.coreByProject.historic.sheetsById.sequence.setLength(he(L({},d.address),{length:f+b}))})},onDragEnd(v){v?s&&s.commit():s&&s.discard()}}}}),[]),[a]=St(e,o);return Fo(a,-1),[a]}var La,Tn,Ek,Uc,l7,Di,s7,u7,c7,d7,f7,p7,h7,m7,g7,v7,y7,qne=P(()=>{Fe(),La=je,Tn=$(G()),be(),Ho(),qa(),nt(),At(),Me(),Gr(),Jt(),Xl(),Wne(),rt(),Qr(),Ek=1e3,Uc={stripNormal:"#0000006c",stripActive:"#000000"},Di=U.div(l7||(l7=F([`
  position: absolute;
  top: 0;
  left: 0;
  width: 4px;
  z-index: `,`;
  pointer-events: none;

  &:after {
    display: block;
    content: ' ';
    position: absolute;
    /* top: `,`px; */
    top: 0;
    bottom: 0;
    left: -1px;
    width: 1px;
    background-color: `,`;
  }

  &:hover:after,
  &.dragging:after {
    background-color: `,`;
  }
`])),()=>ho.lengthIndicatorStrip,fo,Uc.stripNormal,Uc.stripActive),u7=U.div(s7||(s7=F([`
  position: absolute;
  top: `,`px;
  width: 100px;
  left: -50px;
  pointer-events: none;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  z-index: 1;
`])),fo-15),d7=U.div(c7||(c7=F([`
  margin-top: 8px;
  font-size: 10px;
  white-space: nowrap;
  padding: 2px 8px;
  border-radius: 2px;
  `,`;
  cursor: ew-resize;
  color: #464646;
  background-color: #0000004d;
  display: none;

  `,":hover &, ",`.dragging & {
    display: block;
    color: white;
    background-color: `,`;
  }
`])),tt,Di,Di,Uc.stripActive),p7=U.div(f7||(f7=F([`
  font-size: 10px;
  white-space: nowrap;
  padding: 1px 2px;
  border-radius: 2px;
  `,`;
  justify-content: center;
  align-items: center;
  cursor: ew-resize;
  color: #5d5d5d;
  background-color: #191919;

  `,":hover &, ",`.dragging & {
    color: white;
    background-color: `,`;

    & > svg:first-child {
      margin-right: -1px;
    }
  }

  & > svg:first-child {
    margin-right: -4px;
  }
`])),tt,Di,Di,Uc.stripActive),m7=U.div(h7||(h7=F([`
  position: absolute;
  top: 0;
  left: 0;
  background-color: rgb(23 23 23 / 43%);
  width: `,`px;
  z-index: `,`;
  transform-origin: left top;

  `,".dragging ~ &, ",`:hover ~ & {
    background-color: rgb(23 23 23 / 60%);
  }
`])),Ek,()=>ho.lengthIndicatorCover,Di,Di),g7=-1e4,v7=({layoutP:e})=>{let[t,n]=Qe(null),[o]=Hne(n,{layoutP:e}),{node:a,toggle:l,close:s}=Zr({debugName:"LengthIndicator"},()=>Tn.default.createElement(Yr,null,Tn.default.createElement(a7,{layoutP:e,onRequestClose:s})));return Ge(()=>{let u=(0,La.val)(e.sheet),d=(0,La.val)(e.rightDims.height),f=u.getSequence(),m=f.length,v=m,g=(0,La.val)(e.clippedSpace.fromUnitSpace)(v),h=(0,La.val)(e.clippedSpace.width),b,y;return g>h?(y=0,b=0):(g<0&&(g=0),y=g,b=(h-g)/Ek),Tn.default.createElement(Tn.default.Fragment,null,a,Tn.default.createElement(Di,{style:{height:d+"px",transform:"translateX(".concat(y===0?g7:y,"px)")},className:o?"dragging":""},Tn.default.createElement(u7,null,Tn.default.createElement(p7,L({ref:t,onClick:k=>{l(k,n)}},oo("hide")),Tn.default.createElement(AQ,null),Tn.default.createElement(BQ,null)),Tn.default.createElement(d7,null,"Sequence length:"," ",f.positionFormatter.formatBasic(m)))),Tn.default.createElement(m7,{title:"Length",style:{height:d+"px",transform:"translateX(".concat(y,"px) scale(").concat(b,", 1)")}}))},[e,t,o,a])},y7=v7}),_k,Ko,b7,k7,w7,x7,S7,E7,_7,P7,$ne=P(()=>{Fe(),_k=je,Ko=$(G()),be(),DF(),Ho(),qa(),Jt(),k7=U.div(b7||(b7=F([`
  position: absolute;
  top: 0;
  left: 0;
  margin-top: 0px;
`]))),x7=U.div(w7||(w7=F([`
  position: absolute;
  top: 16px;
  font-size: `,`;
  color: `,`;
  text-align: center;
  transform: translateX(-50%);
  background: `,`;
  padding: 1px 8px;
  font-variant-numeric: tabular-nums;
  pointer-events: none;
  z-index: `,`;
`])),Oi.stampFontSize,Oi.fullUnitStampColor,Rc.backgroundColor,()=>ho.currentFrameStamp),E7=U.div(S7||(S7=F([`
  position: absolute;
  top: 5px;
  left: -0px;
  bottom: 0;
  width: 0.5px;
  background: rgba(100, 100, 100, 0.2);
  pointer-events: none;
`]))),_7=Ko.default.memo(({layoutP:e})=>{let[t,n]=Ye(sB()),o=Ye(e.clippedSpace.fromUnitSpace),{sequence:a,formatter:l,clippedSpaceWidth:s}=Ge(()=>{let m=(0,_k.val)(e.sheet).getSequence(),v=(0,_k.val)(e.clippedSpace.width);return{sequence:m,formatter:m.positionFormatter,clippedSpaceWidth:v}},[e]);if(t==-1)return Ko.default.createElement(Ko.default.Fragment,null);let u=n===3?a.closestGridPosition(t):t,d=o(u),f=d>=0&&d<=s;return Ko.default.createElement(Ko.default.Fragment,null,Ko.default.createElement(k7,null,Ko.default.createElement(x7,{style:{opacity:f?1:0,transform:"translate3d(calc(".concat(d,"px - 50%), 0, 0)")}},l.formatForPlayhead(u)),Ko.default.createElement(E7,{posType:n,style:{opacity:f?1:0,transform:"translate3d(".concat(d,"px, 0, 0)")}}))," ")}),P7=_7}),jr,En,C7,I7,j7,O7,T7,Yh,z7,Pk,D7,Qh,A7,Jh,B7,Ck,M7,N7,Lne=P(()=>{Fe(),jr=je,I5(),Rn(),En=$(G()),be(),Ho(),Jt(),rt(),At(),I7=U.div(C7||(C7=F([`
  --threadHeight: 6px;
  --bg-inactive: #32353b;
  --bg-active: #5b5c5d;
  position: absolute;
  height: 0;
  width: 100%;
  left: 12px;
  /* bottom: 8px; */
  z-index: `,`;
  `,`
`])),()=>ho.horizontalScrollbar,tt),O7=U.div(j7||(j7=F([`
  position: relative;
  top: 0;
  left: 0;
  width: 100%;
  height: var(--threadHeight);
`]))),Yh=U.div(T7||(T7=F([`
  position: absolute;
  height: 5px;
  background: var(--bg-inactive);
  cursor: ew-resize;
  z-index: 2;

  &:hover,
  &:active {
    background: var(--bg-active);
  }

  &:after {
    `,`;
    display: block;
    content: ' ';
  }
`])),Tv("absolute","-4px")),Pk=U.div(z7||(z7=F([`
  position: absolute;
  height: 5px;
  width: 7px;
  left: 0;
  z-index: 2;
  top: 0;
  bottom: 0;
  display: block;

  &:hover:before {
    background: var(--bg-active);
  }

  &:before {
    `,`;
    display: block;
    content: ' ';
    background: var(--bg-inactive);
    border-radius: 0 2px 2px 0;
  }

  &:after {
    `,`;
    display: block;
    content: ' ';
  }
`])),Tv("absolute","0"),Tv("absolute","-4px")),Qh=U(Pk)(D7||(D7=F([`
  left: calc(-1 * 7px);
  cursor: w-resize;
  &:before {
    transform: scaleX(-1);
  }
`]))),Jh=U(Pk)(A7||(A7=F([`
  cursor: e-resize;
  left: 0px;
`]))),Ck=U.div(B7||(B7=F([`
  display: `,`;
  position: absolute;
  top: -20px;
  left: 4px;
  padding: 0 4px;
  transform: translateX(-50%);
  background: #131d1f;
  border-radius: 4px;
  color: #fff;
  font-size: 10px;
  line-height: 18px;
  text-align: center;

  `,`:hover &,
  `,`:hover &,
  `,":hover ~ ",` &,
  `,":hover ~ ",` & {
    display: block;
  }
`])),e=>e.active?"block":"none",Qh,Jh,Yh,Qh,Yh,Jh),M7=({layoutP:e})=>{let t=(0,En.useCallback)(k=>k.toFixed(2),[]),n=(0,En.useMemo)(()=>(0,jr.prism)(()=>{let k=(0,jr.val)(e.rightDims.width)-25,x=(0,jr.val)(e.clippedSpace.range),S=(0,jr.val)(e.sheet).getSequence().length,_=Math.max(x.end,S),O=x.start/_*k,j=x.end/_*k;return{rightWidth:k,clippedSpaceRange:x,sequenceLength:S,assumedLengthOfSequence:_,rangeStartX:O,rangeEndX:j,bottom:(0,jr.val)(e.horizontalScrollbarDims.bottom)}}),[e]),{rangeStartX:o,rangeEndX:a,clippedSpaceRange:l,bottom:s}=Ye(n),[u,d]=(0,En.useState)("nothing"),f=(0,En.useMemo)(()=>{let k=(0,jr.val)(n),x=()=>{k=(0,jr.val)(n)},S=_=>_/k.rightWidth*k.assumedLengthOfSequence;return{onRangeDragStart(){return x(),{onDrag(_){d("both");let O=S(_),j=ca(k.clippedSpaceRange,z=>z+O);(0,jr.val)(e.clippedSpace.setRange)(j)},onDragEnd(){d("nothing")}}},onRangeStartDragStart(){return x(),{onDrag(_){d("start");let O=S(_),j={start:k.clippedSpaceRange.start+O,end:k.clippedSpaceRange.end};j.start>j.end-1&&(j.start=j.end-1),j.start<=0&&(j.start=0),(0,jr.val)(e.clippedSpace.setRange)(j)},onDragEnd(){d("nothing")}}},onRangeEndDragStart(){return x(),{onDrag(_){d("end");let O=S(_),j={start:k.clippedSpaceRange.start,end:k.clippedSpaceRange.end+O};j.end<j.start+1&&(j.end=j.start+1),j.end>=k.assumedLengthOfSequence&&(j.end=k.assumedLengthOfSequence),(0,jr.val)(e.clippedSpace.setRange)(j)},onDragEnd(){d("nothing")}}}}},[e,n]),[m,v]=(0,En.useState)(null);St(m,{debugName:"HorizontalScrollbar/onRangeDrag",onDragStart:f.onRangeDragStart,lockCSSCursorTo:"ew-resize"});let[g,h]=(0,En.useState)(null);St(g,{debugName:"HorizontalScrollbar/onRangeStartDrag",onDragStart:f.onRangeStartDragStart,lockCSSCursorTo:"w-resize"});let[b,y]=(0,En.useState)(null);return St(b,{debugName:"HorizontalScrollbar/onRangeEndDrag",onDragStart:f.onRangeEndDragStart,lockCSSCursorTo:"e-resize"}),En.default.createElement(I7,L({style:{bottom:s+8+"px"}},oo("hide")),En.default.createElement(O7,null,En.default.createElement(Yh,{ref:v,style:{width:"".concat(a-o,"px"),transform:"translate3d(".concat(o,"px, 0, 0)")}}),En.default.createElement(Qh,{ref:h,style:{transform:"translate3d(".concat(o,"px, 0, 0)")}},En.default.createElement(Ck,{active:u==="both"||u==="start"},t(l.start))),En.default.createElement(Jh,{ref:y,style:{transform:"translate3d(".concat(a,"px, 0, 0)")}},En.default.createElement(Ck,{active:u==="both"||u==="end"},t(l.end)))))},N7=M7}),F7,R7,U7,V7,K7,Xne=P(()=>{F7=$(G()),be(),U7=U.div(R7||(R7=F([`
  position: absolute;
  inset: `,`px;
`])),e=>e.room*-1),V7=e=>F7.default.createElement(U7,{room:e.room}),K7=V7}),em,tm,Ik,W7,H7,q7,$7,L7,X7,Z7,G7,Zne=P(()=>{be(),Fe(),Cy(),ka(),em=$(G()),tm=$(G()),Ik=je,pf(),W7=e=>isFinite(e)&&e>=0,q7=U.div(H7||(H7=F([`
  display: flex;
  gap: 8px;
  padding: 4px 8px;
  height: 28px;
  align-items: center;
`]))),L7=U.div($7||($7=F([`
  `,`;
  white-space: nowrap;
`])),gi),X7=({deltaX:e})=>e*.25,Z7=({layoutP:e,onRequestClose:t})=>{let n=(0,Ik.val)(e.sheet),o=n.getSequence(),a=(0,em.useMemo)(()=>{let s,u=o.position;return{temporarilySetValue(d){s&&(s=void 0),s=xt(d,0,o.length),o.position=s},discardTemporaryValue(){s&&(s=void 0,o.position=u,t("discardTemporaryValue"))},permanentlySetValue(d){s&&(s=void 0),o.position=xt(d,0,o.length),t("permanentlySetValue")}}},[e,o]),l=(0,em.useRef)(null);return(0,em.useLayoutEffect)(()=>{l.current.focus()},[]),Ge(()=>{let s=n.getSequence(),u=Number((0,Ik.val)(s.pointer.position).toFixed(3));return tm.default.createElement(q7,null,tm.default.createElement(L7,null,"Sequence position"),tm.default.createElement(op,he(L({value:u},a),{isValid:W7,inputRef:l,nudge:X7})))},[n,a,l])},G7=Z7}),Y7,Gne=P(()=>{Y7=typeof navigator<"u"&&navigator.platform.toUpperCase().indexOf("MAC")>=0}),Q7,Yne=P(()=>{Gne(),Q7=e=>Y7?e.metaKey===!0:e.ctrlKey===!0});function Qne(){nm=!1}function Jne(){nm=!0}function ere(){let e=de();(0,J7.useEffect)(()=>{let t=n=>{let o=n.composedPath()[0];if(!(o&&(o.tagName==="INPUT"||o.tagName==="TEXTAREA"))){if(n.key==="z"||n.key==="Z"||n.code==="KeyZ")if(Q7(n))n.shiftKey===!0?e.redo():e.undo();else return;else if(n.code==="Space"&&!n.shiftKey&&!n.metaKey&&!n.altKey&&!n.ctrlKey){if(!nm)return;let a=rQ();if(a)if(a.playing)a.pause();else{let{projectId:l,sheetId:s}=a.address,u=(0,Or.prism)(()=>{let m=(0,Or.val)(de().atomP.ahistoric.projects.stateByProjectId[l].stateBySheetId[s].sequence.focusRange);return Or.prism.memo("shouldFollowFocusRange",()=>{let v=a.position;if(m){let g=v>=m.range.start&&v<=m.range.end;return m.enabled?!!g:!0}else return!0},[])&&m&&m.enabled?{range:[m.range.start,m.range.end],isFollowingARange:!0}:{range:[0,(0,Or.val)(a.pointer.length)],isFollowingARange:!1}}),d=a.playDynamicRange((0,Or.prism)(()=>(0,Or.val)(u).range),de().ticker),f=jk(a);d.finally(()=>{f.set(void 0)}),f.set(u)}else return}else if(n.altKey&&(n.key==="\\"||n.code==="Backslash"||n.code==="IntlBackslash"))e.transaction(({stateEditors:a,drafts:l})=>{a.studio.ahistoric.setVisibilityState(l.ahistoric.visibilityState==="everythingIsHidden"?"everythingIsVisible":"everythingIsHidden")});else return;n.preventDefault(),n.stopPropagation()}};return window.addEventListener("keydown",t),()=>{window.removeEventListener("keydown",t)}},[])}var J7,Or,nm,jk,eR,Ok=P(()=>{J7=$(G()),Me(),Yne(),di(),Or=je,xp(),nm=!0,jk=Lu(e=>new Or.Atom(void 0)),eR=Lu(e=>(0,Or.prism)(()=>{let t=jk(e).prism.getValue();if(t)return t.getValue().isFollowingARange;{let{projectId:n,sheetId:o}=e.address,a=(0,Or.val)(de().atomP.ahistoric.projects.stateByProjectId[n].stateBySheetId[o].sequence.focusRange);if(!a||!a.enabled)return!1;let l=(0,Or.val)(e.pointer.position);return l>=a.range.start&&l<=a.range.end}}))});function tre(e,t){return bn(e,{menuItems(){return[{label:"Place marker",callback:()=>{de().transaction(({stateEditors:n})=>{let o=(0,po.val)(t.layoutP.sheet),a=o.getSequence();n.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.replaceMarkers({sheetAddress:o.address,markers:[{id:VJ(),position:a.position}],snappingFunction:a.closestGridPosition})})}}]}})}var po,or,tR,Xa,nR,rR,oR,Tk,iR,aR,lR,sR,uR,cR,nre=P(()=>{Xne(),At(),nt(),Fe(),po=je,pf(),or=$(G()),be(),Ho(),Jt(),rt(),Gr(),Qr(),Zne(),Ok(),Un(),kn(),Me(),Ao(),Ir(),ja(),Xa=U.div(tR||(tR=F([`
  --thumbColor: #00e0ff;
  position: absolute;
  top: 0;
  left: 0;
  width: 5px;
  height: 100%;
  z-index: `,`;
  pointer-events: none;

  display: `,`;
`])),()=>ho.playhead,e=>e.isVisible?"block":"none"),rR=U.div(nR||(nR=F([`
  position: absolute;
  top: 8px;
  width: 0;
  height: calc(100% - 8px);
  border-left: 1px solid #27e0fd;
  z-index: 10;
  pointer-events: none;

  #pointer-root.draggingPositionInSequenceEditor &:not(.seeking) {
    /* pointer-events: auto; */
    /* cursor: var(`,`); */

    &:after {
      position: absolute;
      inset: -8px;
      display: block;
      content: ' ';
    }
  }
`])),jo),Tk=U.div(oR||(oR=F([`
  background-color: var(--thumbColor);
  position: absolute;
  width: 5px;
  height: 13px;
  top: -4px;
  left: -2px;
  z-index: 11;
  cursor: ew-resize;
  --sunblock-color: #1f2b2b;

  `,`;

  `,`.seeking > & {
    pointer-events: none !important;
  }

  #pointer-root.draggingPositionInSequenceEditor
    `,`:not(.seeking)
    > & {
    pointer-events: auto;
    cursor: var(`,`);
  }

  `,`.playheadattachedtofocusrange > & {
    top: -8px;
    --sunblock-color: #005662;
    &:before,
    &:after {
      border-bottom-width: 8px;
    }
  }

  &:before {
    position: absolute;
    display: block;
    content: ' ';
    left: -2px;
    width: 0;
    height: 0;
    border-bottom: 4px solid var(--sunblock-color);
    border-left: 2px solid transparent;
  }

  &:after {
    position: absolute;
    display: block;
    content: ' ';
    right: -2px;
    width: 0;
    height: 0;
    border-bottom: 4px solid var(--sunblock-color);
    border-right: 2px solid transparent;
  }
`])),tt,Xa,Xa,jo,Xa),aR=U.div(iR||(iR=F([`
  position: absolute;
  left: 1px;
  right: 1px;
  top: 13px;
  border-top: 3px solid var(--thumbColor);
  border-right: 1px solid transparent;
  border-left: 1px solid transparent;
  pointer-events: none;

  /* `,`.playheadattachedtofocusrange & {
    top: 10px;
    &:before,
    &:after {
      height: 15px;
    }
  } */

  &:before {
    position: absolute;
    display: block;
    content: ' ';
    top: -4px;
    left: -2px;
    height: 8px;
    width: 2px;
    background: none;
    border-radius: 0 100% 0 0;
    border-top: 1px solid var(--thumbColor);
    border-right: 1px solid var(--thumbColor);
  }

  &:after {
    position: absolute;
    display: block;
    content: ' ';
    top: -4px;
    right: -2px;
    height: 8px;
    width: 2px;
    background: none;
    border-radius: 100% 0 0 0;
    border-top: 1px solid var(--thumbColor);
    border-left: 1px solid var(--thumbColor);
  }
`])),Xa),sR=U.div(lR||(lR=F([`
  display: none;
  position: absolute;
  top: -20px;
  left: 4px;
  padding: 0 2px;
  transform: translateX(-50%);
  background: #1a1a1a;
  border-radius: 4px;
  color: #fff;
  font-size: 10px;
  line-height: 18px;
  text-align: center;
  `,":hover &, ",`.seeking & {
    display: block;
  }
`])),Tk,Xa),uR=({layoutP:e})=>{let[t,n]=Qe(null),{node:o,toggle:a,close:l}=Zr({debugName:"Playhead"},()=>or.default.createElement(Yr,null,or.default.createElement(G7,{layoutP:e,onRequestClose:l}))),s=(0,or.useMemo)(()=>({debugName:"RightOverlay/Playhead",onDragStart(){let f=(0,po.val)(e.sheet).getSequence(),m=f.position,v=(0,po.val)(e.scaledSpace.toUnitSpace),g=(0,po.val)(e.seeker.setIsSeeking);return g(!0),hb(),{onDrag(h,b,y){var k;let x=v(h);f.position=(k=wn.checkIfMouseEventSnapToPos(y,{ignore:n}))!=null?k:xt(m+x,0,f.length)},onDragEnd(h){g(!1),Ia()},onClick(h){a(h,t.current)}}}}),[e,n]),[u]=St(n,s);Yn(u,"draggingPositionInSequenceEditor","ew-resize"),Fo(Ye(e.seeker.isSeeking)||u,-1);let[d]=tre(n,{layoutP:e});return Ge(()=>{let f=(0,po.val)(e.seeker.isSeeking),m=(0,po.val)(e.sheet).getSequence(),v=(0,po.val)(eR(m)),g=m.positionPrism.getValue(),h=(0,po.val)(e.clippedSpace.fromUnitSpace)(g),b=h>=0&&h<=(0,po.val)(e.clippedSpace.width);return or.default.createElement(or.default.Fragment,null,d,o,or.default.createElement(Xa,L({isVisible:b,style:{transform:"translate3d(".concat(h,"px, 0, 0)")},className:"".concat(f&&"seeking"," ").concat(v&&"playheadattachedtofocusrange")},oo("hide")),or.default.createElement(Tk,L({ref:t},wn.includePositionSnapAttrs(g)),or.default.createElement(K7,{room:8}),or.default.createElement(aR,null),or.default.createElement(sR,null,m.positionFormatter.formatForPlayhead(m.closestGridPosition(g)))),or.default.createElement(rR,he(L({},wn.includePositionSnapAttrs(g)),{className:f?"seeking":""}))))},[e,t,o])},cR=uR}),Za,Vc,rm,dR,fR,pR,hR,rre=P(()=>{Za=je,Fe(),Me(),qa(),Vc=$(G()),be(),rm=1e3,fR=U.div(dR||(dR=F([`
  position: absolute;
  top: `,`px;
  left: 0;
  opacity: 0.15;
  width: `,`px;
  transform-origin: top left;
  pointer-events: none;
  background-color: `,`;
`])),fo,rm,e=>e.enabled?"#000000":"transparent"),pR=({layoutP:e})=>{let t=(0,Vc.useMemo)(()=>(0,Za.prism)(()=>{let{projectId:n,sheetId:o}=(0,Za.val)(e.sheet).address;return(0,Za.val)(de().atomP.ahistoric.projects.stateByProjectId[n].stateBySheetId[o].sequence.focusRange)}),[e]);return Ge(()=>{let n=t.getValue();if(!n||!n.enabled)return null;let o=(0,Za.val)(e.rightDims.height)-fo,a=(0,Za.val)(e.clippedSpace.fromUnitSpace),l=(0,Za.val)(e.clippedSpace.width),s=[];{let u=0,d=a(n.range.start),f,m;u>d?(m=0,f=0):(d>l&&(d=l),m=u,f=(d-u)/rm),s.push({translateX:m,scaleX:f})}{let u=a(n.range.end),d=l,f,m;u>d?(m=0,f=0):(u<0&&(u=0),m=u,f=(d-u)/rm),s.push({translateX:m,scaleX:f})}return Vc.default.createElement(Vc.default.Fragment,null,s.map(({translateX:u,scaleX:d},f)=>Vc.default.createElement(fR,{key:"curtain-".concat(f),enabled:!0,style:{height:"".concat(o,"px"),transform:"translateX(".concat(u,"px) scaleX(").concat(d,")")}})))},[e,t])},hR=pR}),bs,mR,gR,vR,yR,bR,ore=P(()=>{bs=$(G()),be(),Fe(),Me(),ka(),Ay(),gR=U.div(mR||(mR=F([`
  display: flex;
  gap: 8px;
  /* padding: 4px 8px; */
  height: 28px;
  align-items: center;
`]))),U.div(vR||(vR=F([`
  `,`;
  white-space: nowrap;
`])),gi),yR=({layoutP:e,marker:t})=>{var n;let o=Ye(e.sheet),a=(0,bs.useMemo)(()=>{let s;return{temporarilySetValue(u){s&&(s.discard(),s=void 0),s=de().tempTransaction(({stateEditors:d})=>{d.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.updateMarker({sheetAddress:o.address,markerId:t.id,label:u})})},discardTemporaryValue(){s&&(s.discard(),s=void 0)},permanentlySetValue(u){s&&(s.discard(),s=void 0),de().transaction(({stateEditors:d})=>{d.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.updateMarker({sheetAddress:o.address,markerId:t.id,label:u})})}}},[e,o]),l=(0,bs.useRef)(null);return(0,bs.useLayoutEffect)(()=>{l.current.focus()},[]),bs.default.createElement(gR,null,bs.default.createElement(ap,he(L({value:(n=t.label)!=null?n:""},a),{isValid:()=>!0,inputRef:l})))},bR=yR});function ire(e,t){return bn(e,{menuItems(){return[{label:"Remove marker",callback:()=>{de().transaction(({stateEditors:n})=>{n.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.removeMarker({sheetAddress:t.sheetAddress,markerId:t.markerId})})}}]}})}function are(e,t){let n=(0,_n.useRef)(t);n.current=t;let o=(0,_n.useMemo)(()=>({debugName:"MarkerDot/useDragMarker (".concat(t.marker.id,")"),onDragStart(l){let s=n.current.marker,u=(0,om.val)(t.layoutP.scaledSpace.toUnitSpace),d;return hb(),{onDrag(f,m,v){var g;let h=s,b=Math.max((g=wn.checkIfMouseEventSnapToPos(v,{ignore:e}))!=null?g:h.position+u(f),0);d==null||d.discard(),d=de().tempTransaction(({stateEditors:y})=>{y.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.replaceMarkers({sheetAddress:(0,om.val)(t.layoutP.sheet.address),markers:[he(L({},h),{position:b})],snappingFunction:(0,om.val)(t.layoutP.sheet).getSequence().closestGridPosition})})},onDragEnd(f){f?d==null||d.commit():d==null||d.discard(),Ia()}}}}),[]),[a]=St(e,o);return Fo(a,t.marker.position),Yn(a,"draggingPositionInSequenceEditor draggingMarker","ew-resize"),[a]}var om,_n,zk,Dk,kR,wR,xR,SR,ER,im,_R,PR,CR,IR,jR,OR,lre=P(()=>{om=je,Fe(),Me(),Un(),kn(),nt(),_n=$(G()),be(),Jt(),At(),Ho(),Ir(),ch(),mB(),ja(),Gr(),Qr(),ore(),zk=12,Dk=12,kR=zk*2,wR=Dk*2,SR=U.div(xR||(xR=F([`
  position: absolute;
  // below the sequence ruler "top bar"
  top: 18px;
  z-index: `,`;
`])),()=>ho.marker),im=U.div(ER||(ER=F([`
  position: absolute;
  `,`
  pointer-events: none;
`])),er(zk,Dk)),_R=_n.default.memo(()=>_n.default.createElement(im,{children:_n.default.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_n.default.createElement("path",{d:"M12 5H0V7H2.71973L5.96237 10.2426L9.20501 7H12V5Z",fill:"#40AAA4"}))})),CR=U.div(PR||(PR=F([`
  z-index: 1;
  cursor: ew-resize;

  `,`

  // :not dragging marker to ensure that markers don't snap to other markers
  // this works because only one marker track (so this technique is not used by keyframes...)
  #pointer-root.draggingPositionInSequenceEditor:not(.draggingMarker) & {
    `,`
  }

  // "All instances of this component <Mark/> inside #pointer-root when it has the .draggingPositionInSequenceEditor class"
  // ref: https://styled-components.com/docs/basics#pseudoelements-pseudoselectors-and-nesting
  #pointer-root.draggingPositionInSequenceEditor:not(.draggingMarker) &,
  #pointer-root.draggingPositionInSequenceEditor
    &.`,` {
    pointer-events: auto;
    cursor: var(`,`);
  }

  &:hover
    + `,`,
    // notice , "or" in CSS
    &.`,`
    + `,` {
    `,`
  }
`])),io.CSS,io.CSS_WHEN_SOMETHING_DRAGGING,io.BEING_DRAGGED_CLASS,jo,im,io.BEING_DRAGGED_CLASS,im,er(kR,wR)),IR=({layoutP:e,markerId:t})=>{let n=Ye(e.sheet.address),o=Ye(de().atomP.historic.projects.stateByProjectId[n.projectId].stateBySheetId[n.sheetId].sequenceEditor.markerSet.byId[t]);if(!o)return null;let a=Ye(e.clippedSpace.width),l=Ye(e.clippedSpace.fromUnitSpace)(o.position),s=l<=0||l>a,u=s?-1e4:l,d=s?0:1;return _n.default.createElement(SR,{style:{transform:"translateX(".concat(u,"px) scale(").concat(d,")")}},_n.default.createElement(OR,{marker:o,layoutP:e}))},jR=IR,OR=({layoutP:e,marker:t})=>{let n=Ye(e.sheet.address),[o,a]=Qe(null),[l]=ire(a,{sheetAddress:n,markerId:t.id}),[s]=are(a,{layoutP:e,marker:t}),{node:u,toggle:d,close:f}=Zr({debugName:"MarkerPopover"},()=>_n.default.createElement(Yr,null,_n.default.createElement(bR,{marker:t,layoutP:e,onRequestClose:f})));return _n.default.createElement(_n.default.Fragment,null,l,u,_n.default.createElement(CR,L({title:t.label?"Marker: ".concat(t.label):"Marker",ref:o,onClick:m=>{d(m,o.current)}},io.reactProps({isDragging:s,position:t.position}))),_n.default.createElement(_R,null))}}),am,TR,zR,sre=P(()=>{Fe(),Me(),am=$(G()),lre(),TR=({layoutP:e})=>{let t=Ye(e.sheet.address),n=de().atomP.historic.projects.stateByProjectId[t.projectId].stateBySheetId[t.sheetId].sequenceEditor.markerSet,o=Ye(n.allIds);return am.default.createElement(am.default.Fragment,null,o&&Object.keys(o).map(a=>am.default.createElement(jR,{key:a,layoutP:e,markerId:a})))},zR=TR}),DR,Wo,AR,BR,MR,NR,ure=P(()=>{Ho(),Fe(),DR=je,Wo=$(G()),be(),qne(),$ne(),Lne(),nre(),qa(),rre(),sre(),BR=U.div(AR||(AR=F([`
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  z-index: `,`;
  overflow: visible;
  pointer-events: none;
`])),()=>ho.rightOverlay),MR=({layoutP:e})=>Ge(()=>{let t=(0,DR.val)(e.rightDims.width);return Wo.default.createElement(BR,{style:{width:t+"px"}},Wo.default.createElement(cR,{layoutP:e}),Wo.default.createElement(N7,{layoutP:e}),Wo.default.createElement(P7,{layoutP:e}),Wo.default.createElement(QF,{layoutP:e}),Wo.default.createElement(zR,{layoutP:e}),Wo.default.createElement(y7,{layoutP:e}),Wo.default.createElement(hR,{layoutP:e}))},[e]),NR=MR}),FR,lm,RR,UR,VR,KR,cre=P(()=>{FR=je,Fe(),Me(),lm=$(G()),be(),Xl(),Jt(),UR=U.button(RR||(RR=F([`
  outline: none;
  background-color: #1c1d21;
  border: 1px solid #191919;
  border-radius: 2px;
  display: flex;
  bottom: 14px;
  right: 8px;
  z-index: 1;
  position: absolute;

  padding: 4px 8px;
  display: flex;
  color: #656d77;
  line-height: 20px;
  font-size: 10px;

  &:hover {
    color: white;
  }

  & > svg {
    transition: transform 0.3s;
    transform: rotateZ(0deg);
  }

  &:hover > svg {
    transform: rotateZ(-20deg);
  }

  &.open > svg {
    transform: rotateZ(-180deg);
  }

  &.open:hover > svg {
    transform: rotateZ(-160deg);
  }
`]))),VR=({layoutP:e})=>{let t=Ye(e.graphEditorDims.isOpen),n=(0,lm.useCallback)(()=>{let o=(0,FR.val)(e.graphEditorDims.isOpen);de().transaction(({stateEditors:a})=>{a.studio.historic.panels.sequenceEditor.graphEditor.setIsOpen({isOpen:!o})})},[e]);return lm.default.createElement(UR,L({onClick:n,title:"Toggle graph editor",className:t?"open":""},oo("hide")),lm.default.createElement(QQ,null))},KR=VR}),Tr,vt,WR,HR,qR,$R,ho,LR,XR,ZR,GR,YR,QR,JR,eU,tU,Ho=P(()=>{di(),Fe(),EA(),Tr=je,vt=$(G()),be(),_ne(),$h(),Bne(),ure(),ls(),jD(),oA(),Jt(),ra(),Rt(),cre(),Co(),xa(),HR=U(J1)(WR||(WR=F([`
  z-index: `,`;
  box-shadow: 2px 2px 0 rgb(0 0 0 / 11%);
`])),Ul.sequenceEditorPanel),$R=U.div(qR||(qR=F([`
  background-color: rgba(40, 43, 47, 0.99);
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  z-index: -1;
  pointer-events: none;
`]))),ho=(()=>{let e={rightBackground:0,scrollableArea:0,rightOverlay:0,lengthIndicatorCover:0,lengthIndicatorStrip:0,playhead:0,currentFrameStamp:0,marker:0,horizontalScrollbar:0},t=-1;for(let n of Object.keys(e))e[n]=t,t++;return e})(),XR=U(L1)(LR||(LR=F([`
  position: absolute;
  left: 0;
  top: 0;
  z-index: 1;
`]))),ZR={edges:{left:{from:"screenLeft",distance:.1},right:{from:"screenRight",distance:.2},top:{from:"screenBottom",distance:.4},bottom:{from:"screenBottom",distance:.01}}},GR={width:800,height:200},YR=e=>vt.default.createElement($1,{panelId:"sequenceEditor",defaultPosition:ZR,minDims:GR},vt.default.createElement(QR,null)),QR=()=>{let{dims:e}=as(),[t,n]=(0,vt.useState)(null);return qO(t),Ge(()=>{let o=Tr.prism.memo("panelSize",()=>{let g=e.width,h=e.height;return{width:g,height:h,widthWithoutBorder:g-2,heightWithoutBorder:h-4,screenX:e.left,screenY:e.top}},[e]),a=li(ci().filter(g=>Ud(g)||pr(g)).map(g=>pr(g)?g.sheet:g));if(li(a.map(g=>g.template)).length!==1)return vt.default.createElement(vt.default.Fragment,null);let l=a[0];if(!l)return vt.default.createElement(vt.default.Fragment,null);let s=tb("panelSizeP",o).pointer,u=Tr.prism.memo("key",()=>JSON.stringify(l.address),[l]),d=Tr.prism.memo("layout",()=>Ane(l,s),[l,s]).getValue();if((0,Tr.val)(d.tree.children).length===0)return vt.default.createElement(vt.default.Fragment,null);let f=Tr.prism.memo("containerRef",tU,[]),m=(0,Tr.val)(d.graphEditorDims.isAvailable),v=(0,Tr.val)(d.graphEditorDims.isOpen);return vt.default.createElement(HR,{ref:g=>{f(g),g!==t&&n(g)}},vt.default.createElement($R,{style:{width:"".concat((0,Tr.val)(d.leftDims.width),"px")}}),vt.default.createElement(dB,{layoutP:d},vt.default.createElement(JR,{layoutP:d}),vt.default.createElement(vF,{key:u+"-dopeSheet",layoutP:d}),v&&vt.default.createElement(RN,{key:u+"-graphEditor",layoutP:d}),m&&vt.default.createElement(KR,{layoutP:d}),vt.default.createElement(NR,{layoutP:d})))},[e,t])},JR=({layoutP:e})=>Ge(()=>{let t=(0,Tr.val)(e.sheet);return vt.default.createElement(XR,{style:{width:(0,Tr.val)(e.leftDims.width)}},vt.default.createElement(ey,null,vt.default.createElement(ui,null,t.address.sheetId," "),vt.default.createElement(Du,null,":"," "),vt.default.createElement(ui,null,t.address.sheetInstanceId," "),vt.default.createElement(Du,null," ",">"," "),vt.default.createElement(ui,null,"Sequence")))},[e]),eU=YR,tU=()=>{let e=null,t={passive:!1,capture:!1},n=o=>{Math.abs(o.deltaY)<Math.abs(o.deltaX)&&(o.preventDefault(),o.stopPropagation())};return o=>{e!==o&&e&&e.removeEventListener("wheel",n,t),e=o,o&&o.addEventListener("wheel",n,t)}}}),Ga,nU,rU,dre=P(()=>{pQ(),W1(),Ga=$(G()),Me(),Fe(),Cee(),Ho(),nU=()=>{let e=Ye(de().paneManager.allPanesD),t=Object.entries(e).map(([n,o])=>Ga.default.createElement(SA,{key:"pane-".concat(n),paneInstance:o}));return Ga.default.createElement(Ga.default.Fragment,null,t,Ga.default.createElement(fj,null),Ga.default.createElement(ED,null),Ga.default.createElement(eU,null))},rU=nU}),oU,iU,aU,fre=P(()=>{be(),Kp(),iU=U(rs)(oU||(oU=F([`
  --popover-outer-stroke: #e11c1c;
  --popover-inner-stroke: #2c1c1c;
  --popover-bg: #2c1c1c;
  pointer-events: none !important;
`]))),aU=iU}),pre=Ke((e,t)=>{var n,o;n=[],o=[];function a(l,s,u){var d,f,m,v,g,h,b,y;if(l===s)return 0;if(d=l.length,f=s.length,d===0)return f;if(f===0)return d;for(u&&(l=l.toLowerCase(),s=s.toLowerCase()),b=0;b<d;)o[b]=l.charCodeAt(b),n[b]=++b;for(y=0;y<f;)for(m=s.charCodeAt(y),v=g=y++,b=-1;++b<d;)h=m===o[b]?g:g+1,g=n[b],n[b]=v=g>v?h>v?v+1:h:h>g?g+1:h;return v}t.exports=a}),hre=Ke((e,t)=>{var n=pre();function o(){var a,l,s,u,d,f=0,m=arguments[0],v=arguments[1],g=v.length,h=arguments[2];h&&(u=h.threshold,d=h.ignoreCase),u===void 0&&(u=0);for(var b=0;b<g;++b)d?l=n(m,v[b],!0):l=n(m,v[b]),l>m.length?a=1-l/v[b].length:a=1-l/m.length,a>f&&(f=a,s=v[b]);return f>=u?s:null}t.exports=o});function mre(e,t,n="Did you mean ",o="?"){let a=(0,lU.default)(e,t,{threshold:.7});return a?n+JSON.stringify(a)+o:""}var lU,gre=P(()=>{lU=$(hre())});function sU(e,t){return e.length<=t?e:e.substr(0,t-3)+"..."}var vre=P(()=>{}),uU,Ak,cU=P(()=>{vre(),uU=e=>typeof e=="string"?'string("'.concat(sU(e,10),'")'):typeof e=="number"?"number(".concat(sU(String(e),10),")"):e===null?"null":e===void 0?"undefined":typeof e=="boolean"?String(e):Array.isArray(e)?"array":typeof e=="object"?"object":"unknown",Ak=uU}),dU,fU,Bk,pU=P(()=>{be(),va(),fU=U(XI)(dU||(dU=F([`
  display: flex;
  height: fit-content;
  backdrop-filter: blur(14px);
  border-radius: 2px;
`]))),Bk=fU}),ks,hU,mU,gU,ws,Kc=P(()=>{be(),rt(),ks=$(G()),cc(),np(),Ez(),pU(),mU=U.button(hU||(hU=F([`
  `,`;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
  font-weight: 600;
  width: 32px;
  height: 32px;
  outline: none;

  color: #a8a8a9;

  background: rgba(40, 43, 47, 0.8);
  backdrop-filter: blur(14px);
  border: none;
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 2px;

  svg {
    display: block;
  }

  &:hover {
    background: rgba(59, 63, 69, 0.8);
  }

  &:active {
    background: rgba(82, 88, 96, 0.8);
  }

  &.selected {
    color: rgba(255, 255, 255, 0.8);
    border-bottom: 1px solid rgba(255, 255, 255, 0.7);
  }

  // Don't blur if in a button group, because it already blurs. We need to blur
  // on the group-level, otherwise we get seams.
  `,` > & {
    backdrop-filter: none;
    filter: none;
    border-radius: 0;

    &:first-child {
      border-top-left-radius: 2px;
      border-bottom-left-radius: 2px;
    }

    &:last-child {
      border-bottom-right-radius: 2px;
      border-top-right-radius: 2px;
    }
  }

  @supports not (backdrop-filter: blur()) {
    background: rgba(40, 43, 47, 0.95);
  }
`])),tt,Bk),gU=ks.default.forwardRef((e,t)=>{var n=e,{title:o}=n,a=Js(n,["title"]);let[l,s]=ns({enabled:typeof o=="string"},()=>ks.default.createElement(A1,null,o));return ks.default.createElement(ks.default.Fragment,null,l,ks.default.createElement(mU,L({ref:tp([s,t])},a))," ")}),ws=gU}),vU,yU,bU,kU,wU,yre=P(()=>{vU=$(G()),Kc(),be(),rt(),bU=U(ws)(yU||(yU=F([`
  `,`;
  & > svg {
    width: 1em;
    height: 1em;
    pointer-events: none;
  }
`])),tt),kU=({config:e,testId:t})=>{var n;return vU.default.createElement(bU,{onClick:e.onClick,"data-testid":t,title:e.title,dangerouslySetInnerHTML:{__html:(n=e.svgSource)!=null?n:""}})},wU=kU});function bre({value:e,label:t,icon:n,onClick:o,isSelected:a}){return xs.default.createElement(xs.default.Fragment,null,xs.default.createElement(ws,{forwardedAs:qI,className:a?"selected":void 0,"aria-label":t,onClick:o,title:t},n))}var xs,xU,SU,kre=P(()=>{xs=$(G()),va(),Kc(),pU(),xU=({value:e,onChange:t,options:n})=>xs.default.createElement(Bk,null,n.map(({label:o,icon:a,value:l})=>xs.default.createElement(bre,{key:l,value:l,isSelected:e===l,label:o,icon:a,onClick:()=>t(l)}))),SU=xU}),Mk,EU,_U,PU,CU,wre=P(()=>{Mk=$(G()),be(),rt(),kre(),_U=U.div(EU||(EU=F([`
  `,`;
  & > svg {
    width: 1em;
    height: 1em;
    pointer-events: none;
  }
`])),tt),PU=({config:e})=>Mk.default.createElement(SU,{onChange:e.onChange,options:e.options.map(({label:t,value:n,svgSource:o})=>({label:t,value:n,icon:Mk.default.createElement(_U,{dangerouslySetInnerHTML:{__html:o}})})),value:e.value}),CU=PU}),Wc,IU,jU,OU,TU,xre=P(()=>{Wc=$(G()),be(),rt(),Kc(),BO(),Gr(),jU=U.div(IU||(IU=F([`
  `,`;
  & > svg {
    width: 1em;
    height: 1em;
    pointer-events: none;
  }
`])),tt),OU=({config:e})=>{let t=(0,Wc.useRef)(null),n=Zr(()=>{let o=t.current.getBoundingClientRect();return{debugName:"ExtensionFlyoutMenu:"+e.label,constraints:{maxX:o.right,maxY:8,minX:o.left,minY:8},verticalGap:2}},()=>Wc.default.createElement(u1,{items:e.items.map((o,a)=>({label:o.label,callback:()=>{var l;try{(l=o.onClick)==null||l.call(o)}catch(s){console.error(s)}}})),onRequestClose:()=>{n.close("clicked")}}));return Wc.default.createElement(jU,null,n.node,Wc.default.createElement(ws,{ref:t,onClick:o=>{n.open(o,t.current)}},e.label))},TU=OU});function Sre(e){return Nk[e]}var Hc,zU,Nk,DU,AU,Ere=P(()=>{gre(),cU(),Hc=$(G()),yre(),wre(),xre(),zU=e=>Hc.default.createElement(Hc.default.Fragment,null,e.config.map((t,n)=>Hc.default.createElement(DU,{config:t,key:n}))),Nk={Icon:wU,Switch:CU,Flyout:TU},DU=({config:e})=>{let t=Sre(e.type);if(!t)throw new Error("No tool with tool.type ".concat(Ak(e.type)," exists. Did you mean ").concat(mre(e.type,Object.keys(Nk))));return Hc.default.createElement(t,{config:e})},AU=zU}),BU,mo,MU,NU,FU,Fk,RU,UU,Rk,VU=P(()=>{BU=je,Fe(),Me(),mo=$(G()),be(),Ere(),NU=U.div(MU||(MU=F([`
  height: 36px;
  /* pointer-events: none; */

  display: flex;
  gap: 0.5rem;
  justify-content: center;
`]))),Fk=U.div(FU||(FU=F([`
  position: abolute;
  height: 32px;
  width: 1px;
  background: #373b40;
  opacity: 0.4;
`]))),RU=({extension:e,toolbarId:t})=>{var n;let o=(0,mo.useMemo)(()=>new BU.Atom([]),[]),a=(n=e.toolbars)==null?void 0:n[t];(0,mo.useLayoutEffect)(()=>{let s=a==null?void 0:a(o.set.bind(o),de().publicApi);if(typeof s=="function")return s},[e,t,a]);let l=Ye(o.prism);return mo.default.createElement(AU,{config:l})},UU=({toolbarId:e,showLeftDivider:t})=>{var n;let o=[],a=Ye(de().atomP.ephemeral.extensions.byId),l=!1;for(let[,s]of Object.entries(a))!s||!((n=s.toolbars)!=null&&n[e])||(o.push(mo.default.createElement(mo.default.Fragment,{key:"extensionToolbar-"+s.id},l?mo.default.createElement(Fk,null):void 0,mo.default.createElement(RU,{extension:s,toolbarId:e}))),l=!0);return o.length===0?null:mo.default.createElement(NU,{"data-testid":"theatre-extensionToolbar-".concat(e)},t?mo.default.createElement(Fk,null):void 0,o)},Rk=UU}),qc,KU,WU,HU,sm,_re=P(()=>{be(),qc=$(G()),Kc(),WU=U(ws)(KU||(KU=F([`
  color: `,`;

  border-bottom: 1px solid
    `,`;
`])),({pinned:e})=>e?"rgba(255, 255, 255, 0.8)":"#A8A8A9",({pinned:e})=>e?"rgba(255, 255, 255, 0.7)":"rgba(255, 255, 255, 0.08)"),HU=(0,qc.forwardRef)((e,t)=>{var n=e,{children:o,hint:a,pinned:l,icon:s,pinHintIcon:u,unpinHintIcon:d}=n,f=Js(n,["children","hint","pinned","icon","pinHintIcon","unpinHintIcon"]);let[m,v]=(0,qc.useState)(!1),g=m||a;return qc.default.createElement(WU,he(L({},f),{pinned:l,ref:t,onMouseOver:()=>v(!0),onMouseOut:()=>v(!1)}),qc.default.createElement("div",{style:{pointerEvents:"none",width:"fit-content",height:"fit-content",inset:0}},g&&!l?u:g&&l?d:s),o)}),sm=HU});function Pre(e){return Uk.createElement("svg",L({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Uk.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.732 4.048l-.792-.792L7.2 8l4.74 4.744.792-.792L8.781 8l3.951-3.952zm-3.932 0l-.792-.792L3.268 8l4.74 4.744.792-.792L4.848 8 8.8 4.048z",fill:"currentColor"}))}var Uk,Vk,Cre=P(()=>{Uk=$(G()),Vk=Pre});function Ire(e){return Kk.createElement("svg",L({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Kk.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.694 3.765l.792-.792 4.74 4.744-4.74 4.744-.792-.793 3.951-3.951-3.951-3.952zm3.932 0l.792-.792 4.74 4.744-4.74 4.744-.792-.793 3.952-3.951-3.952-3.952z",fill:"currentColor"}))}var Kk,Wk,jre=P(()=>{Kk=$(G()),Wk=Ire}),Mt,qU,$U,LU,Hk,XU,Ai,ZU,GU,YU,QU,JU,eV,tV,nV,rV,um,oV,iV,qk,$k,aV,lV,Ore=P(()=>{Fe(),Me(),Mt=$(G()),be(),$U=U.div(qU||(qU=F([`
  width: 138px;
  border-radius: 2px;
  background-color: rgba(42, 45, 50, 0.9);
  position: absolute;
  display: flex;
  flex-direction: column;
  align-items: stretch;
  justify-content: flex-start;
  box-shadow: 0px 1px 1px rgba(0, 0, 0, 0.25), 0px 2px 6px rgba(0, 0, 0, 0.15);
  backdrop-filter: blur(14px);
  pointer-events: auto;
  // makes the edges of the item highlights match the rounded corners
  overflow: hidden;

  @supports not (backdrop-filter: blur()) {
    background-color: rgba(42, 45, 50, 0.98);
  }

  color: rgba(255, 255, 255, 0.9);

  & a {
    // Fix colors of links to not be default
    color: inherit;
  }
`]))),Hk=U.div(LU||(LU=F([`
  position: relative;
  padding: 0px 12px;
  font-weight: 400;
  font-size: 11px;
  height: 32px;
  text-decoration: none;
  user-select: none;
  display: flex;
  flex-direction: row;
  align-items: center;
  cursor: default;
`]))),Ai=U(Hk)(XU||(XU=F([`
  &:before {
    position: absolute;
    display: block;
    content: ' ';
    inset: 3px;
    border-radius: 3px;
    background: rgba(255, 255, 255, 0.1);
    opacity: 0;
  }

  &.secondary {
    color: rgba(255, 255, 255, 0.5);
  }

  &:hover {
    /* background-color: #398995; */
    color: white !important;
    &:before {
      opacity: 1;
    }
  }
`]))),GU=U(Hk)(ZU||(ZU=F([`
  height: auto;
  min-height: 32px;
  padding-top: 12px;
  padding-bottom: 10px;
  flex-direction: column;
  justify-content: flex-start;
  align-items: stretch;
  gap: 8px;
  color: rgba(255, 255, 255, 0.5);
`]))),QU=U.div(YU||(YU=F([`
  font-weight: 600;
`]))),eV=U.div(JU||(JU=F([`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
`]))),nV=U.div(tV||(tV=F([`
  margin-left: 2px;
`]))),um=U.div(rV||(rV=F([`
  height: 1px;
  margin: 0 2px;
  background: rgba(255, 255, 255, 0.02);
`]))),iV=U.div(oV||(oV=F([`
  position: absolute;
  width: 8px;
  height: 8px;
  background: #40aaa4;
  right: 14px;
  top: 12px;
  border-radius: 50%;
`]))),qk="0.7.0",$k=qk.match(/^[^\-]+/)[0],aV=Mt.default.forwardRef((e,t)=>{let n=Ye(de().atomP.ahistoric.updateChecker.result.hasUpdates);return Mt.default.createElement($U,{ref:t},Mt.default.createElement(Ai,{as:"a",href:"https://www.theatrejs.com/docs/latest",className:"",target:"_blank"},"Docs"),Mt.default.createElement(Ai,{as:"a",href:"https://www.theatrejs.com/docs/latest/releases",className:"",target:"_blank"},"Changelog"),Mt.default.createElement(um,null),Mt.default.createElement(Ai,{as:"a",href:"https://github.com/theatre-js/theatre",className:"",target:"_blank"},"Github"),Mt.default.createElement(Ai,{as:"a",href:"https://twitter.com/theatre_js",className:"",target:"_blank"},"Twitter"),Mt.default.createElement(Ai,{className:"",as:"a",href:"https://discord.gg/bm9f8F9Y9N",target:"_blank"},"Discord"),Mt.default.createElement(um,null),Mt.default.createElement(GU,null,Mt.default.createElement(QU,null,"Version"),Mt.default.createElement(eV,null,Mt.default.createElement(nV,null,qk," ",n===!0?"(outdated)":n===!1?"(latest)":""))),n===!0&&Mt.default.createElement(Mt.default.Fragment,null,Mt.default.createElement(um,null),Mt.default.createElement(Ai,{as:"a",href:"https://www.theatrejs.com/docs/latest/releases".concat(encodeURIComponent($k)),className:"",target:"_blank"},"Update",Mt.default.createElement(iV,null)),Mt.default.createElement(Ai,{as:"a",href:"https://www.theatrejs.com/docs/latest/releases#".concat(encodeURIComponent($k)),className:"",target:"_blank"},"What's new?")))}),lV=aV}),st,sV,uV,cV,dV,fV,pV,Lk,hV,Xk,mV,Zk,gV,vV,Tre=P(()=>{Fe(),Me(),st=$(G()),be(),cc(),fre(),Kp(),sV=je,VU(),_re(),Au(),Cre(),jre(),Kc(),Gr(),Ore(),bc(),cV=U.div(uV||(uV=F([`
  height: 36px;
  pointer-events: none;

  display: flex;
  justify-content: space-between;
  padding: 12px;
`]))),fV=U.div(dV||(dV=F([`
  color: white;
  width: 14px;
  height: 14px;
  background: #d00;
  border-radius: 4px;
  text-align: center;
  line-height: 14px;
  font-weight: 600;
  font-size: 8px;
  position: relative;
  left: -6px;
  top: -11px;
  margin-right: -14px;
  box-shadow: 0 4px 6px -4px #00000059;
`]))),Lk=U.div(pV||(pV=F([`
  display: flex;
  gap: 8px;
`]))),Xk=U.div(hV||(hV=F([`
  position: absolute;
  background: `,`;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  right: -2px;
  top: -2px;
`])),({type:e})=>e==="info"?"#40aaa4":"#f59e0b"),U.div(mV||(mV=F([`
  position: absolute;
  height: 32px;
  width: 1px;
  background: #373b40;
  opacity: 0.4;
`]))),Zk=!1,gV=()=>{var e,t,n;let o=Ge(()=>{let y=(0,sV.val)(de().atomP.ephemeral.coreByProject);return Object.entries(y).map(([k,x])=>({projectId:k,state:x})).filter(({state:k})=>k.loadingState.type==="browserStateIsNotBasedOnDiskState")},[]),[a,l]=ns({enabled:o.length>0,enterDelay:o.length>0?0:200},()=>o.length>0?st.default.createElement(aU,null,o.length===1?'There is a state conflict in project "'.concat(o[0].projectId,'". Select the project in the outline below in order to fix it.'):"There are ".concat(o.length," projects that have state conflicts. They are highlighted in the outline below. ")):st.default.createElement(rs,null,st.default.createElement(st.default.Fragment,null,"Outline"))),s=(e=Ye(de().atomP.ahistoric.pinOutline))!=null?e:!0,u=(t=Ye(de().atomP.ahistoric.pinDetails))!=null?t:!0,d=Ye(de().atomP.ahistoric.updateChecker.result.hasUpdates)===!0,f=Zr(()=>{let y=m.current.getBoundingClientRect();return{debugName:"More Menu",constraints:{maxX:y.right,maxY:8,minX:y.left-140,minY:8},verticalGap:2}},()=>st.default.createElement(lV,null)),m=(0,st.useRef)(null),v=(0,st.useMemo)(()=>(window.__IS_VISUAL_REGRESSION_TESTING&&(Zk||(Zk=!0,console.warn("Visual regression testing enabled, so we're showing the updates badge unconditionally"))),d||window.__IS_VISUAL_REGRESSION_TESTING?!0:d),[d]),{hasNotifications:g}=N1(),[h,b]=$z();return st.default.createElement(cV,null,st.default.createElement(Lk,null,a,st.default.createElement(sm,{ref:l,"data-testid":"OutlinePanel-TriggerButton",onClick:()=>{de().transaction(({stateEditors:y,drafts:k})=>{var x;y.studio.ahistoric.setPinOutline(!((x=k.ahistoric.pinOutline)==null||x))})},icon:st.default.createElement(ny,null),pinHintIcon:st.default.createElement(Wk,null),unpinHintIcon:st.default.createElement(Vk,null),pinned:s}),o.length>0?st.default.createElement(fV,null,o.length):null,st.default.createElement(Rk,{showLeftDivider:!0,toolbarId:"global"})),st.default.createElement(Lk,null,h,st.default.createElement(sm,{ref:b,onClick:()=>{de().transaction(({stateEditors:y,drafts:k})=>{var x;y.studio.ahistoric.setPinNotifications(!((x=k.ahistoric.pinNotifications)!=null&&x))})},icon:st.default.createElement(Gf,null),pinHintIcon:st.default.createElement(Gf,null),unpinHintIcon:st.default.createElement(Gf,null),pinned:(n=Ye(de().atomP.ahistoric.pinNotifications))!=null?n:!1},g&&st.default.createElement(Xk,{type:"warning"})),f.node,st.default.createElement(ws,{ref:m,onClick:y=>{f.toggle(y,m.current)}},st.default.createElement(d3,null),v&&st.default.createElement(Xk,{type:"info"})),st.default.createElement(sm,{ref:l,onClick:()=>{de().transaction(({stateEditors:y,drafts:k})=>{var x;y.studio.ahistoric.setPinDetails(!((x=k.ahistoric.pinDetails)==null||x))})},icon:st.default.createElement(c3,null),pinHintIcon:st.default.createElement(Vk,null),unpinHintIcon:st.default.createElement(Wk,null),pinned:u})))},vV=gV}),yV,$c,bV,Lc,kV,wV,xV,SV,EV=P(()=>{yV=je,Fe(),$c=$(G()),bV=$(So()),Lc=new yV.Atom({set:{},byId:{}}),kV=1,wV=()=>{let e=kV++;function t(o,a,l){Lc.reduce(s=>({byId:he(L({},s.byId),{[e]:{comp:o,props:a,portalNode:l}}),set:he(L({},s.set),{[e]:!0})}))}function n(){Lc.reduce(o=>{let a=L({},o.set),l=L({},o.byId);return delete a[e],{byId:l,set:a}})}return{mountOrRender:t,unmount:n}},xV=()=>{let e=Object.keys(Ye(Lc.pointer.set));return $c.default.createElement($c.default.Fragment,null,e.map(t=>$c.default.createElement(SV,{key:"id-"+t,id:t})))},SV=({id:e})=>{let{comp:t,portalNode:n,props:o}=Ye(Lc.pointer.byId[e]);return(0,bV.createPortal)($c.default.createElement(t,L({},o)),n)}});function zre(e){let t=de(),[n,o]=Qe(void 0),a=yF();a.configureLogging({min:128,dev:Yk,internal:Yk});let l=a.getLogger().named("Theatre.js UIRoot");ere();let s=Ye(t.atomP.ahistoric.visibilityState);return(0,nn.useEffect)(()=>(s==="everythingIsHidden"&&console.warn("Theatre.js Studio is hidden. Use the keyboard shortcut 'alt + \\' to restore the studio, or call studio.ui.restore()."),()=>{}),[s]),Ge(()=>{let u=(0,Gk.val)(t.atomP.ahistoric.visibilityState);return(0,Gk.val)(t.atomP.ephemeral.initialised)?nn.default.createElement(Ij,{logger:l},nn.default.createElement(OT,null,nn.default.createElement(yQ,null,nn.default.createElement(OV,null),nn.default.createElement(Fl.Provider,{value:o},nn.default.createElement(Jv,{target:window.__IS_VISUAL_REGRESSION_TESTING===!0?void 0:e.containerShadow},nn.default.createElement(nn.default.Fragment,null,nn.default.createElement(PV,null),nn.default.createElement(IV,{className:u==="everythingIsHidden"?"invisible":""},nn.default.createElement(Qv,{ref:n}),nn.default.createElement(vV,null),nn.default.createElement(rU,null),nn.default.createElement(Lz,null)))))))):null},[t,n,o])}var Gk,nn,_V,PV,CV,IV,jV,Yk,OV,Dre=P(()=>{Me(),Fe(),Gk=je,nn=$(G()),be(),dre(),Tre(),nt(),va(),Ok(),Un(),TT(),Ey(),EV(),rt(),Zh(),pi(),bc(),PV=typeof window<"u"?hC(_V||(_V=F([`
  :host {
    contain: strict;
  }
`]))):{},IV=U(Cj)(CV||(CV=F([`
  z-index: 50;
  position: fixed;
  inset: 0;

  &.invisible {
    pointer-events: none !important;
    opacity: 0;
    transform: translateX(1000000px);
  }
`]))),Yk=/Playground.+Theatre\.js/.test((jV=typeof document<"u"?document==null?void 0:document.title:null)!=null?jV:""),OV=()=>nn.default.createElement(xV,null)}),Are=Ke(e=>{var t=So();e.createRoot=t.createRoot,e.hydrateRoot=t.hydrateRoot}),TV={};p2(TV,{default:()=>AV});var zV,DV,AV,Bre=P(()=>{Dre(),zV=$(G()),DV=$(Are()),EV(),rt(),VU(),AV=class{constructor(){et(this,"containerEl",document.createElement("div")),et(this,"_renderTimeout"),et(this,"_documentBodyUIIsRenderedIn"),et(this,"containerShadow"),this.containerEl.id="theatrejs-studio-root",this.containerEl.style.cssText=`
      position: fixed;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      pointer-events: none;
      z-index: 100;
    `;let e=()=>{if(window.__IS_VISUAL_REGRESSION_TESTING===!0){let t=document.createElement("div");return t.id="theatrejs-faux-shadow-root",document.body.appendChild(t),t}else return this.containerEl.attachShadow({mode:"open"})};this.containerShadow=e()}render(){let e=()=>{if(!document.body){this._renderTimeout=setTimeout(e,5);return}this._renderTimeout=void 0,this._documentBodyUIIsRenderedIn=document.body,this._documentBodyUIIsRenderedIn.appendChild(this.containerEl),DV.default.createRoot(this.containerShadow).render(zV.default.createElement(zre,{containerShadow:this.containerShadow}))};this._renderTimeout=setTimeout(e,10)}renderToolset(e,t){let n=wV();return n.mountOrRender(UY(Rk),{toolbarId:e},t),n.unmount}}}),Mre=Ke(e=>{e.compare=a,e.reduce=l;var t,n,o;e.REMOVE=t=-1,e.ADD=n=1,e.EQUAL=o=0;function a(m,v){var g=m.length,h=v.length,b=s(m,v),y=b<g&&b<h?u(m,v):0,k=y+b-1;g-=k,h-=k;for(var x=f(g,h),S=g-1;S>=0;--S)for(var _=h-1;_>=0;--_)x[_][S]=d(x,m,v,b,S,_);return{prefix:b,matrix:x,suffix:y}}function l(m,v,g){var h,b,y,k,x=g.matrix,S=g.prefix;for(h=0;h<S;++h)v=m(v,o,h,h);for(y=h,S=x.length,h=0,b=0;h<S;)switch(k=x[h][b].type,v=m(v,k,h+y,b+y),k){case o:++h,++b;break;case t:++b;break;case n:++h;break}for(h+=y,b+=y,S=g.suffix,y=0;y<S;++y)v=m(v,o,h+y,b+y);return v}function s(m,v){for(var g=0,h=Math.min(m.length,v.length);g<h&&m[g]===v[g];)++g;return g}function u(m,v){for(var g=m.length-1,h=v.length-1,b=Math.min(g,h),y=0;y<b&&m[g-y]===v[h-y];)++y;return y}function d(m,v,g,h,b,y){return v[b+h]===g[y+h]?{value:m[y+1][b+1].value,type:o}:m[y][b+1].value<m[y+1][b].value?{value:m[y][b+1].value+1,type:t}:{value:m[y+1][b].value+1,type:n}}function f(m,v){var g=[],h,b,y;for(y=g[v]=[],b=0;b<m;++b)y[b]={value:m-b,type:t};for(h=0;h<v;++h)g[h]=[],g[h][m]={value:v-h,type:n};return g[v][m]={value:0,type:o},g}}),BV=Ke(e=>{e.cons=t,e.tail=n,e.map=o;function t(a,l){var s=l.length,u=new Array(s+1);u[0]=a;for(var d=0;d<s;++d)u[d+1]=l[d];return u}function n(a){for(var l=a.length-1,s=new Array(l),u=0;u<l;++u)s[u]=a[u+1];return s}function o(a,l){for(var s=new Array(l.length),u=0;u<l.length;++u)s[u]=a(l[u]);return s}}),Nre=Ke((e,t)=>{t.exports=s;var n=/\/|~1|~0/g,o="/",a="~",l="~1";function s(u,d){var f,m,v,g;for(f=u.charAt(0)===o?1:0,m="",n.lastIndex=f;v=n.exec(u);)if(g=v[0],m+=u.slice(f,n.lastIndex-g.length),f=n.lastIndex,g===o){if(d(m)===!1)return u;m=""}else m+=g===l?o:a;return m+=u.slice(f),d(m),u}}),Qk=Ke(e=>{var t=Nre();e.find=m,e.join=g,e.absolute=v,e.parse=h,e.contains=b,e.encodeSegment=k,e.decodeSegment=y,e.parseArrayIndex=_,e.isValidArrayIndex=S;var n="/",o=/\//g,a="~1",l=/~1/g,s="~",u=/~/g,d="~0",f=/~0/g;function m(j,z,K,M){if(typeof z=="string"){if(z==="")return{target:j,key:void 0};if(z===n)return{target:j,key:""};var N=j,Z,le=M!==void 0;return t(z,function(D){if(j==null)return N=null,!1;Array.isArray(j)?Z=le?O(K,_(D),j,M):D==="-"?D:_(D):Z=D,N=j,j=j[Z]}),N===null?void 0:{target:N,key:Z}}}function v(j){return j[0]===n?j:n+j}function g(j){return j.join(n)}function h(j){var z=[];return t(j,z.push.bind(z)),z}function b(j,z){return z.indexOf(j)===0&&z[j.length]===n}function y(j){return j.replace(l,n).replace(f,s)}function k(j){return j.replace(u,d).replace(o,a)}var x=/^(0|[1-9]\d*)$/;function S(j){return x.test(j)}function _(j){if(S(j))return+j;throw new SyntaxError("invalid array index "+j)}function O(j,z,K,M){var N=z;if(N<0)throw new Error("array index out of bounds "+N);if(M!==void 0&&typeof j=="function"&&(N=j(z,K,M),N<0))throw new Error("could not find patch context "+M);return N}}),MV=Ke((e,t)=>{t.exports=n;function n(l){return l==null||typeof l!="object"?l:Array.isArray(l)?o(l):a(l)}function o(l){for(var s=l.length,u=new Array(s),d=0;d<s;++d)u[d]=n(l[d]);return u}function a(l){for(var s=Object.keys(l),u={},d,f=0,m=s.length;f<m;++f)d=s[f],u[d]=n(l[d]);return u}}),Fre=Ke((e,t)=>{t.exports=n;function n(l,s){return l===s?!0:Array.isArray(l)&&Array.isArray(s)?o(l,s):typeof l=="object"&&typeof s=="object"?a(l,s):!1}function o(l,s){if(l.length!==s.length)return!1;for(var u=0;u<l.length;++u)if(!n(l[u],s[u]))return!1;return!0}function a(l,s){if(l===null&&s!==null||l!==null&&s===null)return!1;var u=Object.keys(l),d=Object.keys(s);if(u.length!==d.length)return!1;for(var f=0,m;f<u.length;++f)if(m=u[f],!(m in s&&n(l[m],s[m])))return!1;return!0}}),Rre=Ke((e,t)=>{var n=Qk();t.exports=function(m,v){var g=n.parse(m.path),h=n.parse(v.path),b=d(g,h),y=l(g,h,b.length),k=f(m),x=f(v);return b.length===0&&!y?[x,k]:y?a(k,g,x,h):o(k,g,x)};function o(m,v,g,h){if(m.path===g.path)throw new TypeError("cannot commute "+m.op+","+g.op+" with identical object paths");return[g,m]}function a(m,v,g,h){return v.length===h.length?s(m,v,g,h):(v.length>h.length?(v=u(g,h,m,v,-1),m.path=n.absolute(n.join(v))):(h=u(m,v,g,h,1),g.path=n.absolute(n.join(h))),[g,m])}function l(m,v,g){return n.isValidArrayIndex(m[g])&&n.isValidArrayIndex(v[g])}function s(m,v,g,h){var b=v.length-1,y=+v[b],k=+h[b],x;return y<k?m.op==="add"||m.op==="copy"?(x=h.slice(),x[b]=Math.max(0,k-1),g.path=n.absolute(n.join(x))):m.op==="remove"&&(x=h.slice(),x[b]=k+1,g.path=n.absolute(n.join(x))):g.op==="add"||g.op==="copy"?(x=v.slice(),x[b]=y+1,m.path=n.absolute(n.join(x))):y>k&&g.op==="remove"&&(x=v.slice(),x[b]=Math.max(0,y-1),m.path=n.absolute(n.join(x))),[g,m]}function u(m,v,g,h,b){var y=v.length-1,k=+v[y],x=+h[y],S=h.slice();return k>x||(m.op==="add"||m.op==="copy"?S[y]=Math.max(0,x-b):m.op==="remove"&&(S[y]=Math.max(0,x+b))),S}function d(m,v){var g=m.length,h=v.length;if(g===0||h===0||g<2&&h<2)return[];for(var b=g===h?g-1:Math.min(g,h),y=0;y<b&&m[y]===v[y];)++y;return m.slice(0,y)}function f(m){return m.op==="remove"?{op:m.op,path:m.path}:m.op==="copy"||m.op==="move"?{op:m.op,path:m.path,from:m.from}:{op:m.op,path:m.path,value:m.value}}}),NV=Ke((e,t)=>{t.exports=n;function n(o){Error.call(this),this.name=this.constructor.name,this.message=o,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}n.prototype=Object.create(Error.prototype),n.prototype.constructor=n}),Jk=Ke((e,t)=>{t.exports=n;function n(o){Error.call(this),this.name=this.constructor.name,this.message=o,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}n.prototype=Object.create(Error.prototype),n.prototype.constructor=n}),FV=Ke((e,t)=>{t.exports=n;function n(o){Error.call(this),this.name=this.constructor.name,this.message=o,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}n.prototype=Object.create(Error.prototype),n.prototype.constructor=n}),RV=Ke(e=>{var t=Qk(),n=MV(),o=Fre(),a=Rre(),l=BV(),s=NV(),u=Jk(),d=FV(),f=t.find,m=t.parseArrayIndex;e.test={apply:v,inverse:g,commute:h},e.add={apply:b,inverse:k,commute:x},e.remove={apply:j,inverse:K,commute:M},e.replace={apply:S,inverse:_,commute:O},e.move={apply:N,inverse:Z,commute:le},e.copy={apply:D,inverse:X,commute:x};function v(H,q,ee){var ge=f(H,q.path,ee.findContext,q.context),A=ge.target,B,re;if(Array.isArray(A)?(B=m(ge.key),re=A[B]):re=ge.key===void 0?ge.target:ge.target[ge.key],!o(re,q.value))throw new s("test failed "+JSON.stringify(q));return H}function g(H,q){return H.push(q),1}function h(H,q){if(H.path===q.path&&q.op==="remove")throw new TypeError("Can't commute test,remove -> remove,test for same path");return q.op==="test"||q.op==="replace"?[q,H]:a(H,q)}function b(H,q,ee){var ge=f(H,q.path,ee.findContext,q.context);if(C(ge))throw new u("path does not exist "+q.path);if(q.value===void 0)throw new u("missing value");var A=n(q.value);return ge.key===void 0?A:(y(ge,A),H)}function y(H,q){var ee=H.target;if(Array.isArray(ee))if(H.key==="-")ee.push(q);else{if(H.key>ee.length)throw new u("target of add outside of array bounds");ee.splice(H.key,0,q)}else if(xe(ee))ee[H.key]=q;else throw new u("target of add must be an object or array "+H.key)}function k(H,q){var ee=q.context;return ee!==void 0&&(ee={before:ee.before,after:l.cons(q.value,ee.after)}),H.push({op:"test",path:q.path,value:q.value,context:ee}),H.push({op:"remove",path:q.path,context:ee}),1}function x(H,q){if(H.path===q.path&&q.op==="remove")throw new TypeError("Can't commute add,remove -> remove,add for same path");return a(H,q)}function S(H,q,ee){var ge=f(H,q.path,ee.findContext,q.context);if(C(ge)||Q(ge))throw new u("path does not exist "+q.path);if(q.value===void 0)throw new u("missing value");var A=n(q.value);if(ge.key===void 0)return A;var B=ge.target;return Array.isArray(B)?B[m(ge.key)]=A:B[ge.key]=A,H}function _(H,q,ee,ge){var A=ge[ee-1];if(A===void 0||A.op!=="test"||A.path!==q.path)throw new d("cannot invert replace w/o test");var B=A.context;return B!==void 0&&(B={before:B.before,after:l.cons(A.value,l.tail(B.after))}),H.push({op:"test",path:A.path,value:q.value}),H.push({op:"replace",path:A.path,value:A.value}),2}function O(H,q){if(H.path===q.path&&q.op==="remove")throw new TypeError("Can't commute replace,remove -> remove,replace for same path");return q.op==="test"||q.op==="replace"?[q,H]:a(H,q)}function j(H,q,ee){var ge=f(H,q.path,ee.findContext,q.context);if(C(ge)||ge.target[ge.key]===void 0)throw new u("path does not exist "+q.path);return z(ge),H}function z(H){var q=H.target,ee;if(Array.isArray(q))return ee=q.splice(m(H.key),1),ee[0];if(xe(q))return ee=q[H.key],delete q[H.key],ee;throw new u("target of remove must be an object or array")}function K(H,q,ee,ge){var A=ge[ee-1];if(A===void 0||A.op!=="test"||A.path!==q.path)throw new d("cannot invert remove w/o test");var B=A.context;return B!==void 0&&(B={before:B.before,after:l.tail(B.after)}),H.push({op:"add",path:A.path,value:A.value,context:B}),2}function M(H,q){return H.path===q.path&&q.op==="remove"?[q,H]:a(H,q)}function N(H,q,ee){if(t.contains(q.path,q.from))throw new u("move.from cannot be ancestor of move.path");var ge=f(H,q.path,ee.findContext,q.context),A=f(H,q.from,ee.findContext,q.fromContext);return y(ge,z(A)),H}function Z(H,q){return H.push({op:"move",path:q.from,context:q.fromContext,from:q.path,fromContext:q.context}),1}function le(H,q){if(H.path===q.path&&q.op==="remove")throw new TypeError("Can't commute move,remove -> move,replace for same path");return a(H,q)}function D(H,q,ee){var ge=f(H,q.path,ee.findContext,q.context),A=f(H,q.from,ee.findContext,q.fromContext);if(C(A)||Q(A))throw new u("copy.from must exist");var B=A.target,re;return Array.isArray(B)?re=B[m(A.key)]:re=B[A.key],y(ge,n(re)),H}function X(H,q){throw new d("cannot invert "+q.op)}function C(H){return H===void 0||H.target==null&&H.key!==void 0}function Q(H){return H.key!==void 0&&H.target[H.key]===void 0}function xe(H){return H!==null&&typeof H=="object"}}),Ure=Ke(e=>{var t=RV(),n=MV(),o=Jk();e.apply=l,e.applyInPlace=s,e.clone=n,e.isValidObject=d,e.defaultHash=u;var a={};function l(m,v,g){return s(m,n(v),g)}function s(m,v,g){if(g||(g=a),!Array.isArray(m))return v;for(var h,b,y=0;y<m.length;++y){if(b=m[y],h=t[b.op],h===void 0)throw new o("invalid op "+JSON.stringify(b));v=h.apply(v,b,g)}return v}function u(m){return d(m)||f(m)?JSON.stringify(m):m}function d(m){return m!==null&&Object.prototype.toString.call(m)==="[object Object]"}function f(m){return Object.prototype.toString.call(m)==="[object Array]"}}),Vre=Ke((e,t)=>{var n=RV();t.exports=function(a){var l=[],s,u;for(s=a.length-1;s>=0;s-=u)u=o(l,a[s],s,a);return l};function o(a,l,s,u){var d=n[l.op];return d!==void 0&&typeof d.inverse=="function"?d.inverse(a,l,s,u):1}}),Kre=Ke(e=>{var t=Mre(),n=BV(),o=Ure(),a=Vre(),l=Qk(),s=l.encodeSegment;e.diff=f,e.patch=o.apply,e.patchInPlace=o.applyInPlace,e.inverse=a,e.clone=o.clone,e.InvalidPatchOperationError=Jk(),e.TestFailedError=NV(),e.PatchNotInvertibleError=FV();var u=o.isValidObject,d=o.defaultHash;function f(_,O,j){return v(_,O,"",m(j,[])).patch}function m(_,O){return typeof _=="object"?{patch:O,hash:k(S,_.hash,d),makeContext:k(S,_.makeContext,x),invertible:_.invertible!==!1}:{patch:O,hash:k(S,_,d),makeContext:x,invertible:!0}}function v(_,O,j,z){return Array.isArray(_)&&Array.isArray(O)?h(_,O,j,z):u(_)&&u(O)?g(_,O,j,z):y(_,O,j,z)}function g(_,O,j,z){var K=Object.keys(O),M=z.patch,N,Z;for(N=K.length-1;N>=0;--N){Z=K[N];var le=j+"/"+s(Z);_[Z]!==void 0?v(_[Z],O[Z],le,z):M.push({op:"add",path:le,value:O[Z]})}for(K=Object.keys(_),N=K.length-1;N>=0;--N)if(Z=K[N],O[Z]===void 0){var D=j+"/"+s(Z);z.invertible&&M.push({op:"test",path:D,value:_[Z]}),M.push({op:"remove",path:D})}return z}function h(_,O,j,z){var K=n.map(z.hash,_),M=n.map(z.hash,O),N=t.compare(K,M);return b(_,O,j,z,N)}function b(_,O,j,z,K){var M=0;return t.reduce(function(N,Z,le,D){var X,C,Q=N.patch,xe=j+"/"+(D+M);return Z===t.REMOVE?(X=Q[Q.length-1],C=N.makeContext(D,_),N.invertible&&Q.push({op:"test",path:xe,value:_[D],context:C}),X!==void 0&&X.op==="add"&&X.path===xe?(X.op="replace",X.context=C):Q.push({op:"remove",path:xe,context:C}),M-=1):Z===t.ADD?(Q.push({op:"add",path:xe,value:O[le],context:N.makeContext(D,_)}),M+=1):v(_[D],O[le],xe,N),N},z,K)}function y(_,O,j,z){return _!==O&&(z.invertible&&z.patch.push({op:"test",path:j,value:_}),z.patch.push({op:"replace",path:j,value:O})),z}function k(_,O,j){return _(O)?O:j}function x(){}function S(_){return typeof _=="function"}}),Ya=Ke((e,t)=>{function n(o,a){for(var l=0,s=a.length-1;l<s;l++){if(!o[a[l]])return null;o=o[a[l]]}return o}t.exports=n}),Bi=Ke((e,t)=>{function n(a){return a==="~0"?"~":"/"}function o(a){var l=a.split("/");if(a.indexOf("~")===-1)return l;for(var s=0,u=l.length;s<u;s++)l[s].indexOf("~")!==-1&&(l[s]=l[s].replace(/~[01]/g,n));return l}t.exports=o}),Wre=Ke((e,t)=>{var n=Ya(),o=Bi();function a(l,s){var u=o(s),d=u[u.length-1],f=n(l,u);return f?f[d]:void 0}t.exports=a}),cm=Ke((e,t)=>{function n(o,a){if(o===a)return!0;if(!(o&&a)||typeof o!="object"||typeof a!="object"||o.length!==a.length)return!1;if(Array.isArray(o)){if(!Array.isArray(a))return!1;for(var l=0,s=o.length;l<s;l++)if(!n(o[l],a[l]))return!1;return!0}var u=Object.keys(o);if(u.length!==Object.keys(a).length)return!1;for(var d=0,f=u.length;d<f;d++){var m=u[d];if(!n(o[m],a[m]))return!1}return!0}t.exports=n}),dm=Ke((e,t)=>{function n(o,a){if(a==="-")return o.length;for(var l=0,s=a.length;l<s;l++){var u=a.charCodeAt(l);if(57<u||u<48)return 1/0}return+a}t.exports=n}),fm=Ke((e,t)=>{var n=cm(),o=Ya(),a=dm(),l=Bi();function s(u,d,f,m){if(typeof f>"u")return"[op:add] require value, but got undefined";var v=l(d),g=v[v.length-1],h=o(u,v);if(h===null)return"[op:add] path not found: "+d;if(Array.isArray(h)){var b=a(h,g);if(h.length<b)return"[op:add] invalid array index: "+d;m(u,v).splice(b,0,f)}else n(h[g],f)||(m(u,v)[g]=f)}t.exports=s}),UV=Ke((e,t)=>{var n=Ya(),o=dm(),a=Bi();function l(s,u,d){var f=a(u),m=f[f.length-1],v=n(s,f);if(v===null)return"[op:remove] path not found: "+u;if(Array.isArray(v)){var g=o(v,m);if(v.length<=g)return"[op:remove] invalid array index: "+u;d(s,f).splice(g,1)}else delete d(s,f)[m]}t.exports=l}),VV=Ke((e,t)=>{var n=cm(),o=Ya(),a=dm(),l=Bi();function s(u,d,f,m){if(typeof f>"u")return"[op:replace] require value, but got undefined";var v=l(d),g=v[v.length-1],h=o(u,v);if(h===null)return"[op:replace] path not found: "+d;if(Array.isArray(h)){var b=a(h,g);if(h.length<=b)return"[op:replace] invalid array index: "+d;n(h[b],f)||m(u,v).splice(b,1,f)}else n(h[g],f)||(m(u,v)[g]=f)}t.exports=s}),KV=Ke((e,t)=>{var n=fm(),o=Ya(),a=dm(),l=Bi();function s(u,d,f,m){if(f!==d){var v=l(d),g=v[v.length-1],h=o(u,v);if(h===null)return"[op:move] path not found: "+d;var b=void 0;if(Array.isArray(h)){var y=a(h,g);if(h.length<=y)return"[op:move] invalid array index: "+f;b=h[y],m(u,v).splice(y,1)}else b=h[g],delete m(u,v)[g];return n(u,f,b,m)}}t.exports=s}),WV=Ke((e,t)=>{var n=Ya(),o=Bi(),a=fm();function l(s,u,d,f){var m=o(u),v=m[m.length-1],g=n(s,m);return g===null?"[op:copy] path not found: "+u:a(s,d,g[v],f)}t.exports=l}),HV=Ke((e,t)=>{var n=cm(),o=Ya(),a=Bi();function l(s,u,d){var f=a(u),m=f[f.length-1],v=o(s,f);if(v===null)return"[op:test] path not found: "+u;if(!n(v[m],d)){var g=JSON.stringify(v[m]),h=JSON.stringify(d);return"[op:test] not matched: "+g+" "+h}}t.exports=l}),ew=Ke((e,t)=>{function n(o){if(!o||typeof o!="object")return o;if(Array.isArray(o)){for(var a=o.length,l=new Array(a),s=0;s<a;s++)l[s]=o[s];return l}for(var u=Object.keys(o),d={},f=0,m=u.length;f<m;f++){var v=u[f];d[v]=o[v]}return d}t.exports=n}),Hre=Ke((e,t)=>{var n=Wre(),o=fm(),a=UV(),l=VV(),s=KV(),u=WV(),d=HV(),f=cm(),m=ew(),v=Bi();function g(h,b){return{get:function(y){return n(h,y)},add:function(y,k){return o(h,y,k,b)},remove:function(y){return a(h,y,b)},replace:function(y,k){return l(h,y,k,b)},move:function(y,k){return s(h,y,k,b)},copy:function(y,k){return u(h,y,k,b)},test:function(y,k){return d(h,y,k)},deepEqual:f,shallowCopy:m,toKeys:v}}t.exports=g}),qre=Ke((e,t)=>{function n(o,a,l,s){return s.error=l,s.partial?a[""]:o}t.exports=n}),$re=Ke((e,t)=>{function n(o){return!!o}t.exports=n}),Lre=Ke((e,t)=>{function n(o){if(o)throw new TypeError(o)}t.exports=n}),Xre=Ke((e,t)=>{var n=ew();function o(a,l){for(var s=0,u=l.length-1;s<u;s++)a=a[l[s]]=n(a[l[s]]);return a}t.exports=o}),Zre=Ke((e,t)=>{var n=ew();function o(l,s,u){var d=l[s];return u.has(d)||(d=n(d),u.add(d)),d}function a(l,s,u){for(var d=0,f=s.length-1;d<f;d++)l=l[s[d]]=o(l,s[d],u);return l}t.exports=a}),Gre=Ke((e,t)=>{var n=Hre(),o=qre(),a=$re(),l=Lre(),s=Xre(),u=Zre(),d=fm(),f=UV(),m=VV(),v=KV(),g=WV(),h=HV(),b=Set||function(){var k=[];return k.has=function(x){return this.indexOf(x)!==-1},k.add=function(x){this.push(x)},k};function y(k,x,S){if(x.length===0)return k;S=S||{};for(var _=S.strict?l:a,O=x.length===1?s:function(Z){return function(le,D){return u(le,D,Z)}}(new b),j={"":k},z,K=0,M=x.length;K<M;K++){var N=x[K];switch(N.op){case"add":if(_(d(j,""+N.path,N.value,O)))return o(k,j,N,S);break;case"remove":if(_(f(j,""+N.path,O)))return o(k,j,N,S);break;case"replace":if(_(m(j,""+N.path,N.value,O)))return o(k,j,N,S);break;case"move":if(_(v(j,""+N.from,""+N.path,O)))return o(k,j,N,S);break;case"copy":if(_(g(j,""+N.from,""+N.path,O)))return o(k,j,N,S);break;case"test":if(_(h(j,""+N.path,N.value)))return o(k,j,N,S);break;default:if(S.custom&&S.custom[N.op]){if(z=z||n(j,O),_(S.custom[N.op](z,N,K,x)))return o(k,j,N,S)}else return _("[op:"+N.op+"] unknown"),o(k,j,N,S);break}}return j[""]}t.exports=y}),Yre=Ke((e,t)=>{t.exports=Gre()}),Qre=Ke((e,t)=>{(function(n,o){typeof e=="object"&&typeof t=="object"?t.exports=o():typeof e=="object"?e.blobCompare=o():n.blobCompare=o()})(window,function(){return function(n){var o={};function a(l){if(o[l])return o[l].exports;var s=o[l]={i:l,l:!1,exports:{}};return n[l].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=n,a.c=o,a.d=function(l,s,u){a.o(l,s)||Object.defineProperty(l,s,{enumerable:!0,get:u})},a.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},a.t=function(l,s){if(1&s&&(l=a(l)),8&s||4&s&&typeof l=="object"&&l&&l.__esModule)return l;var u=Object.create(null);if(a.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:l}),2&s&&typeof l!="string")for(var d in l)a.d(u,d,(function(f){return l[f]}).bind(null,d));return u},a.n=function(l){var s=l&&l.__esModule?function(){return l.default}:function(){return l};return a.d(s,"a",s),s},a.o=function(l,s){return Object.prototype.hasOwnProperty.call(l,s)},a.p="",a(a.s=4)}([function(n,o,a){var l=function(m,v){if(Array.isArray(m))return m;if(Symbol.iterator in Object(m))return function(g,h){var b=[],y=!0,k=!1,x=void 0;try{for(var S,_=g[Symbol.iterator]();!(y=(S=_.next()).done)&&(b.push(S.value),!h||b.length!==h);y=!0);}catch(O){k=!0,x=O}finally{try{!y&&_.return&&_.return()}finally{if(k)throw x}}return b}(m,v);throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=function(){function m(v,g){for(var h=0;h<g.length;h++){var b=g[h];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(v,b.key,b)}}return function(v,g,h){return g&&m(v.prototype,g),h&&m(v,h),v}}();function u(m){if(Array.isArray(m)){for(var v=0,g=Array(m.length);v<m.length;v++)g[v]=m[v];return g}return Array.from(m)}var d=a(2),f=function(m){function v(g){(function(b,y){if(!(b instanceof y))throw new TypeError("Cannot call a class as a function")})(this,v);var h=function(b,y){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||typeof y!="object"&&typeof y!="function"?b:y}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this));return h._messageId=1,h._messages=new Map,h._worker=g,h._worker.onmessage=h._onMessage.bind(h),h._id=Math.ceil(1e7*Math.random()),h}return function(g,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);g.prototype=Object.create(h&&h.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(g,h):g.__proto__=h)}(v,m),s(v,[{key:"terminate",value:function(){this._worker.terminate()}},{key:"isFree",value:function(){return this._messages.size===0}},{key:"jobsLength",value:function(){return this._messages.size}},{key:"exec",value:function(g){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,b=this,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],k=arguments[3];return new Promise(function(x,S){var _=b._messageId++;b._messages.set(_,[x,S,k]),b._worker.postMessage([_,h,g],y||[])})}},{key:"postMessage",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,h=this,b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],y=arguments[2];return new Promise(function(k,x){var S=h._messageId++;h._messages.set(S,[k,x,y]),h._worker.postMessage([S,g],b||[])})}},{key:"emit",value:function(g){for(var h=arguments.length,b=Array(h>1?h-1:0),y=1;y<h;y++)b[y-1]=arguments[y];this._worker.postMessage({eventName:g,args:b})}},{key:"_onMessage",value:function(g){var h;if(!Array.isArray(g.data)&&g.data.eventName)return(h=function S(_,O,j){_===null&&(_=Function.prototype);var z=Object.getOwnPropertyDescriptor(_,O);if(z===void 0){var K=Object.getPrototypeOf(_);return K===null?void 0:S(K,O,j)}if("value"in z)return z.value;var M=z.get;return M!==void 0?M.call(j):void 0}(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"emit",this)).call.apply(h,[this,g.data.eventName].concat(u(g.data.args)));var b,y=(b=g.data,Array.isArray(b)?b:Array.from(b)),k=y[0],x=y.slice(1);if(k===1)this._onEvent.apply(this,u(x));else{if(k!==0)throw new Error("Wrong message type '"+k+"'");this._onResult.apply(this,u(x))}}},{key:"_onResult",value:function(g,h,b){var y=this._messages.get(g),k=l(y,2),x=k[0],S=k[1];return this._messages.delete(g),h===1?x(b):S(b)}},{key:"_onEvent",value:function(g,h,b){var y=this._messages.get(g),k=l(y,3)[2];k&&k(h,b)}}]),v}(d);n.exports=f},function(n,o,a){n.exports=function(){return a(3)(`!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function a(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var f=r(1),c=0,l=1,s=0,y=1,p="main",b=function(e){return"object"===(void 0===e?"undefined":i(e))&&"function"==typeof e.then&&"function"==typeof e.catch};var v=function e(t,r){u(this,e),this.payload=t,this.transferable=r};e.exports=function(e){var t,r,i,h=(i=e,(r=p)in(t={})?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t),d=self.postMessage.bind(self),m=new(function(e){function t(){return u(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"emit",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return d({eventName:e,args:r}),this}},{key:"emitLocally",value:function(e){for(var r,n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];(r=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this)).call.apply(r,[this,e].concat(i))}},{key:"operation",value:function(e,t){return h[e]=t,this}}]),t}(f)),g=function(e,t,r){var n=function(t){t&&t instanceof v?w(e,y,t.payload,t.transferable):w(e,y,t)},o=function(t){w(e,s,{message:t.message,stack:t.stack})};try{var i=_(e,t,r);b(i)?i.then(n).catch(o):n(i)}catch(e){o(e)}},_=function(e,t,r){var n=h[r||p];if(!n)throw new Error("Not found handler for this request");return n(t,O.bind(null,e))},w=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];d([c,e,t,r],n)},O=function(e,t,r){if(!t)throw new Error("eventName is required");if("string"!=typeof t)throw new Error("eventName should be string");d([l,e,t,r])};return self.addEventListener("message",(function(e){var t=e.data;Array.isArray(t)?g.apply(void 0,a(t)):t&&t.eventName&&m.emitLocally.apply(m,[t.eventName].concat(a(t.args)))})),m},e.exports.TransferableResponse=v},function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,"__listeners",{value:{},enumerable:!1,writable:!1})}return n(e,[{key:"emit",value:function(e){if(!this.__listeners[e])return this;for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=!0,i=!1,a=void 0;try{for(var u,f=this.__listeners[e][Symbol.iterator]();!(o=(u=f.next()).done);o=!0){var c=u.value;c.apply(void 0,r)}}catch(e){i=!0,a=e}finally{try{!o&&f.return&&f.return()}finally{if(i)throw a}}return this}},{key:"once",value:function(e,t){var r=this,n=function n(){r.off(e,n),t.apply(void 0,arguments)};return this.on(e,n)}},{key:"on",value:function(e,t){return this.__listeners[e]||(this.__listeners[e]=[]),this.__listeners[e].push(t),this}},{key:"off",value:function(e,t){return this.__listeners[e]=t?this.__listeners[e].filter((function(e){return e!==t})):[],this}}]),e}();e.exports=o},function(e,t,r){"use strict";r.r(t);var n=r(0);r.n(n)()().operation("binary",async({blob:e,chunk:t})=>await function(e,t){return new Promise((r,n)=>{const o=new FileReader,i=t?Math.min(t,e.size):e.size,a=e.slice(0,i);o.onload=()=>r(o.result),o.onerror=n,o.readAsBinaryString(a)})}(e,t)).operation("buffer",async({blob:e,chunk:t})=>await function(e,t){return new Promise((r,n)=>{const o=new FileReader,i=t?Math.min(t,e.size):e.size,a=e.slice(0,i);o.onload=()=>r(o.result),o.onerror=n,o.readAsArrayBuffer(a)})}(e,t)).operation("compare",({buf1:e,buf2:t})=>(function(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;const r=new DataView(e),n=new DataView(t);for(var o=e.byteLength;o--;)if(r.getUint8(o)!==n.getUint8(o))return!1;return!0})(e,t))}]);`,null)}},function(n,o,a){var l=function(){function u(d,f){for(var m=0;m<f.length;m++){var v=f[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(d,v.key,v)}}return function(d,f,m){return f&&u(d.prototype,f),m&&u(d,m),d}}(),s=function(){function u(){(function(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")})(this,u),Object.defineProperty(this,"__listeners",{value:{},enumerable:!1,writable:!1})}return l(u,[{key:"emit",value:function(d){if(!this.__listeners[d])return this;for(var f=arguments.length,m=Array(f>1?f-1:0),v=1;v<f;v++)m[v-1]=arguments[v];var g=!0,h=!1,b=void 0;try{for(var y,k=this.__listeners[d][Symbol.iterator]();!(g=(y=k.next()).done);g=!0){var x=y.value;x.apply(void 0,m)}}catch(S){h=!0,b=S}finally{try{!g&&k.return&&k.return()}finally{if(h)throw b}}return this}},{key:"once",value:function(d,f){var m=this,v=function g(){m.off(d,g),f.apply(void 0,arguments)};return this.on(d,v)}},{key:"on",value:function(d,f){return this.__listeners[d]||(this.__listeners[d]=[]),this.__listeners[d].push(f),this}},{key:"off",value:function(d,f){return this.__listeners[d]=f?this.__listeners[d].filter(function(m){return m!==f}):[],this}}]),u}();n.exports=s},function(n,o,a){var l=window.URL||window.webkitURL;n.exports=function(s,u){try{try{var d;try{(d=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(s),d=d.getBlob()}catch{d=new Blob([s])}return new Worker(l.createObjectURL(d))}catch{return new Worker("data:application/javascript,"+encodeURIComponent(s))}}catch{if(!u)throw Error("Inline worker is not supported");return new Worker(u)}}},function(n,o,a){a.r(o);var l=a(0),s=a.n(l),u=a(1),d=a.n(u);a.d(o,"workersEnabled",function(){return f}),a.d(o,"default",function(){return m});let f=!!window.Worker;class m{static toBinaryStringWithWorker(g,h){return qt(this,null,function*(){let b=new s.a(new d.a),y=yield b.exec("binary",{blob:g,chunk:h});return b.terminate(),y})}static toBinaryStringWithoutWorker(g,h){return function(b,y){return new Promise((k,x)=>{let S=new FileReader,_=y?Math.min(y,b.size):b.size,O=b.slice(0,_);S.onload=()=>k(S.result),S.onerror=x,S.readAsBinaryString(O)})}(g,h)}static toBinaryString(g,h,b=!0){return b&&f?this.toBinaryStringWithWorker(g,h):this.toBinaryStringWithoutWorker(g,h)}static toArrayBufferWithWorker(g,h){return qt(this,null,function*(){let b=new s.a(new d.a),y=yield b.exec("buffer",{blob:g,chunk:h});return b.terminate(),y})}static toArrayBufferWithoutWorker(g,h){return function(b,y){return new Promise((k,x)=>{let S=new FileReader,_=y?Math.min(y,b.size):b.size,O=b.slice(0,_);S.onload=()=>k(S.result),S.onerror=x,S.readAsArrayBuffer(O)})}(g,h)}static toArrayBuffer(g,h,b=!0){return b&&f?this.toArrayBufferWithWorker(g,h):this.toArrayBufferWithoutWorker(g,h)}static compareBuffersWithWorker(g,h){return qt(this,null,function*(){if(g===h)return!0;let b=new s.a(new d.a),y=yield b.exec("compare",{buf1:g,buf2:h},[g,h]);return b.terminate(),y})}static compareBuffersWithoutWorker(g,h){return function(b,y){if(b===y)return!0;if(b.byteLength!==y.byteLength)return!1;let k=new DataView(b),x=new DataView(y);for(var S=b.byteLength;S--;)if(k.getUint8(S)!==x.getUint8(S))return!1;return!0}(g,h)}static compareBuffers(g,h,b=!0){return b&&f?this.compareBuffersWithWorker(g,h):this.compareBuffersWithoutWorker(g,h)}static sizeEqual(g,h){return g.size===h.size}static typeEqual(g,h){return g.type===h.type}static magicNumbersEqual(g,h,b=!0){return qt(this,null,function*(){if(g===h)return!0;let y=[24,16,14,12,8,6,4],[k,x]=yield Promise.all([this.toBinaryString(g,24,b),this.toBinaryString(h,24,b)]);for(let S of y)if(k.substring(0,S)===x.substring(0,S))return!0;return!1})}static bytesEqualWithBinaryString(g,h,b,y=!0){return qt(this,null,function*(){if(g===h)return!0;let[k,x]=yield Promise.all([this.toBinaryString(g,b,y),this.toBinaryString(h,b,y)]);return k===x})}static bytesEqualWithArrayBuffer(g,h,b,y=!0){return qt(this,null,function*(){if(g===h)return!0;let[k,x]=yield Promise.all([this.toArrayBuffer(g,b,y),this.toArrayBuffer(h,b,y)]);return this.compareBuffers(k,x,y)})}static isEqual(g,h){return qt(this,arguments,function*(b,y,{methods:k=["size","type","magic","byte"],byte:x="buffer",partial:S=!1,chunks:_=null,worker:O=!0}={}){let j=null;for(let z of k){if(j===!1||S&&j===!0)break;switch(z){case"byte":case"bytes":case"content":_=_ instanceof Array?_:[b.size],j=!0;for(let K of _){let M=!1;M=x==="buffer"?yield this.bytesEqualWithArrayBuffer(b,y,K,O):yield this.bytesEqualWithBinaryString(b,y,K,O),M||(j=!1)}break;case"magic":case"headers":case"numbers":case"mime":j=yield this.magicNumbersEqual(b,y,O);break;case"size":case"sizes":j=this.sizeEqual(b,y);break;case"type":case"types":j=this.typeEqual(b,y);break;default:throw new Error("Blob-compare : Unknown comparison method")}}return j})}}}])})}),qV={};p2(qV,{ToolbarDropdownSelect:()=>gie,default:()=>yie}),Ft.exports=pq(qV),Me(),V0();var $V=je;ra();var Jre=0,eoe=class{constructor(e){this._studio=e,et(this,"_id"),et(this,"_state",{type:"Ready"}),this._id=String(Jre++)}get status(){return this._state.type}reset(){let{_state:e}=this;if(e.type!=="Ready")if(e.type==="Captured")this._state={type:"Ready"},e.transaction.discard(),e.flagsTransaction.discard();else throw e.type==="Committed"?new Error("This scrub is already committed and can't be reset."):new Error("This scrub is already discarded and can't be reset.")}commit(){let{_state:e}=this;if(e.type==="Captured")e.transaction.commit(),e.flagsTransaction.discard(),this._state={type:"Committed"};else if(e.type==="Ready"){console.warn("Scrub is empty. Nothing to commit.");return}else throw e.type==="Committed"?new Error("This scrub is already committed."):new Error("This scrub is already discarded and can't be comitted.")}capture(e){if(this._state.type==="Captured"&&this.reset(),this._state.type==="Ready"){let t=!0;try{this._state=L({type:"Captured"},this._capture(e)),t=!1}finally{t&&(console.error("This scrub's callback threw an error. We're undo-ing all of the changes made by this scrub, and marking it as discarded."),this._state={type:"Discarded"})}}else throw this._state.type==="Committed"?new Error("This scrub is already committed and cannot capture again. If you wish to capture more, you can start a new studio.scrub() or do so before scrub.commit()"):new Error("This scrub is already discarded and cannot capture again. If you wish to capture more, you can start a new studio.scrub() or do so before scrub.discard()")}_capture(e){let t=[],n=this._studio.tempTransaction(a=>{let l=!0,s={set:(u,d)=>{if(!l)throw new Error("You seem to have called the scrub api after scrub.capture()");let{root:f,path:m}=(0,$V.getPointerParts)(u);if(!pr(f))throw new Error("We can only scrub props of Sheet Objects for now");a.set(u,d),t.push(u)}};try{e(s)}finally{l=!1}}),o=this._studio.tempTransaction(({stateEditors:a})=>{t.forEach(l=>{let{root:s,path:u}=(0,$V.getPointerParts)(l);if(!pr(s))return;let d=s.template.getDefaultsAtPointer(l);Rd(d,(f,m)=>{a.studio.ephemeral.projects.stateByProjectId.stateBySheetId.stateByObjectKey.propsBeingScrubbed.flag(he(L({},s.address),{pathToProp:m}))},u)})});return{transaction:n,flagsTransaction:o}}discard(){let{_state:e}=this;if(e.type==="Captured"||e.type==="Ready")e.type==="Captured"&&(e.transaction.discard(),e.flagsTransaction.discard()),this._state={type:"Discarded"};else throw e.type==="Committed"?new Error("This scrub is already committed and can't be discarded."):new Error("This scrub is already discarded")}},toe=je,LV=typeof window<"u"?Promise.resolve().then(()=>(Bre(),TV)).then(e=>e.default):null,noe=class{constructor(e){this.studio=e,et(this,"_rendered",!1),et(this,"_nonSSRBits",LV?LV.then(t=>new t):Promise.reject()),et(this,"ready",this._nonSSRBits.then(()=>{},()=>{}))}render(){this._rendered||(this._rendered=!0,this._nonSSRBits.then(e=>{e.render()}).catch(e=>{throw console.error(e),e}))}hide(){this.studio.transaction(({drafts:e})=>{e.ahistoric.visibilityState="everythingIsHidden"})}restore(){this.render(),this.studio.transaction(({drafts:e})=>{e.ahistoric.visibilityState="everythingIsVisible"})}get isHidden(){return(0,toe.val)(this.studio.atomP.ahistoric.visibilityState)==="everythingIsHidden"}renderToolset(e,t){let n=!1,o=null;return this._nonSSRBits.then(a=>{n||(o=a.renderToolset(e,t))}).catch(a=>{console.error(a)}),()=>{if(o){o();return}n||(n=!0)}}},pm=je;function roe(e){return e}var ooe=(e,t=roe)=>{let n=o=>({type:e,payload:t(o)});return n.type=e,n.is=o=>o&&o.type&&o.type===e,n},go=ooe,XV=$(Kre()),ZV=$(Yre());kf();var hm,ioe=new Uint8Array(16);function aoe(){if(!hm&&(hm=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!hm))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return hm(ioe)}var loe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function soe(e){return typeof e=="string"&&loe.test(e)}var uoe=soe,rn=[];for(mm=0;mm<256;++mm)rn.push((mm+256).toString(16).substr(1));var mm;function coe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(rn[e[t+0]]+rn[e[t+1]]+rn[e[t+2]]+rn[e[t+3]]+"-"+rn[e[t+4]]+rn[e[t+5]]+"-"+rn[e[t+6]]+rn[e[t+7]]+"-"+rn[e[t+8]]+rn[e[t+9]]+"-"+rn[e[t+10]]+rn[e[t+11]]+rn[e[t+12]]+rn[e[t+13]]+rn[e[t+14]]+rn[e[t+15]]).toLowerCase();if(!uoe(n))throw TypeError("Stringified UUID is invalid");return n}var doe=coe;function foe(e,t,n){e=e||{};var o=e.random||(e.rng||aoe)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,t){n=n||0;for(var a=0;a<16;++a)t[n+a]=o[a];return t}return doe(o)}var poe=foe,Xc={replaceHistory:go("@history/replaceHistory"),startHistoryFromScratch:go("@history/startHistoryFromScratch"),undo:go("@history/undo"),redo:go("@history/redo")},hoe={type:"@history/unknownAction",payload:""},moe={maxNumberOfCommits:100},goe=(e,t=moe)=>{let n=tw(e(void 0,hoe));return function(o,a){return Xc.startHistoryFromScratch.is(a)?tw(e(void 0,a.payload)):Xc.replaceHistory.is(a)?a.payload:Xc.undo.is(a)?o?boe(o):n:Xc.redo.is(a)?o?koe(o):n:o?voe(o,e(o.innerState,a),t):tw(e(void 0,a))}};function tw(e){return{currentCommitHash:void 0,commitsByHash:{},listOfCommitHashes:[],innerState:e}}function voe(e,t,n){if(t===e.innerState)return e;let o=yoe(e.innerState,t);if(o.forwardDiff.length===0)return e;let a=ua(e.listOfCommitHashes),l={currentCommitHash:o.hash,commitsByHash:L({},e.commitsByHash),listOfCommitHashes:[...e.listOfCommitHashes],innerState:t};if(e.currentCommitHash!==a){let s=e.listOfCommitHashes.findIndex(u=>u===e.currentCommitHash);e.listOfCommitHashes.slice(s+1).forEach(u=>{delete l.commitsByHash[u]}),l.listOfCommitHashes.splice(s+1,l.listOfCommitHashes.length)}if(l.listOfCommitHashes.push(o.hash),l.commitsByHash[o.hash]=o,l.listOfCommitHashes.length>n.maxNumberOfCommits){let s=l.listOfCommitHashes.length-n.maxNumberOfCommits;l.listOfCommitHashes.slice(0,s).forEach(u=>{delete l.commitsByHash[u]}),l.listOfCommitHashes.splice(0,s)}return l}function yoe(e,t){let n=XV.default.diff(e,t,{invertible:!1}),o=XV.default.diff(t,e,{invertible:!1}),a=Date.now(),l=poe();return{forwardDiff:n,backwardDiff:o,timestamp:a,hash:l}}function boe(e){if(e.currentCommitHash===void 0)return e;let t=e.listOfCommitHashes.findIndex(s=>s===e.currentCommitHash);if(t===-1)throw new Error("This should never happen");let n=e.commitsByHash[e.currentCommitHash],o=(0,ZV.default)(e.innerState,n.backwardDiff),a=t-1,l=a===-1?void 0:e.listOfCommitHashes[a];return he(L({},e),{currentCommitHash:l,innerState:o})}function koe(e){if(e.listOfCommitHashes.length===0)return e;let t=e.listOfCommitHashes.findIndex(s=>s===e.currentCommitHash);if(t===e.listOfCommitHashes.length-1)return e;let n=t+1,o=e.listOfCommitHashes[n],a=e.commitsByHash[o],l=(0,ZV.default)(e.innerState,a.forwardDiff);return he(L({},e),{currentCommitHash:o,innerState:l})}Zh();var gm={ahistoric:{visibilityState:"everythingIsVisible",theTrigger:{position:{closestCorner:"bottomLeft",distanceFromHorizontalEdge:.02,distanceFromVerticalEdge:.02}},coreByProject:{},projects:{stateByProjectId:{}}},historic:{projects:{stateByProjectId:{}},autoKey:!0,coreByProject:{},panelInstanceDesceriptors:{}},ephemeral:{initialised:!1,coreByProject:{},projects:{stateByProjectId:{}},extensions:{byId:{},paneClasses:{}},showOutline:!1}},GV=go("@storeBundle/replacePersistentState",e=>e),YV=go("@storeBundle/reduceParts",e=>e),Ss={historic:Xc,replacePersistentState:GV,reduceParts:YV},QV=go("@storeBundle/setInnerHistoricState",e=>e),woe=(e=gm.historic,t)=>QV.is(t)?t.payload:e,nw=goe(woe),JV=(e,t)=>{if(GV.is(t)){let{historic:n,ahistoric:o}=t.payload,a=(e==null?void 0:e.ephemeral)||gm.ephemeral;return{$persistent:{historic:n,ahistoric:o},ephemeral:a}}else if(e){let{historic:n,ahistoric:o}=e.$persistent,{ephemeral:a}=e;if(YV.is(t)){let l={historic:e.$persistent.historic.innerState,ahistoric:e.$persistent.ahistoric,ephemeral:e.ephemeral},s=t.payload(l);if(s===l)return e;n.innerState!==s.historic&&(n=nw(n,QV(s.historic))),o=s.ahistoric,a=s.ephemeral}else{let l=nw(n,t);if(l===n)return e;n=l}return{$persistent:n===e.$persistent.historic&&o===e.$persistent.ahistoric?e.$persistent:{historic:n,ahistoric:o},ephemeral:a}}else{let n=nw(void 0,{}),o=gm.ahistoric,a=gm.ephemeral;return{$persistent:{historic:n,ahistoric:o},ephemeral:a}}},eK=go("@history/pushTempAction",e=>e),tK=go("@history/discardTempAction",e=>e),nK=go("@history/commitTempAction",e=>e),xoe=0,Soe=()=>{let e=xoe++;return{push:t=>eK({id:e,originalAction:t}),discard:()=>tK(e),commit:()=>nK(e)}},Eoe=(e,t)=>{if(e){let{tempActions:n,permanent:o}=e.$temps,a;if(eK.is(t))n=[...n,t];else if(nK.is(t)){let s=n.find(u=>u.payload.id===t.payload);s?(a=s.payload.originalAction,n=n.filter(u=>u.payload.id!==t.payload)):Xh.error("Comitting temp action group ".concat(t.payload," isn't possible as this group doesn't exist"))}else tK.is(t)?n=n.filter(s=>s.payload.id!==t.payload):a=t;a&&(o=JV(e.$temps.permanent,a));let l={historic:o.$persistent.historic.innerState,ahistoric:o.$persistent.ahistoric,ephemeral:o.ephemeral};for(let s of n)l=s.payload.originalAction.payload(l);return L({$temps:{tempActions:n,permanent:o},$persistent:o.$persistent},l)}else{let n=JV(void 0,t);return{$temps:{permanent:n,tempActions:[]},$persistent:n.$persistent,historic:n.$persistent.historic.innerState,ahistoric:n.$persistent.ahistoric,ephemeral:n.ephemeral}}};ro(),ro(),Ao();function rK(e,t){if(typeof e!="object"||e===null)return;if(t.length===0){for(let s of Object.keys(e))delete e[s];return}let n=t.slice(0,t.length-1),o=e,a=new WeakMap;for(let s of n){let u=o,d=u[s];if(typeof d!="object"||d===null)return;a.set(d,u),o=d}let l=t.slice().reverse();for(let s of l){if(delete o[s],Object.keys(o).length>0)return;o=a.get(o)}}function _oe(e,{scale:t,origin:n,translate:o}){let a=n+(e-n)*t;return o+a}function zr(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(a){return"'"+a+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Es(e){return!!e&&!!e[Wn]}function Qa(e){return!!e&&(function(t){if(!t||typeof t!="object")return!1;var n=Object.getPrototypeOf(t);if(n===null)return!0;var o=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return o===Object||typeof o=="function"&&Function.toString.call(o)===zoe}(e)||Array.isArray(e)||!!e[pK]||!!e.constructor[pK]||ow(e)||iw(e))}function Zc(e,t,n){n===void 0&&(n=!1),_s(e)===0?(n?Object.keys:vw)(e).forEach(function(o){n&&typeof o=="symbol"||t(o,e[o],e)}):e.forEach(function(o,a){return t(a,o,e)})}function _s(e){var t=e[Wn];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:ow(e)?2:iw(e)?3:0}function rw(e,t){return _s(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Poe(e,t){return _s(e)===2?e.get(t):e[t]}function oK(e,t,n){var o=_s(e);o===2?e.set(t,n):o===3?(e.delete(t),e.add(n)):e[t]=n}function Coe(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function ow(e){return Ooe&&e instanceof Map}function iw(e){return Toe&&e instanceof Set}function Ja(e){return e.o||e.t}function aw(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Doe(e);delete t[Wn];for(var n=vw(t),o=0;o<n.length;o++){var a=n[o],l=t[a];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(t[a]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[a]})}return Object.create(Object.getPrototypeOf(e),t)}function lw(e,t){return t===void 0&&(t=!1),sw(e)||Es(e)||!Qa(e)||(_s(e)>1&&(e.set=e.add=e.clear=e.delete=Ioe),Object.freeze(e),t&&Zc(e,function(n,o){return lw(o,!0)},!0)),e}function Ioe(){zr(2)}function sw(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function qo(e){var t=Aoe[e];return t||zr(18,e),t}function iK(){return Gc}function uw(e,t){t&&(qo("Patches"),e.u=[],e.s=[],e.v=t)}function vm(e){cw(e),e.p.forEach(joe),e.p=null}function cw(e){e===Gc&&(Gc=e.l)}function aK(e){return Gc={p:[],l:Gc,h:e,m:!0,_:0}}function joe(e){var t=e[Wn];t.i===0||t.i===1?t.j():t.O=!0}function dw(e,t){t._=t.p.length;var n=t.p[0],o=e!==void 0&&e!==n;return t.h.g||qo("ES5").S(t,e,o),o?(n[Wn].P&&(vm(t),zr(4)),Qa(e)&&(e=ym(t,e),t.l||bm(t,e)),t.u&&qo("Patches").M(n[Wn],e,t.u,t.s)):e=ym(t,n,[]),vm(t),t.u&&t.v(t.u,t.s),e!==fK?e:void 0}function ym(e,t,n){if(sw(t))return t;var o=t[Wn];if(!o)return Zc(t,function(l,s){return lK(e,o,t,l,s,n)},!0),t;if(o.A!==e)return t;if(!o.P)return bm(e,o.t,!0),o.t;if(!o.I){o.I=!0,o.A._--;var a=o.i===4||o.i===5?o.o=aw(o.k):o.o;Zc(o.i===3?new Set(a):a,function(l,s){return lK(e,o,a,l,s,n)}),bm(e,a,!1),n&&e.u&&qo("Patches").R(o,n,e.u,e.s)}return o.o}function lK(e,t,n,o,a,l){if(Es(a)){var s=ym(e,a,l&&t&&t.i!==3&&!rw(t.D,o)?l.concat(o):void 0);if(oK(n,o,s),!Es(s))return;e.m=!1}if(Qa(a)&&!sw(a)){if(!e.h.F&&e._<1)return;ym(e,a),t&&t.A.l||bm(e,a)}}function bm(e,t,n){n===void 0&&(n=!1),e.h.F&&e.m&&lw(t,n)}function fw(e,t){var n=e[Wn];return(n?Ja(n):e)[t]}function sK(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var o=Object.getOwnPropertyDescriptor(n,t);if(o)return o;n=Object.getPrototypeOf(n)}}function pw(e){e.P||(e.P=!0,e.l&&pw(e.l))}function hw(e){e.o||(e.o=aw(e.t))}function mw(e,t,n){var o=ow(t)?qo("MapSet").N(t,n):iw(t)?qo("MapSet").T(t,n):e.g?function(a,l){var s=Array.isArray(a),u={i:s?1:0,A:l?l.A:iK(),P:!1,I:!1,D:{},l,t:a,k:null,o:null,j:null,C:!1},d=u,f=wm;s&&(d=[u],f=xm);var m=Proxy.revocable(d,f),v=m.revoke,g=m.proxy;return u.k=g,u.j=v,g}(t,n):qo("ES5").J(t,n);return(n?n.A:iK()).p.push(o),o}function km(e){return Es(e)||zr(22,e),function t(n){if(!Qa(n))return n;var o,a=n[Wn],l=_s(n);if(a){if(!a.P&&(a.i<4||!qo("ES5").K(a)))return a.t;a.I=!0,o=uK(n,l),a.I=!1}else o=uK(n,l);return Zc(o,function(s,u){a&&Poe(a.t,s)===u||oK(o,s,t(u))}),l===3?new Set(o):o}(e)}function uK(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return aw(e)}var cK,Gc,gw=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Ooe=typeof Map<"u",Toe=typeof Set<"u",dK=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",fK=gw?Symbol.for("immer-nothing"):((cK={})["immer-nothing"]=!0,cK),pK=gw?Symbol.for("immer-draftable"):"__$immer_draftable",Wn=gw?Symbol.for("immer-state"):"__$immer_state",zoe=""+Object.prototype.constructor,vw=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Doe=Object.getOwnPropertyDescriptors||function(e){var t={};return vw(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},Aoe={},wm={get:function(e,t){if(t===Wn)return e;var n=Ja(e);if(!rw(n,t))return function(a,l,s){var u,d=sK(l,s);return d?"value"in d?d.value:(u=d.get)===null||u===void 0?void 0:u.call(a.k):void 0}(e,n,t);var o=n[t];return e.I||!Qa(o)?o:o===fw(e.t,t)?(hw(e),e.o[t]=mw(e.A.h,o,e)):o},has:function(e,t){return t in Ja(e)},ownKeys:function(e){return Reflect.ownKeys(Ja(e))},set:function(e,t,n){var o=sK(Ja(e),t);if(o!=null&&o.set)return o.set.call(e.k,n),!0;if(!e.P){var a=fw(Ja(e),t),l=a==null?void 0:a[Wn];if(l&&l.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(Coe(n,a)&&(n!==void 0||rw(e.t,t)))return!0;hw(e),pw(e)}return e.o[t]===n&&typeof n!="number"&&(n!==void 0||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return fw(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,hw(e),pw(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Ja(e),o=Reflect.getOwnPropertyDescriptor(n,t);return o&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:o.enumerable,value:n[t]}},defineProperty:function(){zr(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){zr(12)}},xm={};Zc(wm,function(e,t){xm[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),xm.deleteProperty=function(e,t){return wm.deleteProperty.call(this,e[0],t)},xm.set=function(e,t,n){return wm.set.call(this,e[0],t,n,e[0])};var Boe=function(){function e(n){var o=this;this.g=dK,this.F=!0,this.produce=function(a,l,s){if(typeof a=="function"&&typeof l!="function"){var u=l;l=a;var d=o;return function(h){var b=this;h===void 0&&(h=u);for(var y=arguments.length,k=Array(y>1?y-1:0),x=1;x<y;x++)k[x-1]=arguments[x];return d.produce(h,function(S){var _;return(_=l).call.apply(_,[b,S].concat(k))})}}var f;if(typeof l!="function"&&zr(6),s!==void 0&&typeof s!="function"&&zr(7),Qa(a)){var m=aK(o),v=mw(o,a,void 0),g=!0;try{f=l(v),g=!1}finally{g?vm(m):cw(m)}return typeof Promise<"u"&&f instanceof Promise?f.then(function(h){return uw(m,s),dw(h,m)},function(h){throw vm(m),h}):(uw(m,s),dw(f,m))}if(!a||typeof a!="object")return(f=l(a))===fK?void 0:(f===void 0&&(f=a),o.F&&lw(f,!0),f);zr(21,a)},this.produceWithPatches=function(a,l){return typeof a=="function"?function(d){for(var f=arguments.length,m=Array(f>1?f-1:0),v=1;v<f;v++)m[v-1]=arguments[v];return o.produceWithPatches(d,function(g){return a.apply(void 0,[g].concat(m))})}:[o.produce(a,l,function(d,f){s=d,u=f}),s,u];var s,u},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){Qa(n)||zr(8),Es(n)&&(n=km(n));var o=aK(this),a=mw(this,n,void 0);return a[Wn].C=!0,cw(o),a},t.finishDraft=function(n,o){var a=n&&n[Wn],l=a.A;return uw(l,o),dw(void 0,l)},t.setAutoFreeze=function(n){this.F=n},t.setUseProxies=function(n){n&&!dK&&zr(20),this.g=n},t.applyPatches=function(n,o){var a;for(a=o.length-1;a>=0;a--){var l=o[a];if(l.path.length===0&&l.op==="replace"){n=l.value;break}}var s=qo("Patches").$;return Es(n)?s(n,o):this.produce(n,function(u){return s(u,o.slice(a+1))})},e}(),Hn=new Boe;Hn.produce,Hn.produceWithPatches.bind(Hn),Hn.setAutoFreeze.bind(Hn),Hn.setUseProxies.bind(Hn),Hn.applyPatches.bind(Hn);var yw=Hn.createDraft.bind(Hn),bw=Hn.finishDraft.bind(Hn);bZ(),IZ(),$Z(),ov(),ZZ(),$h(),Rt(),ra();var Dr={create(e){let t={byId:{},allIds:{}};if(e)for(let[n,o]of e)t.byId[n]=o,t.allIds[n]=!0;return t},shallowCopy(e){return{byId:L({},e==null?void 0:e.byId),allIds:L({},e==null?void 0:e.allIds)}},add(e,t,n){return{byId:he(L({},e==null?void 0:e.byId),{[t]:n}),allIds:he(L({},e==null?void 0:e.allIds),{[t]:!0})}},merge(e){let t=Dr.create();for(let n=0;n<e.length;n++)t.byId=L(L({},t.byId),e[n].byId),t.allIds=L(L({},t.allIds),e[n].allIds);return t},remove(e,t){let n=Dr.shallowCopy(e);return delete n.allIds[t],delete n.byId[t],n},filter(e,t){let n=Dr.shallowCopy(e);for(let[o,a]of Object.entries(n.byId))t(a)||(delete n.allIds[o],delete n.byId[o]);return n}},hK=e=>(kw=e,ww),kw,on=()=>{if(kw===void 0)throw new Error("Calling stateEditors outside of a transaction is not allowed.");return kw},ww;(e=>{(t=>{(n=>{(o=>{function a(l){let s=on().historic;s.panelPositions!=null||(s.panelPositions={}),s.panelPositions[l.panelId]=l.position}o.setPanelPosition=a})(n.panelPositions||(n.panelPositions={})),(o=>{function a(){var l;return(l=on().historic).panels!=null||(l.panels={}),on().historic.panels}o._ensure=a,(l=>{function s(){let u=e.studio.historic.panels._ensure();return u.outlinePanel!=null||(u.outlinePanel={}),u.outlinePanel}l._ensure=s,(u=>{function d(m){let v=[];for(let g of li(m))K0(g)?v.push(L({type:"Project"},g.address)):Ud(g)?(v.push(L({type:"Sheet"},g.template.address)),e.studio.historic.projects.stateByProjectId.stateBySheetId.setSelectedInstanceId(g.address)):y2(g)?v.push(L({type:"Sheet"},g.address)):pr(g)?(v.push(L({type:"SheetObject"},g.template.address)),e.studio.historic.projects.stateByProjectId.stateBySheetId.setSelectedInstanceId(g.sheet.address)):b2(g)&&v.push(L({type:"SheetObject"},g.address));l._ensure().selection=v}u.set=d;function f(){l._ensure().selection=[]}u.unset=f})(l.selection||(l.selection={}))})(o.outline||(o.outline={})),(l=>{function s(){let u=e.studio.historic.panels._ensure();return u.sequenceEditor!=null||(u.sequenceEditor={}),u.sequenceEditor}l._ensure=s,(u=>{function d(){let m=l._ensure();return m.graphEditor!=null||(m.graphEditor={height:.5,isOpen:!1}),m.graphEditor}function f(m){d().isOpen=m.isOpen}u.setIsOpen=f})(l.graphEditor||(l.graphEditor={}))})(o.sequenceEditor||(o.sequenceEditor={}))})(n.panels||(n.panels={})),(o=>{(a=>{function l(s){let u=on().historic;return u.projects.stateByProjectId[s.projectId]||(u.projects.stateByProjectId[s.projectId]={stateBySheetId:{}}),u.projects.stateByProjectId[s.projectId]}a._ensure=l,(s=>{function u(f){let m=e.studio.historic.projects.stateByProjectId._ensure(f);return m.stateBySheetId[f.sheetId]||(m.stateBySheetId[f.sheetId]={selectedInstanceId:void 0,sequenceEditor:{selectedPropsByObject:{}}}),m.stateBySheetId[f.sheetId]}s._ensure=u;function d(f){e.studio.historic.projects.stateByProjectId.stateBySheetId._ensure(f).selectedInstanceId=f.sheetInstanceId}s.setSelectedInstanceId=d,(f=>{function m(k){let{selectedPropsByObject:x}=s._ensure(k).sequenceEditor;x[k.objectKey]||(x[k.objectKey]={});let S=x[k.objectKey],_=no(k.pathToProp),O=new Set(Object.keys(Fc));for(let[z,K]of Object.entries(km(x)))for(let[M,N]of Object.entries(K))O.delete(N);let j=O.size>0?O.values().next().value:Object.keys(Fc)[0];S[_]=j}f.addPropToGraphEditor=m;function v(k){let{selectedPropsByObject:x}=s._ensure(k).sequenceEditor;if(!x[k.objectKey])return;let S=x[k.objectKey],_=no(k.pathToProp);S[_]&&rK(x,[k.objectKey,_])}f.removePropFromGraphEditor=v;function g(k){let x=e.studio.historic.projects.stateByProjectId.stateBySheetId._ensure(k).sequenceEditor;return x.markerSet||(x.markerSet=Dr.create()),x.markerSet}function h(k){let x=g(k.sheetAddress),S=k.markers.filter(z=>!!isFinite(z.position)).map(z=>he(L({},z),{position:k.snappingFunction(z.position)})),_=yu(S,"id"),O=Dr.filter(x,z=>z&&!_[z.id]),j=yu(Object.values(O.byId),"position");S.forEach(({position:z})=>{let K=j[z];K&&(O=Dr.remove(O,K.id))}),Object.assign(x,Dr.merge([O,Dr.create(S.map(z=>[z.id,z]))]))}f.replaceMarkers=h;function b(k){let x=g(k.sheetAddress);Object.assign(x,Dr.remove(x,k.markerId))}f.removeMarker=b;function y(k){let x=g(k.sheetAddress).byId[k.markerId];x!==void 0&&(x.label=k.label)}f.updateMarker=y})(s.sequenceEditor||(s.sequenceEditor={}))})(a.stateBySheetId||(a.stateBySheetId={}))})(o.stateByProjectId||(o.stateByProjectId={}))})(n.projects||(n.projects={}))})(t.historic||(t.historic={})),(n=>{function o(a){on().ephemeral.showOutline=a}n.setShowOutline=o,(a=>{(l=>{function s(u){let d=on().ephemeral;return d.projects.stateByProjectId[u.projectId]||(d.projects.stateByProjectId[u.projectId]={stateBySheetId:{}}),d.projects.stateByProjectId[u.projectId]}l._ensure=s,(u=>{function d(f){let m=e.studio.ephemeral.projects.stateByProjectId._ensure(f);return m.stateBySheetId[f.sheetId]||(m.stateBySheetId[f.sheetId]={stateByObjectKey:{}}),m.stateBySheetId[f.sheetId]}u._ensure=d,(f=>{function m(v){var g;let h=e.studio.ephemeral.projects.stateByProjectId.stateBySheetId._ensure(v).stateByObjectKey;return h[g=v.objectKey]!=null||(h[g]={}),h[v.objectKey]}f._ensure=m,(v=>{function g(b){let y=e.studio.ephemeral.projects.stateByProjectId.stateBySheetId.stateByObjectKey._ensure(b);return y.valuesBeingScrubbed!=null||(y.valuesBeingScrubbed={}),y.valuesBeingScrubbed}v._ensure=g;function h(b){Il(g(b),b.pathToProp,!0)}v.flag=h})(f.propsBeingScrubbed||(f.propsBeingScrubbed={}))})(u.stateByObjectKey||(u.stateByObjectKey={}))})(l.stateBySheetId||(l.stateBySheetId={}))})(a.stateByProjectId||(a.stateByProjectId={}))})(n.projects||(n.projects={}))})(t.ephemeral||(t.ephemeral={})),(n=>{function o(d){on().ahistoric.pinOutline=d}n.setPinOutline=o;function a(d){on().ahistoric.pinDetails=d}n.setPinDetails=a;function l(d){on().ahistoric.pinNotifications=d}n.setPinNotifications=l;function s(d){on().ahistoric.visibilityState=d}n.setVisibilityState=s;function u(d){let f=ih(d.map(g=>g.pathToProp)),m=d.map(({keyframe:g,pathToProp:h})=>({keyframe:g,pathToProp:h.slice(f.length)})),v=on();v.ahistoric.clipboard?v.ahistoric.clipboard.keyframesWithRelativePaths=m:v.ahistoric.clipboard={keyframesWithRelativePaths:m}}n.setClipboardKeyframes=u,(d=>{(f=>{function m(v){let g=on().ahistoric;return g.projects.stateByProjectId[v.projectId]||(g.projects.stateByProjectId[v.projectId]={stateBySheetId:{}}),g.projects.stateByProjectId[v.projectId]}f._ensure=m,(v=>{function g(b){let y=e.studio.ahistoric.projects.stateByProjectId._ensure(b);return y.collapsedItemsInOutline||(y.collapsedItemsInOutline={}),y.collapsedItemsInOutline}v._ensure=g;function h(b){let y=e.studio.ahistoric.projects.stateByProjectId.collapsedItemsInOutline._ensure(b);b.isCollapsed?y[b.itemKey]=!0:delete y[b.itemKey]}v.set=h})(f.collapsedItemsInOutline||(f.collapsedItemsInOutline={})),(v=>{function g(h){let b=e.studio.ahistoric.projects.stateByProjectId._ensure(h);return b.stateBySheetId[h.sheetId]||(b.stateBySheetId[h.sheetId]={}),b.stateBySheetId[h.sheetId]}v._ensure=g,(h=>{function b(y){let k=e.studio.ahistoric.projects.stateByProjectId.stateBySheetId._ensure(y);return k.sequence||(k.sequence={}),k.sequence}h._ensure=b,(y=>{function k(S){e.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(S).focusRange={range:S.range,enabled:S.enabled}}y.set=k;function x(S){e.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(S).focusRange=void 0}y.unset=x})(h.focusRange||(h.focusRange={})),(y=>{function k(x){e.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(x).clippedSpaceRange=L({},x.range)}y.set=k})(h.clippedSpaceRange||(h.clippedSpaceRange={})),(y=>{function k(S){let _=e.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(S),O=_.collapsableItems;return O||(O=_.collapsableItems=Dr.create()),O}function x(S){let _=k(S);Object.assign(_,Dr.add(_,S.studioSheetItemKey,{isCollapsed:S.isCollapsed}))}y.set=x})(h.sequenceEditorCollapsableItems||(h.sequenceEditorCollapsableItems={}))})(v.sequence||(v.sequence={}))})(f.stateBySheetId||(f.stateBySheetId={}))})(d.stateByProjectId||(d.stateByProjectId={}))})(n.projects||(n.projects={}))})(t.ahistoric||(t.ahistoric={}))})(e.studio||(e.studio={})),(t=>{(n=>{(o=>{function a(l){let s=on().historic.coreByProject[l.projectId].revisionHistory,u=50;s.unshift(l.revision),s.length>u&&(s.length=u)}o.add=a})(n.revisionHistory||(n.revisionHistory={})),(o=>{function a(u){let d=on().historic.coreByProject[u.projectId].sheetsById;return d[u.sheetId]||(d[u.sheetId]={staticOverrides:{byObject:{}}}),d[u.sheetId]}o._ensure=a;function l(u){let d=on().historic.coreByProject[u.projectId].sheetsById[u.sheetId];if(!d)return;delete d.staticOverrides.byObject[u.objectKey];let f=d.sequence;f&&delete f.tracksByObject[u.objectKey]}o.forgetObject=l;function s(u){on().historic.coreByProject[u.projectId].sheetsById[u.sheetId]&&delete on().historic.coreByProject[u.projectId].sheetsById[u.sheetId]}o.forgetSheet=s,(u=>{function d(M){let N=e.coreByProject.historic.sheetsById._ensure(M);return N.sequence!=null||(N.sequence={subUnitsPerUnit:30,length:10,type:"PositionalSequence",tracksByObject:{}}),N.sequence}u._ensure=d;function f(M){d(M).length=xt(parseFloat(M.length.toFixed(2)),.01,1/0)}u.setLength=f;function m(M){var N;let Z=e.coreByProject.historic.sheetsById.sequence._ensure(M).tracksByObject;return Z[N=M.objectKey]!=null||(Z[N]={trackData:{},trackIdByPropPath:{}}),Z[M.objectKey]}function v(M,N){let Z=m(M),le=no(M.pathToProp);if(typeof Z.trackIdByPropPath[le]=="string")return;let D=UJ(),X={type:"BasicKeyframedTrack",__debugName:"".concat(M.objectKey,":").concat(le),keyframes:[]};Z.trackData[D]=X,Z.trackIdByPropPath[le]=D}u.setPrimitivePropAsSequenced=v;function g(M){let N=m(M),Z=no(M.pathToProp),le=N.trackIdByPropPath[Z];typeof le=="string"&&(delete N.trackIdByPropPath[Z],delete N.trackData[le],e.coreByProject.historic.sheetsById.staticOverrides.byObject.setValueOfPrimitiveProp(M))}u.setPrimitivePropAsStatic=g;function h(M){let N=m(M);for(let Z of Object.keys(N.trackIdByPropPath)){let le=JSON.parse(Z);if(M.pathToProp.every((D,X)=>le[X]===D)){let D=N.trackIdByPropPath[Z];if(typeof D!="string")continue;delete N.trackIdByPropPath[Z],delete N.trackData[D]}}e.coreByProject.historic.sheetsById.staticOverrides.byObject.setValueOfCompoundProp(M)}u.setCompoundPropAsStatic=h;function b(M){return m(M).trackData[M.trackId]}function y(M){let N=b(M);if(N)return N.keyframes.find(Z=>Z.id===M.keyframeId)}function k(M){let N=M.snappingFunction(M.position),Z=b(M);if(!Z)return;let{keyframes:le}=Z,D=le.findIndex(Q=>Q.position===N);if(D!==-1){let Q=le[D];Q.value=M.value;return}let X=w5(le,Q=>Q.position<N);if(X===-1){le.unshift({id:m8(),position:N,connectedRight:!0,handles:M.handles||[.5,1,.5,0],type:M.type||"bezier",value:M.value});return}let C=le[X];le.splice(X+1,0,{id:m8(),position:N,connectedRight:C.connectedRight,handles:M.handles||[.5,1,.5,0],type:M.type||"bezier",value:M.value})}u.setKeyframeAtPosition=k;function x(M){let N=b(M);if(!N)return;let{keyframes:Z}=N,le=Z.findIndex(D=>D.position===M.position);le!==-1&&Z.splice(le,1)}u.unsetKeyframeAtPosition=x;function S(M){let N=b(M);if(!N)return;let Z=km(N.keyframes).filter(le=>M.keyframeIds.includes(le.id)).map(le=>{let D=le.position,X=M.snappingFunction(_oe(D,M));return he(L({},le),{position:X})});K(he(L({},M),{keyframes:Z}))}u.transformKeyframes=S;function _(M){let N=b(M);N&&(N.keyframes=N.keyframes.map((Z,le)=>{let D=N.keyframes[le-1],X=M.keyframeIds.includes(Z.id),C=M.keyframeIds.includes(D==null?void 0:D.id);return X&&!C?he(L({},Z),{handles:[Z.handles[0],Z.handles[1],M.handles[0],M.handles[1]]}):X&&C?he(L({},Z),{handles:[M.handles[2],M.handles[3],M.handles[0],M.handles[1]]}):C?he(L({},Z),{handles:[M.handles[2],M.handles[3],Z.handles[2],Z.handles[3]]}):Z}))}u.setTweenBetweenKeyframes=_;function O(M){var N,Z,le,D,X,C,Q,xe;let H=y(M);H&&(H.handles=[(Z=(N=M.end)==null?void 0:N[0])!=null?Z:H.handles[0],(D=(le=M.end)==null?void 0:le[1])!=null?D:H.handles[1],(C=(X=M.start)==null?void 0:X[0])!=null?C:H.handles[2],(xe=(Q=M.start)==null?void 0:Q[1])!=null?xe:H.handles[3]])}u.setHandlesForKeyframe=O;function j(M){let N=b(M);N&&(N.keyframes=N.keyframes.filter(Z=>M.keyframeIds.indexOf(Z.id)===-1))}u.deleteKeyframes=j;function z(M){let N=y(M);N&&(N.type=M.keyframeType)}u.setKeyframeType=z;function K(M){let N=b(M);if(!N)return;let Z=km(N.keyframes),le=M.keyframes.filter(xe=>!(typeof xe.value=="number"&&!isFinite(xe.value)||!xe.handles.every(H=>isFinite(H)))).map(xe=>he(L({},xe),{position:M.snappingFunction(xe.position)})),D=yu(le,"id"),X=Z.filter(xe=>!D[xe.id]),C=yu(X,"position");le.forEach(({position:xe})=>{let H=C[xe];H&&R5(X,H)});let Q=W5([...X,...le],"position");N.keyframes=Q}u.replaceKeyframes=K})(o.sequence||(o.sequence={})),(u=>{(d=>{function f(h){var b;let y=e.coreByProject.historic.sheetsById._ensure(h).staticOverrides.byObject;return y[b=h.objectKey]!=null||(y[b]={}),y[h.objectKey]}function m(h){let b=f(h);Il(b,h.pathToProp,h.value)}d.setValueOfCompoundProp=m;function v(h){let b=f(h);Il(b,h.pathToProp,h.value)}d.setValueOfPrimitiveProp=v;function g(h){let b=e.coreByProject.historic.sheetsById._ensure(h).staticOverrides.byObject[h.objectKey];b&&rK(b,h.pathToProp)}d.unsetValueOfPrimitiveProp=g})(u.byObject||(u.byObject={}))})(o.staticOverrides||(o.staticOverrides={}))})(n.sheetsById||(n.sheetsById={}))})(t.historic||(t.historic={}))})(e.coreByProject||(e.coreByProject={}))})(ww||(ww={}));function xw(){let e,t,n=new Promise((a,l)=>{e=s=>{a(s),o.status="resolved"},t=s=>{l(s),o.status="rejected"}}),o={resolve:e,reject:t,promise:n,status:"pending"};return o}var Moe=je;function Noe(e){let t=e.getState(),n=new Moe.Atom(t);return e.subscribe(()=>{let o=e.getState();n.set(o),t=o}),n}T_();function Foe(e){var t,n=e.Symbol;return typeof n=="function"?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}var Yc;typeof self<"u"?Yc=self:typeof window<"u"?Yc=window:typeof Zn<"u"?Yc=Zn:Yc=Ft;var Roe=Foe(Yc),mK=Roe,gK={INIT:"@@redux/INIT"};function vK(e,t,n){var o;if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error("Expected the enhancer to be a function.");return n(vK)(e,t)}if(typeof e!="function")throw new Error("Expected the reducer to be a function.");var a=e,l=t,s=[],u=s,d=!1;function f(){u===s&&(u=s.slice())}function m(){return l}function v(y){if(typeof y!="function")throw new Error("Expected listener to be a function.");var k=!0;return f(),u.push(y),function(){if(k){k=!1,f();var x=u.indexOf(y);u.splice(x,1)}}}function g(y){if(!ff(y))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(typeof y.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(d)throw new Error("Reducers may not dispatch actions.");try{d=!0,l=a(l,y)}finally{d=!1}for(var k=s=u,x=0;x<k.length;x++){var S=k[x];S()}return y}function h(y){if(typeof y!="function")throw new Error("Expected the nextReducer to be a function.");a=y,g({type:gK.INIT})}function b(){var y,k=v;return y={subscribe:function(x){if(typeof x!="object")throw new TypeError("Expected the observer to be an object.");function S(){x.next&&x.next(m())}S();var _=k(S);return{unsubscribe:_}}},y[mK]=function(){return this},y}return g({type:gK.INIT}),o={dispatch:g,subscribe:v,getState:m,replaceReducer:h},o[mK]=b,o}function Uoe(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(o){return o}:t.length===1?t[0]:t.reduce(function(o,a){return function(){return o(a.apply(void 0,arguments))}})}function Voe(e){let t=Uoe();return vK(e.rootReducer,void 0,t)}Zh(),g5();var Sw=new WeakMap,Koe=(e,t,n)=>{let o=d=>{e.dispatch(Ss.replacePersistentState(d))},a=yK(n),l=()=>e.getState().$persistent;u();let s=()=>{let d=l(),f=Sw.get(e);d!==f&&(Sw.set(e,d),localStorage.setItem(a,JSON.stringify(d)))};e.subscribe(ev(s,1e3)),window&&window.addEventListener("beforeunload",s);function u(){let d=localStorage.getItem(a);if(d){let f,m=!0;try{f=JSON.parse(d),m=!1}catch{Xh.warn("Could not parse Theatre's persisted state. This must be a bug. Please report it.")}finally{m||o(f),t()}}else t()}},Woe=(e,t)=>{let n=yK(t),o=e.getState().$persistent;localStorage.removeItem(n),Sw.set(e,o)};function yK(e){return e+".persistent"}_T(),ra(),hu(),V0(),Ip();var Sm=je;mi(),Rt(),cU();function Ew(e){if(typeof e=="boolean"||typeof e=="string"||typeof e=="number")return e;if(ff(e)){let t={},n=!1;for(let[o,a]of Object.entries(e))Ew(a)!==void 0&&(t[o]=a,n=!0);if(n)return t}else return}function bK(e,t,n){for(let[o,a]of Object.entries(e.props))if(a.type==="compound")bK(a,[...t,o],n);else{if(a.type==="enum")throw new Error("Not yet implemented");n(a,[...t,o])}}function Hoe(e,t,n){return{set:(o,a)=>{e();let l=Ew(a);if(typeof l>"u")return;let{root:s,path:u}=(0,Sm.getPointerParts)(o);if(pr(s)){let d=s.template.getMapOfValidSequenceTracks_forStudio().getValue(),f=Sp(s.template.staticConfig,u);if(!f)throw new Error("Object ".concat(s.address.objectKey," does not have a prop at ").concat(JSON.stringify(u)));let m=(v,g,h)=>{if(v==null)return;if(Ew(g.deserializeAndSanitize(v))===void 0)throw new Error("Invalid value ".concat(Ak(v)," for object.props").concat(h.map(k=>"[".concat(JSON.stringify(k),"]")).join("")," is invalid"));let b=he(L({},s.address),{pathToProp:h}),y=la(d,h);if(typeof y=="string"){let k=s.sheet.getSequence();k.position=k.closestGridPosition(k.position),t.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(he(L({},b),{trackId:y,position:k.position,value:v,snappingFunction:k.closestGridPosition,type:"bezier"}))}else t.coreByProject.historic.sheetsById.staticOverrides.byObject.setValueOfPrimitiveProp(he(L({},b),{value:v}))};if(f.type==="compound"){let v=(0,Sm.getPointerParts)(o).path,g=v.length;bK(f,v,(h,b)=>{let y=b.slice(g),k=vi(l,y);if(typeof k<"u")m(k,h,b);else throw new Error("Property object.props".concat(b.map(x=>"[".concat(JSON.stringify(x),"]")).join("")," is required but not provided"))})}else{if(f.type==="enum")throw new Error("Enums aren't implemented yet");m(l,f,u)}}else throw new Error("Only setting props of SheetObject-s is supported in a transaction so far")},unset:o=>{e();let{root:a,path:l}=(0,Sm.getPointerParts)(o);if(pr(a)){let s=a.template.getMapOfValidSequenceTracks_forStudio().getValue(),u=vi(a.template.getDefaultValues().getValue(),l),d=Sp(a.template.staticConfig,l),f=(m,v)=>{let g=he(L({},a.address),{pathToProp:v}),h=la(s,v);typeof h=="string"?t.coreByProject.historic.sheetsById.sequence.unsetKeyframeAtPosition(he(L({},g),{trackId:h,position:a.sheet.getSequence().positionSnappedToGrid})):d!==void 0&&t.coreByProject.historic.sheetsById.staticOverrides.byObject.unsetValueOfPrimitiveProp(g)};d.type==="compound"?Rd(u,(m,v)=>{f(m,v)},(0,Sm.getPointerParts)(o).path):f(u,l)}else throw new Error("Only setting props of SheetObject-s is supported in a transaction so far")},get drafts(){return e(),n},get stateEditors(){return t}}}var qoe=class{constructor(){et(this,"_reduxStore"),et(this,"_atom"),et(this,"atomP"),this._reduxStore=Voe({rootReducer:Eoe,devtoolsOptions:{name:"Theatre.js Studio"}}),this._atom=Noe(this._reduxStore),this.atomP=this._atom.pointer}initialize(e){let t=xw();return e.usePersistentStorage===!0?Koe(this._reduxStore,()=>{this.tempTransaction(({drafts:n})=>{n.ephemeral.initialised=!0}).commit(),t.resolve()},e.persistenceKey):(this.tempTransaction(({drafts:n})=>{n.ephemeral.initialised=!0}).commit(),t.resolve()),t.promise}getState(){return this._reduxStore.getState()}__experimental_clearPersistentStorage(e){return Woe(this._reduxStore,e),this.getState()}__dev_startHistoryFromScratch(e){this._reduxStore.dispatch(Ss.historic.startHistoryFromScratch(Ss.reduceParts(t=>he(L({},t),{historic:e}))))}tempTransaction(e){let t=Soe(),n,o=t.push(Ss.reduceParts(a=>{let l={historic:yw(a.historic),ahistoric:yw(a.ahistoric),ephemeral:yw(a.ephemeral)},s=!0,u=()=>{if(!s)throw new Error("You seem to have called the transaction api after studio.transaction() has finished running")},d=hK(l),f=Hoe(u,d,l);try{return e(f),s=!1,{historic:bw(l.historic),ahistoric:bw(l.ahistoric),ephemeral:bw(l.ephemeral)}}catch(m){return n=m,a}finally{hK(void 0)}}));if(this._reduxStore.dispatch(o),n)throw this._reduxStore.dispatch(t.discard()),n;return{commit:()=>{this._reduxStore.dispatch(t.commit())},discard:()=>{this._reduxStore.dispatch(t.discard())}}}undo(){this._reduxStore.dispatch(Ss.historic.undo())}redo(){this._reduxStore.dispatch(Ss.historic.redo())}createContentOfSaveFile(e){if(!this._reduxStore.getState().$persistent.historic.innerState.coreByProject[e])throw new Error("Project ".concat(e," has not been initialized."));let t=ET();this.tempTransaction(({stateEditors:o})=>{o.coreByProject.historic.revisionHistory.add({projectId:e,revision:t})}).commit();let n=this._reduxStore.getState().$persistent.historic.innerState.coreByProject[e];return L({},n)}},$oe=je,_w=class{constructor(){et(this,"_values",{})}get(e,t){if(this.has(e))return this._values[e];{let n=t();return this._values[e]=n,n}}has(e){return this._values.hasOwnProperty(e)}};ra(),di(),Me(),Rt(),Ok();var Loe=class{constructor(e){et(this,"ui",{hide(){de().ui.hide()},get isHidden(){return de().ui.isHidden},restore(){de().ui.restore()},renderToolset(t,n){return de().ui.renderToolset(t,n)}}),et(this,"_cache",new _w),et(this,"__experimental",{__experimental_disblePlayPauseKeyboardShortcut(){Qne()},__experimental_enablePlayPauseKeyboardShortcut(){Jne()},__experimental_clearPersistentStorage(t){return de().clearPersistentStorage(t)},__experimental_createContentOfSaveFileTyped(t){return de().createContentOfSaveFile(t)}})}initialize(e){return de().initialize(e)}extend(e,t){de().extend(e,t)}transaction(e){return de().transaction(({set:t,unset:n,stateEditors:o})=>e({set:t,unset:n,__experimental_forgetObject:a=>{if(!H0(a))throw new Error("object in transactionApi.__experimental_forgetObject(object) must be the return type of sheet.object(...)");o.coreByProject.historic.sheetsById.forgetObject(a.address)},__experimental_forgetSheet:a=>{if(!W0(a))throw new Error("sheet in transactionApi.__experimental_forgetSheet(sheet) must be the return type of project.sheet()");o.coreByProject.historic.sheetsById.forgetSheet(a.address)}}))}_getSelectionPrism(){return this._cache.get("_getSelectionPrism()",()=>(0,$oe.prism)(()=>ci().filter(e=>e.type==="Theatre_SheetObject"||e.type==="Theatre_Sheet").map(e=>e.publicApi)))}_getSelection(){return this._getSelectionPrism().getValue()}setSelection(e){let t=[...e].filter(n=>H0(n)||W0(n)).map(n=>de().corePrivateAPI(n));de().transaction(({stateEditors:n})=>{n.studio.historic.panels.outline.selection.set(t)})}onSelectionChange(e){let t=de();return this._getSelectionPrism().onChange(t.ticker,e,!0)}get selection(){return this._getSelection()}scrub(){return de().scrub()}getStudioProject(){let e=de().core;if(!e)throw new Error("You're calling studio.getStudioProject() before `@theatre/core` is loaded. To fix this:\n1. Check if `@theatre/core` is import/required in your bundle.\n2. Check the stack trace of this error and make sure the funciton that calls getStudioProject() is run after `@theatre/core` is loaded.");return de().getStudioProject(e)}debouncedScrub(e=1e3){let t,n=ev(()=>{let o=t;o&&(t=void 0,o.commit())},e);return{capture:o=>{t||(t=this.scrub());let a=!0;try{t.capture(o),a=!1}finally{if(a){let l=t;t=void 0,l.discard()}else n()}}}}createPane(e){return de().paneManager.createPane(e)}destroyPane(e){return de().paneManager.destroyPane(e)}createContentOfSaveFile(e){return de().createContentOfSaveFile(e)}};h8();var el=je,Xoe=class{constructor(e){this._studio=e,et(this,"_cache",new _w),this._instantiatePanesAsTheyComeIn()}_instantiatePanesAsTheyComeIn(){let e=this._getAllPanes();e.onStale(()=>{e.getValue()})}_getAllPanes(){return this._cache.get("_getAllPanels()",()=>(0,el.prism)(()=>{if(!(0,el.val)(this._studio.coreP))return{};let e=(0,el.val)(this._studio.atomP.historic.panelInstanceDesceriptors),t=(0,el.val)(this._studio.atomP.ephemeral.extensions.paneClasses),n={};for(let o of Object.values(e)){if(!o)continue;let a=t[o.paneClass];if(!a)continue;let{instanceId:l}=o,{extensionId:s,classDefinition:u}=a,d=el.prism.memo("instance-".concat(o.instanceId),()=>({extensionId:s,instanceId:l,definition:u}),[u]);n[l]=d}return n}))}get allPanesD(){return this._getAllPanes()}createPane(e){if(!this._studio.core)throw new Error("Can't create a pane because @theatre/core is not yet loaded");let t=(0,el.val)(this._studio.atomP.ephemeral.extensions.paneClasses[e].extensionId),n=(0,el.val)(this._studio.atomP.historic.panelInstanceDesceriptors),o;for(let a=1;a<1e3&&(o="".concat(e," #").concat(a),!!n[o]);a++);if(!t)throw new Error('Pane class "'.concat(e,'" is not registered.'));return this._studio.transaction(({drafts:a})=>{a.historic.panelInstanceDesceriptors[o]={instanceId:o,paneClass:e}}),this._getAllPanes().getValue()[o]}destroyPane(e){if(!this._studio.core)throw new Error("Can't do this yet because @theatre/core is not yet loaded");this._studio.transaction(({drafts:t})=>{delete t.historic.panelInstanceDesceriptors[e]})}},Em=je;Me();var kK=30*60*1e3,Zoe=1e3*60*60;function Goe(){return qt(this,null,function*(){let e=de().atomP.ahistoric.visibilityState;if((0,Em.val)(e)==="everythingIsVisible")return;let t=xw(),n=(0,Em.pointerToPrism)(e).onStale(()=>{(0,Em.val)(e)==="everythingIsVisible"&&(n(),t.resolve(void 0))});return t.promise})}function Yoe(){return qt(this,null,function*(){if(!"0.7.0".match(/COMPAT/))for(yield _m(500),yield Goe();;){let e=(0,Em.val)(de().atomP.ahistoric.updateChecker);if(e&&e.result!=="error"){let t=e.lastChecked,n=Date.now(),o=Math.abs(n-t);o<kK&&(yield _m(kK-o))}try{let t=yield fetch(new Request("https://updates.theatrejs.com/updates/0.7.0"));if(t.ok){let n=yield t.json();if(!Qoe(n))throw new Error("Bad response");de().transaction(({drafts:o})=>{o.ahistoric.updateChecker={lastChecked:Date.now(),result:L({},n)}}),yield _m(1e3)}else throw new Error("HTTP Error ".concat(t.statusText))}catch{yield _m(Zoe)}}})}var _m=e=>new Promise(t=>setTimeout(t,e));function Qoe(e){if(typeof e!="object")return!1;let t=e;return typeof t.hasUpdates!="boolean"?!1:t.hasUpdates===!0&&typeof t.newVersion=="string"&&typeof t.releasePage=="string"||t.hasUpdates===!1}var Joe=$(J5());function $o(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function wK(e,t){let n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);let o=$o(n);return(a,l)=>o.then(s=>l(s.transaction(t,a).objectStore(t)))}var Pw;function Ps(){return Pw||(Pw=wK("keyval-store","keyval")),Pw}function eie(e,t=Ps()){return t("readonly",n=>$o(n.get(e)))}function tie(e,t,n=Ps()){return n("readwrite",o=>(o.put(t,e),$o(o.transaction)))}function nie(e,t=Ps()){return t("readwrite",n=>(n.delete(e),$o(n.transaction)))}function Cw(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},$o(e.transaction)}function rie(e=Ps()){return e("readonly",t=>{if(t.getAllKeys)return $o(t.getAllKeys());let n=[];return Cw(t,o=>n.push(o.key)).then(()=>n)})}function oie(e=Ps()){return e("readonly",t=>{if(t.getAll)return $o(t.getAll());let n=[];return Cw(t,o=>n.push(o.value)).then(()=>n)})}function iie(e=Ps()){return e("readonly",t=>{if(t.getAll&&t.getAllKeys)return Promise.all([$o(t.getAllKeys()),$o(t.getAll())]).then(([o,a])=>o.map((l,s)=>[l,a[s]]));let n=[];return e("readonly",o=>Cw(o,a=>n.push([a.key,a.value])).then(()=>n))})}var aie=e=>{let t=wK("theatrejs-".concat(e),"default-store");return{set:(n,o)=>tie(n,o,t),get:n=>eie(n,t),del:n=>nie(n,t),keys:()=>rie(t),entries:()=>iie(t),values:()=>oie(t)}};Zz(),bc();var xK="theatre-0.4",lie=`You seem to have imported '@theatre/studio' but haven't initialized it. You can initialize the studio by:
\`\`\`
import studio from '@theatre/studio'
studio.initialize()
\`\`\`

* If you didn't mean to import '@theatre/studio', this means that your bundler is not tree-shaking it. This is most likely a bundler misconfiguration.

* If you meant to import '@theatre/studio' without showing its UI, you can do that by running:

\`\`\`
import studio from '@theatre/studio'
studio.initialize()
studio.ui.hide()
\`\`\`
`,sie="You seem to have imported '@theatre/studio' but called `studio.initialize()` after some delay.\nTheatre.js projects remain in pending mode (won't play their sequences) until the studio is initialized, so you should place the `studio.initialize()` line right after the import line:\n\n```\nimport studio from '@theatre/studio'\n// ... and other imports\n\nstudio.initialize()\n```\n",uie=class{constructor(){et(this,"ui"),et(this,"publicApi"),et(this,"address"),et(this,"_projectsProxy",new pm.PointerProxy(new pm.Atom({}).pointer)),et(this,"projectsP",this._projectsProxy.pointer),et(this,"_store",new qoe),et(this,"_corePrivateApi"),et(this,"_cache",new _w),et(this,"paneManager"),et(this,"_coreAtom",new pm.Atom({})),et(this,"_initializedDeferred",xw()),et(this,"_initializeFnCalled",!1),et(this,"_didWarnAboutNotInitializing",!1),et(this,"_coreBits"),et(this,"_rafDriver"),this.address={studioId:ac(10)},this.publicApi=new Loe(this),this.ui=new noe(this),this._attachToIncomingProjects(),this.paneManager=new Xoe(this),typeof window<"u"&&setTimeout(()=>{this._initializeFnCalled||(console.error(lie),this._didWarnAboutNotInitializing=!0)},100)}get ticker(){if(!this._rafDriver)throw new Error("`studio.ticker` was read before studio.initialize() was called.");return this._rafDriver.ticker}get atomP(){return this._store.atomP}initialize(e){return qt(this,null,function*(){if(!this._coreBits)throw new Error("You seem to have imported `@theatre/studio` without importing `@theatre/core`. Make sure to include an import of `@theatre/core` before calling `studio.initializer()`.");if(this._initializeFnCalled)return this._initializedDeferred.promise;this._initializeFnCalled=!0,this._didWarnAboutNotInitializing&&console.warn(sie);let t={persistenceKey:xK,usePersistentStorage:!0};if(typeof(e==null?void 0:e.persistenceKey)=="string"&&(t.persistenceKey=e.persistenceKey),((e==null?void 0:e.usePersistentStorage)===!1||typeof window>"u")&&(t.usePersistentStorage=!1),e!=null&&e.__experimental_rafDriver){if(e.__experimental_rafDriver.type!=="Theatre_RafDriver_PublicAPI")throw new Error("parameter `rafDriver` in `studio.initialize({__experimental_rafDriver})` must be either be undefined, or the return type of core.createRafDriver()");let n=this._coreBits.privateAPI(e.__experimental_rafDriver);if(!n)throw new Error("parameter `rafDriver` in `studio.initialize({__experimental_rafDriver})` seems to come from a different version of `@theatre/core` than the version that is attached to `@theatre/studio`");this._rafDriver=n}else this._rafDriver=this._coreBits.getCoreRafDriver();try{yield this._store.initialize(t)}catch(n){this._initializedDeferred.reject(n);return}typeof window<"u"&&(yield this.ui.ready),this._initializedDeferred.resolve(),this.ui.render(),Yoe().catch(n=>{console.error(n)})})}get initialized(){return this._initializedDeferred.promise}_attachToIncomingProjects(){let e=(0,pm.pointerToPrism)(this.projectsP),t=n=>{for(let o of Object.values(n))o.isAttachedToStudio||o.attachToStudio(this)};e.onStale(()=>{t(e.getValue())}),t(e.getValue())}setCoreBits(e){this._coreBits=e,this._corePrivateApi=e.privateAPI,this._coreAtom.setByPointer(t=>t.core,e.coreExports),this._setProjectsP(e.projectsP)}_setProjectsP(e){this._projectsProxy.setPointer(e)}scrub(){return new eoe(this)}tempTransaction(e){return this._store.tempTransaction(e)}transaction(e){return this.tempTransaction(e).commit()}__dev_startHistoryFromScratch(e){return this._store.__dev_startHistoryFromScratch(e)}get corePrivateAPI(){return this._corePrivateApi}get core(){return this._coreAtom.get().core}get coreP(){return this._coreAtom.pointer.core}extend(e,t){if(!e||typeof e!="object")throw new Error("Extensions must be JS objects");if(typeof e.id!="string")throw new Error("extension.id must be a string");let n=(t==null?void 0:t.__experimental_reconfigure)===!0,o=e.id,a=this._store.getState().ephemeral.extensions.byId[o];if(a&&!n){if(e===a||(0,Joe.default)(e,a))return;throw new Error('Extension id "'.concat(e.id,'" is already defined. If you mean to re-configure the extension, do it like this: studio.extend(extension, {__experimental_reconfigure: true})})'))}this.transaction(({drafts:l})=>{var s,u;l.ephemeral.extensions.byId[e.id]=e;let d=l.ephemeral.extensions.paneClasses;n&&a&&((s=a.panes)==null||s.forEach(f=>{delete d[f.class]})),(u=e.panes)==null||u.forEach(f=>{if(typeof f.class!="string")throw new Error("pane.class must be a string");if(f.class.length<3)throw new Error("pane.class should be a string with 3 or more characters");let m=d[f.class];if(m)if(n&&m.extensionId===e.id)console.warn('Pane class "'.concat(f.class,'" already exists. This is a bug in Theatre.js. Please report it at https://github.com/theatre-js/theatre/issues/new'));else throw new Error('Pane class "'.concat(f.class,'" already exists and is supplied by extension ').concat(m));d[f.class]={extensionId:e.id,classDefinition:f}})})}getStudioProject(e){return this._cache.get("getStudioProject",()=>e.getProject("Studio"))}getExtensionSheet(e,t){return this._cache.get("extensionSheet-"+e,()=>this.getStudioProject(t).sheet("Extension "+e))}undo(){this._store.undo()}redo(){this._store.redo()}createContentOfSaveFile(e){return this._store.createContentOfSaveFile(e)}createAssetStorage(e,t){return qt(this,null,function*(){if(typeof window>"u")return{getAssetUrl:()=>"",createAsset:()=>Promise.resolve(null)};if(!("indexedDB"in window))return console.log("This browser doesn't support IndexedDB."),{getAssetUrl:f=>{throw new Error("IndexedDB is required by the default asset manager, but it's not supported by this browser. To use assets, please provide your own asset manager to the project config.")},createAsset:f=>{throw new Error("IndexedDB is required by the default asset manager, but it's not supported by this browser. To use assets, please provide your own asset manager to the project config.")}};let n=aie("".concat(e.address.projectId,"-assets")),o=F1(e),a=yield n.keys();yield Promise.all(a.map(f=>qt(this,null,function*(){o.includes(f)||(yield n.del(f))}))),yield Promise.all(a.map(f=>qt(this,null,function*(){var m,v;let g="".concat(t,"/").concat(f);try{(yield fetch(g,{method:"HEAD"})).ok&&(yield n.del(f))}catch{yc.error("Failed to access assets","Failed to access assets at ".concat((v=(m=e.config.assets)==null?void 0:m.baseUrl)!=null?v:"/",". This is likely due to a CORS issue."))}})));let l=new Map(yield n.entries()),s=new Map,u=f=>{if(s.has(f))return s.get(f);{let m=URL.createObjectURL(f);return s.set(f,m),m}},d=f=>{let m=l.get(f);if(!m)throw new Error("Asset with id ".concat(f," not found"));return u(m)};return{getAssetUrl:f=>l.has(f)?d(f):"".concat(t,"/").concat(f),createAsset:f=>qt(this,null,function*(){var m,v,g;let h=F1(e),b=!1;if(h.includes(f.name)){let y;try{y=(m=l.get(f.name))!=null?m:yield fetch("".concat(t,"/").concat(f.name)).then(k=>k.ok?k.blob():void 0)}catch{return yc.error("Failed to access assets","Failed to access assets at ".concat((g=(v=e.config.assets)==null?void 0:v.baseUrl)!=null?g:"/",". This is likely due to a CORS issue.")),Promise.resolve(null)}if(y){if(b=yield(yield Promise.resolve().then(()=>$(Qre()))).default.isEqual(f,y),b)return f.name;{let k=x=>{let S=prompt(x,f.name);return S===null?!1:S===""?k("Asset name cannot be empty. Please choose a different file name for this asset."):h.includes(S)?(console.log(h),k("An asset with this name already exists. Please choose a different file name for this asset.")):(f=new File([f],S,{type:f.type}),!0)};if(!k("An asset with this name already exists. Please choose a different file name for this asset."))return null}}}return l.set(f.name,f),yield n.set(f.name,f),f.name})}})}clearPersistentStorage(e=xK){this._store.__experimental_clearPersistentStorage(e)}},Iw="__TheatreJS_StudioBundle",cie="__TheatreJS_CoreBundle",die="__TheatreJS_Notifications",fie=class{constructor(e){this._studio=e,et(this,"_coreBundle")}get type(){return"Theatre_StudioBundle"}registerCoreBundle(e){if(this._coreBundle)throw new Error("StudioBundle.coreBundle is already registered. This is a bug.");this._coreBundle=e;let t;e.getBitsForStudio(this._studio,n=>{t=n}),this._studio.setCoreBits(t)}},pie=$(G());be();var SK,hie=U.div(SK||(SK=F([""]))),mie=e=>pie.default.createElement(hie,null),gie=mie;bc();var jw=new uie;gq(jw);var vie=jw.publicApi,yie=vie;bie();function bie(){if(typeof window>"u")return;let e=window[Iw];if(typeof e<"u")throw typeof e=="object"&&e&&typeof e.version=="string"?new Error(`It seems that the module '@theatre/studio' is loaded more than once. This could have two possible causes:
1. You might have two separate versions of Theatre.js in node_modules.
2. Or this might be a bundling misconfiguration, in case you're using a bundler like Webpack/ESBuild/Rollup.

Note that it **is okay** to import '@theatre/studio' multiple times. But those imports should point to the same module.`):new Error("The variable window.".concat(Iw," seems to be already set by a module other than @theatre/core."));let t=new fie(jw);window[Iw]=t;let n=window[cie];n&&n!==null&&n.type==="Theatre_CoreBundle"&&t.registerCoreBundle(n)}typeof window<"u"&&(window[die]={notify:yc});/*! Bundled license information:

	lodash-es/lodash.js:
	  (**
	   * @license
	   * Lodash (Custom Build) <https://lodash.com/>
	   * Build: `lodash modularize exports="es" -o ./`
	   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
	   * Released under MIT license <https://lodash.com/license>
	   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
	   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
	   *)

	queue-microtask/index.js:
	  (*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

	react/cjs/react.production.min.js:
	  (**
	   * @license React
	   * react.production.min.js
	   *
	   * Copyright (c) Facebook, Inc. and its affiliates.
	   *
	   * This source code is licensed under the MIT license found in the
	   * LICENSE file in the root directory of this source tree.
	   *)

	scheduler/cjs/scheduler.production.min.js:
	  (**
	   * @license React
	   * scheduler.production.min.js
	   *
	   * Copyright (c) Facebook, Inc. and its affiliates.
	   *
	   * This source code is licensed under the MIT license found in the
	   * LICENSE file in the root directory of this source tree.
	   *)

	react-dom/cjs/react-dom.production.min.js:
	  (**
	   * @license React
	   * react-dom.production.min.js
	   *
	   * Copyright (c) Facebook, Inc. and its affiliates.
	   *
	   * This source code is licensed under the MIT license found in the
	   * LICENSE file in the root directory of this source tree.
	   *)

	react-is/cjs/react-is.production.min.js:
	  (** @license React v17.0.2
	   * react-is.production.min.js
	   *
	   * Copyright (c) Facebook, Inc. and its affiliates.
	   *
	   * This source code is licensed under the MIT license found in the
	   * LICENSE file in the root directory of this source tree.
	   *)

	react-is/cjs/react-is.production.min.js:
	  (** @license React v16.13.1
	   * react-is.production.min.js
	   *
	   * Copyright (c) Facebook, Inc. and its affiliates.
	   *
	   * This source code is licensed under the MIT license found in the
	   * LICENSE file in the root directory of this source tree.
	   *)

	jszip/dist/jszip.min.js:
	  (*!
	  
	  JSZip v3.10.1 - A JavaScript class for generating and reading zip files
	  <http://stuartk.com/jszip>
	  
	  (c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
	  Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.
	  
	  JSZip uses the library pako released under the MIT license :
	  https://github.com/nodeca/pako/blob/main/LICENSE
	  *)

	jiff/lib/lcs.js:
	  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

	jiff/lib/array.js:
	  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

	jiff/lib/jsonPointerParse.js:
	  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

	jiff/lib/jsonPointer.js:
	  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

	jiff/lib/clone.js:
	  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

	jiff/lib/jsonPatch.js:
	  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

	jiff/jiff.js:
	  (** @license MIT License (c) copyright 2010-2014 original author or authors *)
	*/})(M0,M0.exports);var Ele=M0.exports;const dq=xle(Ele);function _le(Ft){let Wt;const ti=Ft[2].default,Ht=ple(ti,Ft,Ft[1],null);return{c(){Ht&&Ht.c()},l(kt){Ht&&Ht.l(kt)},m(kt,fr){Ht&&Ht.m(kt,fr),Wt=!0},p(kt,[fr]){Ht&&Ht.p&&(!Wt||fr&2)&&hle(Ht,ti,kt,kt[1],Wt?gle(ti,kt[1],fr,null):mle(kt[1]),null)},i(kt){Wt||(ble(Ht,kt),Wt=!0)},o(kt){kle(Ht,kt),Wt=!1},d(kt){Ht&&Ht.d(kt)}}}dq.initialize();cq.set(dq);function Ple(Ft,Wt,ti){let{$$slots:Ht={},$$scope:kt}=Wt,{hide:fr}=Wt;const Nd=Sle(fr);return wle([cq,Nd],([un,N0])=>(N0?un==null||un.ui.hide():un==null||un.ui.restore(),()=>{un==null||un.ui.hide()})),Ft.$$set=un=>{"hide"in un&&ti(0,fr=un.hide),"$$scope"in un&&ti(1,kt=un.$$scope)},Ft.$$.update=()=>{Ft.$$.dirty&1&&Nd.set(fr)},[fr,kt,Ht]}class zle extends vle{constructor(Wt){super(),yle(this,Wt,Ple,_le,fle,{hide:0})}}export{zle as default};
